<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta
  http-equiv="Content-Type"
  content="text/html; charset=UTF-8"
/>

<title>YAML Ain’t Markup Language (YAML™) revision 1.3.0</title>


  
    <link
  rel="stylesheet"
  type="text/css"
  href="/assets/css/style.css"
/>

  

  <link
  rel="stylesheet"
  type="text/css"

  href="../../spec.css"

/>


  <link
  rel="icon"
  href="/favicon.svg"
/>

</head>

<body class="status-">

<main id="content" class="main-content" role="main">



<h1 id="yaml-aint-markup-language-yaml-version-13">YAML Ain’t Markup Language (YAML™) version 1.3</h1>

<h2 class="subtitle" id="revision-130-2021-10-15">Revision 1.3.0 (2021-10-15)</h2>

<p>Copyright presently by YAML Language Development Team<sup id="fnref:team" role="doc-noteref"><a href="#fn:team" class="footnote" rel="footnote">1</a></sup><br />
Copyright 2001-2009 by Oren Ben-Kiki, Clark Evans, Ingy döt Net</p>

<p>This document may be freely copied, provided it is not modified.</p>

<p><strong>Status of this Document</strong></p>

<p>This is the <strong>YAML specification v1.3.0</strong>.
It defines the <strong>YAML 1.3 data language</strong>.</p>

<p>The YAML specification is often seen as overly complicated for something which
appears to be so simple.
Even though YAML often is used for software configuration, it has always been
and will continue to be a complete data serialization language.
Future YAML plans are focused on making the language and ecosystem more
powerful and reliable while simultaneously simplifying the development process
for implementers.</p>

<p>In addition to this specification, there is companion documentation intended to
guide YAML framework implementers and YAML language users.
This documentation can continue to evolve and expand continually between
published revisions of this specification.</p>

<p>See:</p>

<ul>
  <li><a href="ext/resources">YAML Resources Index</a></li>
  <li><a href="ext/glossary">YAML Vocabulary Glossary</a></li>
  <li><a href="ext/changes">YAML Specification Changes</a></li>
  <li><a href="ext/errata">YAML Specification Errata</a></li>
</ul>

<p><strong>Abstract</strong></p>

<p>YAML™ (rhymes with “camel”) is a human-friendly, cross language, Unicode based
data serialization language designed around the common native data types of
dynamic programming languages.
It is broadly useful for programming needs ranging from configuration files to
internet messaging to object persistence to data auditing and visualization.
Together with the Unicode standard for characters<sup id="fnref:unicode" role="doc-noteref"><a href="#fn:unicode" class="footnote" rel="footnote">2</a></sup>, this specification
provides all the information necessary to understand YAML version 1.3 and to
create programs that process YAML information.</p>

<p><strong>Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#yaml-aint-markup-language-yaml-version-13" id="markdown-toc-yaml-aint-markup-language-yaml-version-13">YAML Ain’t Markup Language (YAML™) version 1.3</a>    <ul>
      <li><a href="#revision-130-2021-10-15" id="markdown-toc-revision-130-2021-10-15">Revision 1.3.0 (2021-10-15)</a></li>
    </ul>
  </li>
  <li><a href="#chapter-1-introduction-to-yaml" id="markdown-toc-chapter-1-introduction-to-yaml">Chapter 1. Introduction to YAML</a>    <ul>
      <li><a href="#11-goals" id="markdown-toc-11-goals">1.1. Goals</a></li>
      <li><a href="#12-yaml-history" id="markdown-toc-12-yaml-history">1.2. YAML History</a></li>
      <li><a href="#13-terminology" id="markdown-toc-13-terminology">1.3. Terminology</a></li>
    </ul>
  </li>
  <li><a href="#chapter-2-language-overview" id="markdown-toc-chapter-2-language-overview">Chapter 2. Language Overview</a>    <ul>
      <li><a href="#21-collections" id="markdown-toc-21-collections">2.1. Collections</a></li>
      <li><a href="#22-structures" id="markdown-toc-22-structures">2.2. Structures</a></li>
      <li><a href="#23-scalars" id="markdown-toc-23-scalars">2.3. Scalars</a></li>
      <li><a href="#24-tags" id="markdown-toc-24-tags">2.4. Tags</a></li>
      <li><a href="#25-full-length-example" id="markdown-toc-25-full-length-example">2.5. Full Length Example</a></li>
    </ul>
  </li>
  <li><a href="#chapter-3-processes-and-models" id="markdown-toc-chapter-3-processes-and-models">Chapter 3. Processes and Models</a>    <ul>
      <li><a href="#31-processes" id="markdown-toc-31-processes">3.1. Processes</a>        <ul>
          <li><a href="#311-dump" id="markdown-toc-311-dump">3.1.1. Dump</a></li>
          <li><a href="#312-load" id="markdown-toc-312-load">3.1.2. Load</a></li>
        </ul>
      </li>
      <li><a href="#32-information-models" id="markdown-toc-32-information-models">3.2. Information Models</a>        <ul>
          <li><a href="#321-representation-graph" id="markdown-toc-321-representation-graph">3.2.1. Representation Graph</a>            <ul>
              <li><a href="#3211-nodes" id="markdown-toc-3211-nodes">3.2.1.1. Nodes</a></li>
              <li><a href="#3212-tags" id="markdown-toc-3212-tags">3.2.1.2. Tags</a></li>
              <li><a href="#3213-node-comparison" id="markdown-toc-3213-node-comparison">3.2.1.3. Node Comparison</a></li>
            </ul>
          </li>
          <li><a href="#322-serialization-tree" id="markdown-toc-322-serialization-tree">3.2.2. Serialization Tree</a>            <ul>
              <li><a href="#3221-mapping-key-order" id="markdown-toc-3221-mapping-key-order">3.2.2.1. Mapping Key Order</a></li>
              <li><a href="#3222-anchors-and-aliases" id="markdown-toc-3222-anchors-and-aliases">3.2.2.2. Anchors and Aliases</a></li>
            </ul>
          </li>
          <li><a href="#323-presentation-stream" id="markdown-toc-323-presentation-stream">3.2.3. Presentation Stream</a>            <ul>
              <li><a href="#3231-node-styles" id="markdown-toc-3231-node-styles">3.2.3.1. Node Styles</a></li>
              <li><a href="#3232-scalar-formats" id="markdown-toc-3232-scalar-formats">3.2.3.2. Scalar Formats</a></li>
              <li><a href="#3233-comments" id="markdown-toc-3233-comments">3.2.3.3. Comments</a></li>
              <li><a href="#3234-directives" id="markdown-toc-3234-directives">3.2.3.4. Directives</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#33-loading-failure-points" id="markdown-toc-33-loading-failure-points">3.3. Loading Failure Points</a>        <ul>
          <li><a href="#331-well-formed-streams-and-identified-aliases" id="markdown-toc-331-well-formed-streams-and-identified-aliases">3.3.1. Well-Formed Streams and Identified Aliases</a></li>
          <li><a href="#332-resolved-tags" id="markdown-toc-332-resolved-tags">3.3.2. Resolved Tags</a></li>
          <li><a href="#333-recognized-and-valid-tags" id="markdown-toc-333-recognized-and-valid-tags">3.3.3. Recognized and Valid Tags</a></li>
          <li><a href="#334-available-tags" id="markdown-toc-334-available-tags">3.3.4. Available Tags</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#chapter-4-character-productions" id="markdown-toc-chapter-4-character-productions">Chapter 4. Character Productions</a>    <ul>
      <li><a href="#41-character-set" id="markdown-toc-41-character-set">4.1. Character Set</a></li>
      <li><a href="#42-character-encodings" id="markdown-toc-42-character-encodings">4.2. Character Encodings</a></li>
      <li><a href="#43-indicator-characters" id="markdown-toc-43-indicator-characters">4.3. Indicator Characters</a></li>
      <li><a href="#44-line-break-characters" id="markdown-toc-44-line-break-characters">4.4. Line Break Characters</a></li>
      <li><a href="#45-white-space-characters" id="markdown-toc-45-white-space-characters">4.5. White Space Characters</a></li>
      <li><a href="#46-miscellaneous-characters" id="markdown-toc-46-miscellaneous-characters">4.6. Miscellaneous Characters</a></li>
      <li><a href="#47-escaped-characters" id="markdown-toc-47-escaped-characters">4.7. Escaped Characters</a></li>
    </ul>
  </li>
  <li><a href="#chapter-5-structural-productions" id="markdown-toc-chapter-5-structural-productions">Chapter 5. Structural Productions</a>    <ul>
      <li><a href="#51-indentation-spaces" id="markdown-toc-51-indentation-spaces">5.1. Indentation Spaces</a></li>
      <li><a href="#52-separation-spaces" id="markdown-toc-52-separation-spaces">5.2. Separation Spaces</a></li>
      <li><a href="#53-line-prefixes" id="markdown-toc-53-line-prefixes">5.3. Line Prefixes</a></li>
      <li><a href="#54-empty-lines" id="markdown-toc-54-empty-lines">5.4. Empty Lines</a></li>
      <li><a href="#55-line-folding" id="markdown-toc-55-line-folding">5.5. Line Folding</a></li>
      <li><a href="#56-comments" id="markdown-toc-56-comments">5.6. Comments</a></li>
      <li><a href="#57-separation-lines" id="markdown-toc-57-separation-lines">5.7. Separation Lines</a></li>
      <li><a href="#58-directives" id="markdown-toc-58-directives">5.8. Directives</a>        <ul>
          <li><a href="#581-yaml-directives" id="markdown-toc-581-yaml-directives">5.8.1. “<code class="language-plaintext highlighter-rouge">YAML</code>” Directives</a></li>
          <li><a href="#582-tag-directives" id="markdown-toc-582-tag-directives">5.8.2. “<code class="language-plaintext highlighter-rouge">TAG</code>” Directives</a>            <ul>
              <li><a href="#5821-tag-handles" id="markdown-toc-5821-tag-handles">5.8.2.1. Tag Handles</a></li>
              <li><a href="#5822-tag-prefixes" id="markdown-toc-5822-tag-prefixes">5.8.2.2. Tag Prefixes</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#59-node-properties" id="markdown-toc-59-node-properties">5.9. Node Properties</a>        <ul>
          <li><a href="#591-node-tags" id="markdown-toc-591-node-tags">5.9.1. Node Tags</a></li>
          <li><a href="#592-node-anchors" id="markdown-toc-592-node-anchors">5.9.2. Node Anchors</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#chapter-6-flow-style-productions" id="markdown-toc-chapter-6-flow-style-productions">Chapter 6. Flow Style Productions</a>    <ul>
      <li><a href="#61-alias-nodes" id="markdown-toc-61-alias-nodes">6.1. Alias Nodes</a></li>
      <li><a href="#62-empty-nodes" id="markdown-toc-62-empty-nodes">6.2. Empty Nodes</a></li>
      <li><a href="#63-flow-scalar-styles" id="markdown-toc-63-flow-scalar-styles">6.3. Flow Scalar Styles</a>        <ul>
          <li><a href="#631-double-quoted-style" id="markdown-toc-631-double-quoted-style">6.3.1. Double-Quoted Style</a></li>
          <li><a href="#632-single-quoted-style" id="markdown-toc-632-single-quoted-style">6.3.2. Single-Quoted Style</a></li>
          <li><a href="#633-plain-style" id="markdown-toc-633-plain-style">6.3.3. Plain Style</a></li>
        </ul>
      </li>
      <li><a href="#64-flow-collection-styles" id="markdown-toc-64-flow-collection-styles">6.4. Flow Collection Styles</a>        <ul>
          <li><a href="#641-flow-sequences" id="markdown-toc-641-flow-sequences">6.4.1. Flow Sequences</a></li>
          <li><a href="#642-flow-mappings" id="markdown-toc-642-flow-mappings">6.4.2. Flow Mappings</a></li>
        </ul>
      </li>
      <li><a href="#65-flow-nodes" id="markdown-toc-65-flow-nodes">6.5. Flow Nodes</a></li>
    </ul>
  </li>
  <li><a href="#chapter-7-block-style-productions" id="markdown-toc-chapter-7-block-style-productions">Chapter 7. Block Style Productions</a>    <ul>
      <li><a href="#71-block-scalar-styles" id="markdown-toc-71-block-scalar-styles">7.1. Block Scalar Styles</a>        <ul>
          <li><a href="#711-block-scalar-headers" id="markdown-toc-711-block-scalar-headers">7.1.1. Block Scalar Headers</a>            <ul>
              <li><a href="#7111-block-indentation-indicator" id="markdown-toc-7111-block-indentation-indicator">7.1.1.1. Block Indentation Indicator</a></li>
              <li><a href="#7112-block-chomping-indicator" id="markdown-toc-7112-block-chomping-indicator">7.1.1.2. Block Chomping Indicator</a></li>
            </ul>
          </li>
          <li><a href="#712-literal-style" id="markdown-toc-712-literal-style">7.1.2. Literal Style</a></li>
          <li><a href="#713-folded-style" id="markdown-toc-713-folded-style">7.1.3. Folded Style</a></li>
        </ul>
      </li>
      <li><a href="#72-block-collection-styles" id="markdown-toc-72-block-collection-styles">7.2. Block Collection Styles</a>        <ul>
          <li><a href="#721-block-sequences" id="markdown-toc-721-block-sequences">7.2.1. Block Sequences</a></li>
          <li><a href="#722-block-mappings" id="markdown-toc-722-block-mappings">7.2.2. Block Mappings</a></li>
          <li><a href="#723-block-nodes" id="markdown-toc-723-block-nodes">7.2.3. Block Nodes</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#chapter-8-document-stream-productions" id="markdown-toc-chapter-8-document-stream-productions">Chapter 8. Document Stream Productions</a>    <ul>
      <li><a href="#81-documents" id="markdown-toc-81-documents">8.1. Documents</a>        <ul>
          <li><a href="#811-document-prefix" id="markdown-toc-811-document-prefix">8.1.1. Document Prefix</a></li>
          <li><a href="#812-document-markers" id="markdown-toc-812-document-markers">8.1.2. Document Markers</a></li>
          <li><a href="#813-bare-documents" id="markdown-toc-813-bare-documents">8.1.3. Bare Documents</a></li>
          <li><a href="#814-explicit-documents" id="markdown-toc-814-explicit-documents">8.1.4. Explicit Documents</a></li>
          <li><a href="#815-directives-documents" id="markdown-toc-815-directives-documents">8.1.5. Directives Documents</a></li>
        </ul>
      </li>
      <li><a href="#82-streams" id="markdown-toc-82-streams">8.2. Streams</a></li>
    </ul>
  </li>
  <li><a href="#chapter-9-recommended-schemas" id="markdown-toc-chapter-9-recommended-schemas">Chapter 9. Recommended Schemas</a>    <ul>
      <li><a href="#91-failsafe-schema" id="markdown-toc-91-failsafe-schema">9.1. Failsafe Schema</a>        <ul>
          <li><a href="#911-tags" id="markdown-toc-911-tags">9.1.1. Tags</a>            <ul>
              <li><a href="#9111-generic-mapping" id="markdown-toc-9111-generic-mapping">9.1.1.1. Generic Mapping</a></li>
              <li><a href="#9112-generic-sequence" id="markdown-toc-9112-generic-sequence">9.1.1.2. Generic Sequence</a></li>
              <li><a href="#9113-generic-string" id="markdown-toc-9113-generic-string">9.1.1.3. Generic String</a></li>
            </ul>
          </li>
          <li><a href="#912-tag-resolution" id="markdown-toc-912-tag-resolution">9.1.2. Tag Resolution</a></li>
        </ul>
      </li>
      <li><a href="#92-json-schema" id="markdown-toc-92-json-schema">9.2. JSON Schema</a>        <ul>
          <li><a href="#921-tags" id="markdown-toc-921-tags">9.2.1. Tags</a>            <ul>
              <li><a href="#9211-null" id="markdown-toc-9211-null">9.2.1.1. Null</a></li>
              <li><a href="#9212-boolean" id="markdown-toc-9212-boolean">9.2.1.2. Boolean</a></li>
              <li><a href="#9213-integer" id="markdown-toc-9213-integer">9.2.1.3. Integer</a></li>
              <li><a href="#9214-floating-point" id="markdown-toc-9214-floating-point">9.2.1.4. Floating Point</a></li>
            </ul>
          </li>
          <li><a href="#922-tag-resolution" id="markdown-toc-922-tag-resolution">9.2.2. Tag Resolution</a></li>
        </ul>
      </li>
      <li><a href="#93-core-schema" id="markdown-toc-93-core-schema">9.3. Core Schema</a>        <ul>
          <li><a href="#931-tags" id="markdown-toc-931-tags">9.3.1. Tags</a></li>
          <li><a href="#932-tag-resolution" id="markdown-toc-932-tag-resolution">9.3.2. Tag Resolution</a></li>
        </ul>
      </li>
      <li><a href="#94-other-schemas" id="markdown-toc-94-other-schemas">9.4. Other Schemas</a></li>
    </ul>
  </li>
  <li><a href="#appendix-a-grammar" id="markdown-toc-appendix-a-grammar">Appendix A. Grammar</a>    <ul>
      <li><a href="#a1-production-syntax" id="markdown-toc-a1-production-syntax">A.1. Production Syntax</a>        <ul>
          <li><a href="#a11-production-parameters" id="markdown-toc-a11-production-parameters">A.1.1. Production Parameters</a></li>
          <li><a href="#a12-production-naming-conventions" id="markdown-toc-a12-production-naming-conventions">A.1.2. Production Naming Conventions</a></li>
        </ul>
      </li>
      <li><a href="#a2-document-stream-productions" id="markdown-toc-a2-document-stream-productions">A.2. Document Stream Productions</a>        <ul>
          <li><a href="#a21-streams" id="markdown-toc-a21-streams">A.2.1. Streams</a></li>
          <li><a href="#a22-documents" id="markdown-toc-a22-documents">A.2.2. Documents</a>            <ul>
              <li><a href="#a221-block-nodes" id="markdown-toc-a221-block-nodes">A.2.2.1. Block Nodes</a></li>
              <li><a href="#a222-block-mappings" id="markdown-toc-a222-block-mappings">A.2.2.2. Block Mappings</a></li>
              <li><a href="#a223-block-sequences" id="markdown-toc-a223-block-sequences">A.2.2.3. Block Sequences</a></li>
            </ul>
          </li>
          <li><a href="#a23-block-scalar-styles" id="markdown-toc-a23-block-scalar-styles">A.2.3. Block Scalar Styles</a>            <ul>
              <li><a href="#a231-literal-style" id="markdown-toc-a231-literal-style">A.2.3.1. Literal Style</a></li>
              <li><a href="#a232-folded-style" id="markdown-toc-a232-folded-style">A.2.3.2. Folded Style</a></li>
              <li><a href="#a233-block-scalar-headers" id="markdown-toc-a233-block-scalar-headers">A.2.3.3. Block Scalar Headers</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#a3-flow-style-productions" id="markdown-toc-a3-flow-style-productions">A.3. Flow Style Productions</a>        <ul>
          <li><a href="#a31-flow-nodes" id="markdown-toc-a31-flow-nodes">A.3.1. Flow Nodes</a>            <ul>
              <li><a href="#a311-flow-mappings" id="markdown-toc-a311-flow-mappings">A.3.1.1. Flow Mappings</a></li>
              <li><a href="#a312-flow-sequences" id="markdown-toc-a312-flow-sequences">A.3.1.2. Flow Sequences</a></li>
            </ul>
          </li>
          <li><a href="#a32-flow-scalar-styles" id="markdown-toc-a32-flow-scalar-styles">A.3.2. Flow Scalar Styles</a>            <ul>
              <li><a href="#a321-double-quoted-style" id="markdown-toc-a321-double-quoted-style">A.3.2.1. Double-Quoted Style</a></li>
              <li><a href="#a322-flow-collection-context" id="markdown-toc-a322-flow-collection-context">A.3.2.2. Flow Collection Context</a></li>
              <li><a href="#a323-single-quoted-style" id="markdown-toc-a323-single-quoted-style">A.3.2.3. Single-Quoted Style</a></li>
              <li><a href="#a324-plain-style" id="markdown-toc-a324-plain-style">A.3.2.4. Plain Style</a></li>
            </ul>
          </li>
          <li><a href="#a33-other-nodes" id="markdown-toc-a33-other-nodes">A.3.3. Other Nodes</a></li>
        </ul>
      </li>
      <li><a href="#a4-structural-productions" id="markdown-toc-a4-structural-productions">A.4. Structural Productions</a>        <ul>
          <li><a href="#a41-indentation-spaces" id="markdown-toc-a41-indentation-spaces">A.4.1. Indentation Spaces</a></li>
          <li><a href="#a42-line-prefixes" id="markdown-toc-a42-line-prefixes">A.4.2. Line Prefixes</a></li>
          <li><a href="#a43-line-folding" id="markdown-toc-a43-line-folding">A.4.3. Line Folding</a></li>
          <li><a href="#a44-comments" id="markdown-toc-a44-comments">A.4.4. Comments</a></li>
          <li><a href="#a45-empty-lines" id="markdown-toc-a45-empty-lines">A.4.5. Empty Lines</a></li>
          <li><a href="#a46-separation-lines-and-blanks" id="markdown-toc-a46-separation-lines-and-blanks">A.4.6. Separation Lines and Blanks</a></li>
          <li><a href="#a47-directives" id="markdown-toc-a47-directives">A.4.7. Directives</a></li>
          <li><a href="#a48-node-properties" id="markdown-toc-a48-node-properties">A.4.8. Node Properties</a></li>
        </ul>
      </li>
      <li><a href="#a5-character-productions" id="markdown-toc-a5-character-productions">A.5. Character Productions</a>        <ul>
          <li><a href="#a51-character-encoding" id="markdown-toc-a51-character-encoding">A.5.1. Character Encoding</a></li>
          <li><a href="#a52-valid-character-sets" id="markdown-toc-a52-valid-character-sets">A.5.2. Valid Character Sets</a></li>
          <li><a href="#a53-line-break-characters" id="markdown-toc-a53-line-break-characters">A.5.3. Line Break Characters</a></li>
          <li><a href="#a54-indicator-characters" id="markdown-toc-a54-indicator-characters">A.5.4. Indicator Characters</a></li>
          <li><a href="#a55-miscellaneous-character-sets" id="markdown-toc-a55-miscellaneous-character-sets">A.5.5. Miscellaneous Character Sets</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#reference-links" id="markdown-toc-reference-links">Reference Links</a></li>
</ul>

<div id="introduction-to-yaml"></div>
<h1 id="chapter-1-introduction-to-yaml">Chapter 1. Introduction to YAML</h1>

<p>YAML (a recursive acronym for “YAML Ain’t Markup Language”) is a data
serialization language designed to be human-friendly and work well with modern
programming languages for common everyday tasks.
This specification is both an introduction to the YAML language and the
concepts supporting it.
It is also a complete specification of the information needed to develop
<a href="#processes-and-models">applications</a> for processing YAML.</p>

<p>Open, interoperable and readily understandable tools have advanced computing
immensely.
YAML was designed from the start to be useful and friendly to people working
with data.
It uses Unicode <a href="#character-set">printable</a> characters, <a href="#indicator-characters">some</a> of which provide structural
information and the rest containing the data itself.
YAML achieves a unique cleanness by minimizing the amount of structural
characters and allowing the data to show itself in a natural and meaningful
way.
For example, <a href="#indentation-spaces">indentation</a> may be used for structure, <a href="#flow-mappings">colons</a> separate
<a href="#mapping">key/value pairs</a> and <a href="#block-sequences">dashes</a> are used to create “bulleted” <a href="#sequence">lists</a>.</p>

<p>There are many kinds of <a href="#dump">data structures</a>, but they can all be adequately
<a href="#representation-graph">represented</a> with three basic primitives: <a href="#mapping">mappings</a> (hashes/dictionaries),
<a href="#sequence">sequences</a> (arrays/lists) and <a href="#scalars">scalars</a> (strings/numbers).
YAML leverages these primitives and adds a simple typing system and <a href="#anchors-and-aliases">aliasing</a>
mechanism to form a complete language for <a href="#serializing-the-representation-graph">serializing</a> any <a href="#representing-native-data-structures">native data
structure</a>.
While most programming languages can use YAML for data serialization, YAML
excels in working with those languages that are fundamentally built around the
three basic primitives.
These include common dynamic languages such as JavaScript, Perl, PHP, Python
and Ruby.</p>

<p>There are hundreds of different languages for programming, but only a handful
of languages for storing and transferring data.
Even though its potential is virtually boundless, YAML was specifically created
to work well for common use cases such as: configuration files, log files,
interprocess messaging, cross-language data sharing, object persistence and
debugging of complex data structures.
When data is easy to view and understand, programming becomes a simpler task.</p>

<div id="goals"></div>
<h2 id="11-goals">1.1. Goals</h2>

<p>The design goals for YAML are, in decreasing priority:</p>

<ol>
  <li>YAML should be easily readable by humans.</li>
  <li>YAML data should be portable between programming languages.</li>
  <li>YAML should match the <a href="#representing-native-data-structures">native data structures</a> of dynamic languages.</li>
  <li>YAML should have a consistent model to support generic tools.</li>
  <li>YAML should support one-pass processing.</li>
  <li>YAML should be expressive and extensible.</li>
  <li>YAML should be easy to implement and use.</li>
</ol>

<div id="yaml-history"></div>
<h2 id="12-yaml-history">1.2. YAML History</h2>

<p>The YAML 1.0 specification was published in early 2004 by by Clark Evans, Oren
Ben-Kiki, and Ingy döt Net after 3 years of collaborative design work through
the yaml-core mailing list<sup id="fnref:yaml-core" role="doc-noteref"><a href="#fn:yaml-core" class="footnote" rel="footnote">3</a></sup>.
The project was initially rooted in Clark and Oren’s work on the
SML-DEV<sup id="fnref:sml-dev" role="doc-noteref"><a href="#fn:sml-dev" class="footnote" rel="footnote">4</a></sup> mailing list (for simplifying XML) and Ingy’s plain text
serialization module<sup id="fnref:denter" role="doc-noteref"><a href="#fn:denter" class="footnote" rel="footnote">5</a></sup> for Perl.
The language took a lot of inspiration from many other technologies and formats
that preceded it.</p>

<p>The first YAML framework was written in Perl in 2001 and Ruby was the first
language to ship a YAML framework as part of its core language distribution in
2003.</p>

<p>The YAML 1.1<sup id="fnref:1-1-spec" role="doc-noteref"><a href="#fn:1-1-spec" class="footnote" rel="footnote">6</a></sup> specification was published in 2005.
Around this time, the developers became aware of JSON<sup id="fnref:json" role="doc-noteref"><a href="#fn:json" class="footnote" rel="footnote">7</a></sup>.
By sheer coincidence, JSON was almost a complete subset of YAML (both
syntactically and semantically).</p>

<p>In 2006, Kyrylo Simonov produced PyYAML<sup id="fnref:pyyaml" role="doc-noteref"><a href="#fn:pyyaml" class="footnote" rel="footnote">8</a></sup> and LibYAML<sup id="fnref:libyaml" role="doc-noteref"><a href="#fn:libyaml" class="footnote" rel="footnote">9</a></sup>.
A lot of the YAML frameworks in various programming languages are built over
LibYAML and many others have looked to PyYAML as a solid reference for their
implementations.</p>

<p>The YAML 1.2<sup id="fnref:1-2-spec" role="doc-noteref"><a href="#fn:1-2-spec" class="footnote" rel="footnote">10</a></sup> specification was published in 2009.
Its primary focus was making YAML a strict superset of JSON.
It also removed many of the problematic implicit typing recommendations.</p>

<p>Since the release of the 1.2 specification, YAML adoption has continued to
grow, and many large-scale projects use it as their primary interface language.
In 2020, the new <a href="ext/team">YAML language design team</a> began meeting regularly
to discuss improvements to the YAML language and specification; to better meet
the needs and expectations of its users and use cases.</p>

<p>The YAML 1.2.2 specification, published in October 2021, was the first step in
YAML’s rejuvenated development journey.
YAML is now more popular than it has ever been, but there is a long list of
things that need to be addressed for it to reach its full potential.
The YAML design team is focused on making YAML as good as possible.</p>

<div id="terminology"></div>
<h2 id="13-terminology">1.3. Terminology</h2>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
“SHOULD NOT”, “RECOMMENDED”,  “MAY”, and “OPTIONAL” in this document are to be
interpreted as described in RFC 2119<sup id="fnref:rfc-2119" role="doc-noteref"><a href="#fn:rfc-2119" class="footnote" rel="footnote">11</a></sup>.</p>

<p>The rest of this document is arranged as follows.
Chapter <a href="#language-overview">2</a> provides a short preview of the main YAML features.
Chapter <a href="#processes-and-models">3</a> describes the YAML information model and the processes for
converting from and to this model and the YAML text format.
The bulk of the document, chapters <a href="#syntax-conventions">4</a>, <a href="#character-productions">5</a>, <a href="#structural-productions">6</a>, <a href="#flow-style-productions">7</a>, <a href="#block-style-productions">8</a> and <a href="#document-stream-productions">9</a>, formally
define this text format.
Finally, chapter <a href="#recommended-schemas">10</a> recommends basic YAML schemas.</p>

<div id="language-overview"></div>
<h1 id="chapter-2-language-overview">Chapter 2. Language Overview</h1>

<p>This section provides a quick glimpse into the expressive power of YAML.
It is not expected that the first-time reader grok all of the examples.
Rather, these selections are used as motivation for the remainder of the
specification.</p>

<div id="collections"></div>
<h2 id="21-collections">2.1. Collections</h2>

<p>YAML’s <a href="#block-collection-styles">block collections</a> use <a href="#indentation-spaces">indentation</a> for scope and begin each entry on
its own line.
<a href="#block-sequences">Block sequences</a> indicate each entry with a dash and space (“<code class="language-plaintext highlighter-rouge">- </code>”).
<a href="#mapping">Mappings</a> use a colon and space (“<code class="language-plaintext highlighter-rouge">: </code>”) to mark each <a href="#mapping">key/value pair</a>.
<a href="#comments">Comments</a> begin with an octothorpe (also called a “hash”, “sharp”, “pound” or
“number sign” - “<code class="language-plaintext highlighter-rouge">#</code>”).</p>

<div id="example-sequence-of-scalars" class="example">
  <p><strong>Example 2.1 Sequence of Scalars (ball players)</strong></p>

  <pre class="example">
- Mark McGwire
- Sammy Sosa
- Ken Griffey
</pre>

</div>

<div id="example-mapping-scalars-to-scalars" class="example">
  <p><strong>Example 2.2 Mapping Scalars to Scalars (player statistics)</strong></p>

  <pre class="example">
hr:  65    # Home runs
avg: 0.278 # Batting average
rbi: 147   # Runs Batted In
</pre>

</div>

<div id="example-mapping-scalars-to-sequences" class="example">
  <p><strong>Example 2.3 Mapping Scalars to Sequences (ball clubs in each league)</strong></p>

  <pre class="example">
american:
- Boston Red Sox
- Detroit Tigers
- New York Yankees
national:
- New York Mets
- Chicago Cubs
- Atlanta Braves
</pre>

</div>

<div id="example-sequence-of-mappings" class="example">
  <p><strong>Example 2.4 Sequence of Mappings (players’ statistics)</strong></p>

  <pre class="example">
-
  name: Mark McGwire
  hr:   65
  avg:  0.278
-
  name: Sammy Sosa
  hr:   63
  avg:  0.288
</pre>

</div>

<p>YAML also has <a href="#flow-style-productions">flow styles</a>, using explicit <a href="#indicator-characters">indicators</a> rather than
<a href="#indentation-spaces">indentation</a> to denote scope.
The <a href="#flow-sequences">flow sequence</a> is written as a <a href="#flow-collection-styles">comma</a> separated list within <a href="#flow-sequences">square</a>
<a href="#flow-sequences">brackets</a>.
In a similar manner, the <a href="#flow-mappings">flow mapping</a> uses <a href="#flow-mappings">curly</a> <a href="#flow-mappings">braces</a>.</p>

<div id="example-sequence-of-sequences" class="example">
  <p><strong>Example 2.5 Sequence of Sequences</strong></p>

  <pre class="example">
- [name        , hr, avg  ]
- [Mark McGwire, 65, 0.278]
- [Sammy Sosa  , 63, 0.288]
</pre>

</div>

<div id="example-mapping-of-mappings" class="example">
  <p><strong>Example 2.6 Mapping of Mappings</strong></p>

  <pre class="example">
Mark McGwire: {hr: 65, avg: 0.278}
Sammy Sosa: {
    hr: 63,
    avg: 0.288,
 }
</pre>

</div>

<div id="structures"></div>
<h2 id="22-structures">2.2. Structures</h2>

<p>YAML uses three dashes (“<code class="language-plaintext highlighter-rouge">---</code>”) to separate <a href="#directives">directives</a> from <a href="#documents">document</a>
<a href="#nodes">content</a>.
This also serves to signal the start of a document if no <a href="#directives">directives</a> are
present.
Three dots ( “<code class="language-plaintext highlighter-rouge">...</code>”) indicate the end of a document without starting a new
one, for use in communication channels.</p>

<div id="example-two-documents-in-a-stream" class="example">
  <p><strong>Example 2.7 Two Documents in a Stream (each with a leading comment)</strong></p>

  <pre class="example">
# Ranking of 1998 home runs
---
- Mark McGwire
- Sammy Sosa
- Ken Griffey

# Team ranking
---
- Chicago Cubs
- St Louis Cardinals
</pre>

</div>

<div id="example-play-by-play-feed-from-a-game" class="example">
  <p><strong>Example 2.8 Play by Play Feed from a Game</strong></p>

  <pre class="example">
---
time: 20:03:20
player: Sammy Sosa
action: strike (miss)
...
---
time: 20:03:47
player: Sammy Sosa
action: grand slam
...
</pre>

</div>

<p>Repeated <a href="#nodes">nodes</a> (objects) are first <a href="#anchors-and-aliases">identified</a> by an <a href="#anchors-and-aliases">anchor</a> (marked with
the ampersand - “<code class="language-plaintext highlighter-rouge">&amp;</code>”) and are then <a href="#anchors-and-aliases">aliased</a> (referenced with an asterisk -
“<code class="language-plaintext highlighter-rouge">*</code>”) thereafter.</p>

<div id="example-single-document-with-two-comments" class="example">
  <p><strong>Example 2.9 Single Document with Two Comments</strong></p>

  <pre class="example">
---
hr: # 1998 hr ranking
- Mark McGwire
- Sammy Sosa
# 1998 rbi ranking
rbi:
- Sammy Sosa
- Ken Griffey
</pre>

</div>

<div id="example-node-for-sammy-sosa-appears-twice-in-this-document" class="example">
  <p><strong>Example 2.10 Node for “<code class="language-plaintext highlighter-rouge">Sammy Sosa</code>” appears twice in this document</strong></p>

  <pre class="example">
---
hr:
- Mark McGwire
# Following node labeled SS
- &amp;SS Sammy Sosa
rbi:
- *SS # Subsequent occurrence
- Ken Griffey
</pre>

</div>

<p>A question mark and space (“<code class="language-plaintext highlighter-rouge">? </code>”) indicate a complex <a href="#mapping">mapping</a> <a href="#nodes">key</a>.
Within a <a href="#block-collection-styles">block collection</a>, <a href="#mapping">key/value pairs</a> can start immediately following
the <a href="#block-sequences">dash</a>, <a href="#flow-mappings">colon</a> or <a href="#flow-mappings">question mark</a>.</p>

<div id="example-mapping-between-sequences" class="example">
  <p><strong>Example 2.11 Mapping between Sequences</strong></p>

  <pre class="example">
? - Detroit Tigers
  - Chicago cubs
: - 2001-07-23

? [ New York Yankees,
    Atlanta Braves ]
: [ 2001-07-02, 2001-08-12,
    2001-08-14 ]
</pre>

</div>

<div id="example-compact-nested-mapping" class="example">
  <p><strong>Example 2.12 Compact Nested Mapping</strong></p>

  <pre class="example">
---
# Products purchased
- item    : Super Hoop
  quantity: 1
- item    : Basketball
  quantity: 4
- item    : Big Shoes
  quantity: 1
</pre>

</div>

<div id="scalars"></div>
<h2 id="23-scalars">2.3. Scalars</h2>

<p><a href="#scalar">Scalar content</a> can be written in <a href="#scalars">block</a> notation, using a <a href="#literal-style">literal style</a>
(indicated by “<code class="language-plaintext highlighter-rouge">|</code>”) where all <a href="#line-break-characters">line breaks</a> are significant.
Alternatively, they can be written with the <a href="#folded-style">folded style</a> (denoted by “<code class="language-plaintext highlighter-rouge">&gt;</code>”)
where each <a href="#line-break-characters">line break</a> is <a href="#line-folding">folded</a> to a <a href="#white-space-characters">space</a> unless it ends an <a href="#empty-lines">empty</a> or a
<a href="#example-more-indented-lines">more-indented</a> line.</p>

<div id="example-in-literals-newlines-are-preserved" class="example">
  <p><strong>Example 2.13 In literals, newlines are preserved</strong></p>

  <pre class="example">
# ASCII Art
--- |
  \//||\/||
  // ||  ||__
</pre>

</div>

<div id="example-in-the-folded-scalars-newlines-become-spaces" class="example">
  <p><strong>Example 2.14 In the folded scalars, newlines become spaces</strong></p>

  <pre class="example">
--- &gt;
  Mark McGwire's
  year was crippled
  by a knee injury.
</pre>

</div>

<div id="example-folded-newlines-are-preserved-for-more-indented-and-blank-lines" class="example">
  <p><strong>Example 2.15 Folded newlines are preserved for “more indented” and blank
lines</strong></p>

  <pre class="example">
--- &gt;
 Sammy Sosa completed another
 fine season with great stats.

   63 Home Runs
   0.288 Batting Average

 What a year!
</pre>

</div>

<div id="example-indentation-determines-scope" class="example">
  <p><strong>Example 2.16 Indentation determines scope</strong></p>

  <pre class="example">
name: Mark McGwire
accomplishment: &gt;
  Mark set a major league
  home run record in 1998.
stats: |
  65 Home Runs
  0.278 Batting Average
</pre>

</div>

<p>YAML’s <a href="#flow-scalar-styles">flow scalars</a> include the <a href="#plain-style">plain style</a> (most examples thus far) and
two quoted styles.
The <a href="#double-quoted-style">double-quoted style</a> provides <a href="#escaped-characters">escape sequences</a>.
The <a href="#single-quoted-style">single-quoted style</a> is useful when <a href="#escaped-characters">escaping</a> is not needed.
All <a href="#flow-scalar-styles">flow scalars</a> can span multiple lines; <a href="#line-break-characters">line breaks</a> are always <a href="#line-folding">folded</a>.</p>

<div id="example-quoted-scalars" class="example">
  <p><strong>Example 2.17 Quoted Scalars</strong></p>

  <pre class="example">
unicode: "Sosa did fine.\u263A"
control: "\b1998\t1999\t2000\n"
hex esc: "\x0d\x0a is \r\n"

single: '"Howdy!" he cried.'
quoted: ' # Not a ''comment''.'
tie-fighter: '|\-*-/|'
</pre>

</div>

<div id="example-multi-line-flow-scalars" class="example">
  <p><strong>Example 2.18 Multi-line Flow Scalars</strong></p>

  <pre class="example">
plain:
  This unquoted scalar
  spans many lines.

quoted: "So does this
  quoted scalar.\n"
</pre>

</div>

<div id="tags"></div>
<h2 id="24-tags">2.4. Tags</h2>

<p>In YAML, <a href="#resolved-tags">untagged nodes</a> are given a type depending on the <a href="#processes-and-models">application</a>.
The examples in this specification generally use the <code class="language-plaintext highlighter-rouge">seq</code>, <code class="language-plaintext highlighter-rouge">map</code> and <code class="language-plaintext highlighter-rouge">str</code>
types from the <a href="#failsafe-schema">fail safe schema</a>.
A few examples also use the <code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">float</code> and <code class="language-plaintext highlighter-rouge">null</code> types from the <a href="#json-schema">JSON
schema</a>.</p>

<div id="example-integers" class="example">
  <p><strong>Example 2.19 Integers</strong></p>

  <pre class="example">
canonical: 12345
decimal: +12345
octal: 0o14
hexadecimal: 0xC
</pre>

</div>

<div id="example-floating-point" class="example">
  <p><strong>Example 2.20 Floating Point</strong></p>

  <pre class="example">
canonical: 1.23015e+3
exponential: 12.3015e+02
fixed: 1230.15
negative infinity: -.inf
not a number: .nan
</pre>

</div>

<div id="example-miscellaneous" class="example">
  <p><strong>Example 2.21 Miscellaneous</strong></p>

  <pre class="example">
null:
booleans: [ true, false ]
string: '012345'
</pre>

</div>

<div id="example-timestamps" class="example">
  <p><strong>Example 2.22 Timestamps</strong></p>

  <pre class="example">
canonical: 2001-12-15T02:59:43.1Z
iso8601: 2001-12-14t21:59:43.10-05:00
spaced: 2001-12-14 21:59:43.10 -5
date: 2002-12-14
</pre>

</div>

<p>Explicit typing is denoted with a <a href="#tags">tag</a> using the exclamation point (“<code class="language-plaintext highlighter-rouge">!</code>”)
symbol.
<a href="#tags">Global tags</a> are URIs and may be specified in a <a href="#tag-shorthands">tag shorthand</a> notation using
a <a href="#tag-handles">handle</a>.
<a href="#processes-and-models">Application</a>-specific <a href="#tags">local tags</a> may also be used.</p>

<div id="example-various-explicit-tags" class="example">
  <p><strong>Example 2.23 Various Explicit Tags</strong></p>

  <pre class="example">
---
not-date: !!str 2002-04-28

picture: !!binary |
 R0lGODlhDAAMAIQAAP//9/X
 17unp5WZmZgAAAOfn515eXv
 Pz7Y6OjuDg4J+fn5OTk6enp
 56enmleECcgggoBADs=

application specific tag: !something |
 The semantics of the tag
 above may be different for
 different documents.
</pre>

</div>

<div id="example-global-tags" class="example">
  <p><strong>Example 2.24 Global Tags</strong></p>

  <pre class="example">
%TAG ! tag:clarkevans.com,2002:
--- !shape
  # Use the ! handle for presenting
  # tag:clarkevans.com,2002:circle
- !circle
  center: &amp;ORIGIN {x: 73, y: 129}
  radius: 7
- !line
  start: *ORIGIN
  finish: { x: 89, y: 102 }
- !label
  start: *ORIGIN
  color: 0xFFEEBB
  text: Pretty vector drawing.
</pre>

</div>

<div id="example-unordered-sets" class="example">
  <p><strong>Example 2.25 Unordered Sets</strong></p>

  <pre class="example">
# Sets are represented as a
# Mapping where each key is
# associated with a null value
--- !!set
? Mark McGwire
? Sammy Sosa
? Ken Griffey
</pre>

</div>

<div id="example-ordered-mappings" class="example">
  <p><strong>Example 2.26 Ordered Mappings</strong></p>

  <pre class="example">
# Ordered maps are represented as
# A sequence of mappings, with
# each mapping having one key
--- !!omap
- Mark McGwire: 65
- Sammy Sosa: 63
- Ken Griffey: 58
</pre>

</div>

<div id="full-length-example"></div>
<h2 id="25-full-length-example">2.5. Full Length Example</h2>

<p>Below are two full-length examples of YAML.
The first is a sample invoice; the second is a sample log file.</p>

<div id="example-invoice" class="example">
  <p><strong>Example 2.27 Invoice</strong></p>

  <pre class="example">
--- !&lt;tag:clarkevans.com,2002:invoice&gt;
invoice: 34843
date   : 2001-01-23
bill-to: &amp;id001
  given  : Chris
  family : Dumars
  address:
    lines: |
      458 Walkman Dr.
      Suite #292
    city    : Royal Oak
    state   : MI
    postal  : 48046
ship-to: *id001
product:
- sku         : BL394D
  quantity    : 4
  description : Basketball
  price       : 450.00
- sku         : BL4438H
  quantity    : 1
  description : Super Hoop
  price       : 2392.00
tax  : 251.42
total: 4443.52
comments:
  Late afternoon is best.
  Backup contact is Nancy
  Billsmer @ 338-4338.
</pre>

</div>

<div id="example-log-file" class="example">
  <p><strong>Example 2.28 Log File</strong></p>

  <pre class="example">
---
Time: 2001-11-23 15:01:42 -5
User: ed
Warning:
  This is an error message
  for the log file
---
Time: 2001-11-23 15:02:31 -5
User: ed
Warning:
  A slightly different error
  message.
---
Date: 2001-11-23 15:03:17 -5
User: ed
Fatal:
  Unknown variable "bar"
Stack:
- file: TopClass.py
  line: 23
  code: |
    x = MoreObject("345\n")
- file: MoreClass.py
  line: 58
  code: |-
    foo = bar
</pre>

</div>

<div id="processes-and-models"></div>
<h1 id="chapter-3-processes-and-models">Chapter 3. Processes and Models</h1>

<p>YAML is both a text format and a method for <a href="#presenting-the-serialization-tree">presenting</a> any <a href="#representing-native-data-structures">native data
structure</a> in this format.
Therefore, this specification defines two concepts: a class of data objects
called YAML <a href="#representation-graph">representations</a> and a syntax for <a href="#presenting-the-serialization-tree">presenting</a> YAML
<a href="#representation-graph">representations</a> as a series of characters, called a YAML <a href="#streams">stream</a>.</p>

<p>A YAML <em>processor</em> is a tool for converting information between these
complementary views.
It is assumed that a YAML processor does its work on behalf of another module,
called an <em>application</em>.
This chapter describes the information structures a YAML processor must provide
to or obtain from the application.</p>

<p>YAML information is used in two ways: for machine processing and for human
consumption.
The challenge of reconciling these two perspectives is best done in three
distinct translation stages: <a href="#representation-graph">representation</a>, <a href="#serialization-tree">serialization</a> and
<a href="#presentation-stream">presentation</a>.
<a href="#representation-graph">Representation</a> addresses how YAML views <a href="#representing-native-data-structures">native data structures</a> to achieve
portability between programming environments.
<a href="#serialization-tree">Serialization</a> concerns itself with turning a YAML <a href="#representation-graph">representation</a> into a
serial form, that is, a form with sequential access constraints.
<a href="#presentation-stream">Presentation</a> deals with the formatting of a YAML <a href="#serialization-tree">serialization</a> as a series
of characters in a human-friendly manner.</p>

<div id="processes"></div>
<h2 id="31-processes">3.1. Processes</h2>

<p>Translating between <a href="#representing-native-data-structures">native data structures</a> and a character <a href="#streams">stream</a> is done
in several logically distinct stages, each with a well defined input and output
data model, as shown in the following diagram:</p>

<p><strong>Figure 3.1. Processing Overview</strong></p>

<p><img src="/main/spec/1.3.0/img/overview2.svg" alt="Processing Overview" /></p>

<p>A YAML processor need not expose the <a href="#serialization-tree">serialization</a> or <a href="#representation-graph">representation</a>
stages.
It may translate directly between <a href="#representing-native-data-structures">native data structures</a> and a character
<a href="#streams">stream</a> (<a href="#dump">dump</a> and <a href="#load">load</a> in the diagram above).
However, such a direct translation should take place so that the <a href="#representing-native-data-structures">native data
structures</a> are <a href="#constructing-native-data-structures">constructed</a> only from information available in the
<a href="#representation-graph">representation</a>.
In particular, <a href="#mapping">mapping key order</a>, <a href="#comments">comments</a> and <a href="#tag-handles">tag handles</a> should not be
referenced during <a href="#constructing-native-data-structures">construction</a>.</p>

<div id="dump"></div>
<h3 id="311-dump">3.1.1. Dump</h3>

<p><em>Dumping</em> native data structures to a character <a href="#streams">stream</a> is done using the
following three stages:</p>

<div id="representing-native-data-structures"></div>

<dl>
  <dt>Representing Native Data Structures</dt>
  <dd>
    <p>YAML <em>represents</em> any <em>native data structure</em> using three <a href="#nodes">node kinds</a>:
<a href="#sequence">sequence</a> - an ordered series of entries; <a href="#mapping">mapping</a> - an unordered association
of <a href="#node-comparison">unique</a> <a href="#nodes">keys</a> to <a href="#nodes">values</a>; and <a href="#scalar">scalar</a> - any datum with opaque structure
presentable as a series of Unicode characters.</p>
  </dd>
  <dd>
    <p>Combined, these primitives generate directed graph structures.
These primitives were chosen because they are both powerful and familiar: the
<a href="#sequence">sequence</a> corresponds to a Perl array and a Python list, the <a href="#mapping">mapping</a>
corresponds to a Perl hash table and a Python dictionary.
The <a href="#scalar">scalar</a> represents strings, integers, dates and other atomic data types.</p>
  </dd>
  <dd>
    <p>Each YAML <a href="#nodes">node</a> requires, in addition to its <a href="#nodes">kind</a> and <a href="#nodes">content</a>, a <a href="#tags">tag</a>
specifying its data type.
Type specifiers are either <a href="#tags">global</a> URIs or are <a href="#tags">local</a> in scope to a single
<a href="#processes-and-models">application</a>.
For example, an integer is represented in YAML with a <a href="#scalar">scalar</a> plus the <a href="#tags">global
tag</a> “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:int</code>”.
Similarly, an invoice object, particular to a given organization, could be
represented as a <a href="#mapping">mapping</a> together with the <a href="#tags">local tag</a> “<code class="language-plaintext highlighter-rouge">!invoice</code>”.
This simple model can represent any data structure independent of programming
language.</p>
  </dd>
</dl>

<div id="serializing-the-representation-graph"></div>

<dl>
  <dt>Serializing the Representation Graph</dt>
  <dd>
    <p>For sequential access mediums, such as an event callback API, a YAML
<a href="#representation-graph">representation</a> must be <em>serialized</em> to an ordered tree.
Since in a YAML <a href="#representation-graph">representation</a>, <a href="#nodes">mapping keys</a> are unordered and <a href="#nodes">nodes</a> may
be referenced more than once (have more than one incoming “arrow”), the
serialization process is required to impose an <a href="#mapping-key-order">ordering</a> on the <a href="#nodes">mapping keys</a>
and to replace the second and subsequent references to a given <a href="#nodes">node</a> with
place holders called <a href="#anchors-and-aliases">aliases</a>.
YAML does not specify how these <em>serialization details</em> are chosen.
It is up to the YAML <a href="#processes-and-models">processor</a> to come up with human-friendly <a href="#mapping-key-order">key order</a> and
<a href="#anchors-and-aliases">anchor</a> names, possibly with the help of the <a href="#processes-and-models">application</a>.
The result of this process, a YAML <a href="#serialization-tree">serialization tree</a>, can then be traversed
to produce a series of event calls for one-pass processing of YAML data.</p>
  </dd>
</dl>

<div id="presenting-the-serialization-tree"></div>

<dl>
  <dt>Presenting the Serialization Tree</dt>
  <dd>
    <p>The final output process is <em>presenting</em> the YAML <a href="#serialization-tree">serializations</a> as a
character <a href="#streams">stream</a> in a human-friendly manner.
To maximize human readability, YAML offers a rich set of stylistic options
which go far beyond the minimal functional needs of simple data storage.
Therefore the YAML <a href="#processes-and-models">processor</a> is required to introduce various <em>presentation
details</em> when creating the <a href="#streams">stream</a>, such as the choice of <a href="#node-styles">node styles</a>, how
to <a href="#scalar-formats">format scalar content</a>, the amount of <a href="#indentation-spaces">indentation</a>, which <a href="#tag-handles">tag handles</a> to
use, the <a href="#node-tags">node tags</a> to leave <a href="#resolved-tags">unspecified</a>, the set of <a href="#directives">directives</a> to provide
and possibly even what <a href="#comments">comments</a> to add.
While some of this can be done with the help of the <a href="#processes-and-models">application</a>, in general
this process should be guided by the preferences of the user.</p>
  </dd>
</dl>

<div id="load"></div>
<h3 id="312-load">3.1.2. Load</h3>

<p><em>Loading</em> <a href="#representing-native-data-structures">native data structures</a> from a character <a href="#streams">stream</a> is done using the
following three stages:</p>

<div id="parsing-the-presentation-stream"></div>

<dl>
  <dt>Parsing the Presentation Stream</dt>
  <dd>
    <p><em>Parsing</em> is the inverse process of <a href="#presentation-stream">presentation</a>, it takes a <a href="#streams">stream</a> of
characters and produces a <a href="#serialization-tree">serialization tree</a>.
Parsing discards all the <a href="#presenting-the-serialization-tree">details</a> introduced in the <a href="#presentation-stream">presentation</a> process,
reporting only the <a href="#serialization-tree">serialization tree</a>.
Parsing can fail due to <a href="#well-formed-streams-and-identified-aliases">ill-formed</a> input.</p>
  </dd>
</dl>

<div id="composing-the-representation-graph"></div>

<dl>
  <dt>Composing the Representation Graph</dt>
  <dd>
    <p><em>Composing</em> takes a <a href="#serialization-tree">serialization tree</a> and produces a <a href="#representation-graph">representation graph</a>.
Composing discards all the <a href="#presenting-the-serialization-tree">details</a> introduced in the <a href="#serialization-tree">serialization</a> process,
producing only the <a href="#representation-graph">representation graph</a>.
Composing can fail due to any of several reasons, detailed <a href="#loading-failure-points">below</a>.</p>
  </dd>
</dl>

<div id="constructing-native-data-structures"></div>

<dl>
  <dt>Constructing Native Data Structures</dt>
  <dd>
    <p>The final input process is <em>constructing</em> <a href="#representing-native-data-structures">native data structures</a> from the
YAML <a href="#representation-graph">representation</a>.
Construction must be based only on the information available in the
<a href="#representation-graph">representation</a> and not on additional <a href="#serialization-tree">serialization</a> or <a href="#presenting-the-serialization-tree">presentation
details</a> such as <a href="#comments">comments</a>, <a href="#directives">directives</a>, <a href="#mapping">mapping key order</a>, <a href="#node-styles">node styles</a>,
<a href="#scalar-formats">scalar content format</a>, <a href="#indentation-spaces">indentation</a> levels etc.
Construction can fail due to the <a href="#available-tags">unavailability</a> of the required <a href="#representing-native-data-structures">native data
types</a>.</p>
  </dd>
</dl>

<div id="information-models"></div>
<h2 id="32-information-models">3.2. Information Models</h2>

<p>This section specifies the formal details of the results of the above
processes.
To maximize data portability between programming languages and implementations,
users of YAML should be mindful of the distinction between <a href="#serialization-tree">serialization</a> or
<a href="#presentation-stream">presentation</a> properties and those which are part of the YAML
<a href="#representation-graph">representation</a>.
Thus, while imposing a <a href="#mapping-key-order">order</a> on <a href="#nodes">mapping keys</a> is necessary for flattening
YAML <a href="#representation-graph">representations</a> to a sequential access medium, this <a href="#serializing-the-representation-graph">serialization
detail</a> must not be used to convey <a href="#processes-and-models">application</a> level information.
In a similar manner, while <a href="#indentation-spaces">indentation</a> technique and a choice of a <a href="#node-styles">node
style</a> are needed for the human readability, these <a href="#presenting-the-serialization-tree">presentation details</a> are
neither part of the YAML <a href="#serialization-tree">serialization</a> nor the YAML <a href="#representation-graph">representation</a>.
By carefully separating properties needed for <a href="#serialization-tree">serialization</a> and
<a href="#presentation-stream">presentation</a>, YAML <a href="#representation-graph">representations</a> of <a href="#processes-and-models">application</a> information will be
consistent and portable between various programming environments.</p>

<p>The following diagram summarizes the three <em>information models</em>.
Full arrows denote composition, hollow arrows denote inheritance, “<code class="language-plaintext highlighter-rouge">1</code>” and
“<code class="language-plaintext highlighter-rouge">*</code>” denote “one” and “many” relationships.
A single “<code class="language-plaintext highlighter-rouge">+</code>” denotes <a href="#serialization-tree">serialization</a> details, a double “<code class="language-plaintext highlighter-rouge">++</code>” denotes
<a href="#presentation-stream">presentation</a> details.</p>

<p><strong>Figure 3.2. Information Models</strong></p>

<p><img src="/main/spec/1.3.0/img/model2.svg" alt="Information Models" /></p>

<div id="representation-graph"></div>
<h3 id="321-representation-graph">3.2.1. Representation Graph</h3>

<p>YAML’s <em>representation</em> of <a href="#representing-native-data-structures">native data structure</a> is a rooted, connected,
directed graph of <a href="#tags">tagged</a> <a href="#nodes">nodes</a>.
By “directed graph” we mean a set of <a href="#nodes">nodes</a> and directed edges (“arrows”),
where each edge connects one <a href="#nodes">node</a> to another (see a formal directed graph
definition<sup id="fnref:digraph" role="doc-noteref"><a href="#fn:digraph" class="footnote" rel="footnote">12</a></sup>).
All the <a href="#nodes">nodes</a> must be reachable from the <em>root node</em> via such edges.
Note that the YAML graph may include cycles and a <a href="#nodes">node</a> may have more than one
incoming edge.</p>

<p><a href="#nodes">Nodes</a> that are defined in terms of other <a href="#nodes">nodes</a> are <a href="#collections">collections</a>; <a href="#nodes">nodes</a>
that are independent of any other <a href="#nodes">nodes</a> are <a href="#scalars">scalars</a>.
YAML supports two <a href="#nodes">kinds</a> of <a href="#mapping">collection nodes</a>: <a href="#sequence">sequences</a> and <a href="#mapping">mappings</a>.
<a href="#mapping">Mapping nodes</a> are somewhat tricky because their <a href="#nodes">keys</a> are unordered and must
be <a href="#node-comparison">unique</a>.</p>

<p><strong>Figure 3.3. Representation Model</strong></p>

<p><img src="/main/spec/1.3.0/img/represent2.svg" alt="Representation Model" /></p>

<div id="nodes"></div>
<h4 id="3211-nodes">3.2.1.1. Nodes</h4>

<p>A YAML <em>node</em> <a href="#representation-graph">represents</a> a single <a href="#representing-native-data-structures">native data structure</a>.
Such nodes have <em>content</em> of one of three <em>kinds</em>: scalar, sequence or mapping.
In addition, each node has a <a href="#tags">tag</a> which serves to restrict the set of possible
values the content can have.</p>

<div id="scalar"></div>

<dl>
  <dt>Scalar</dt>
  <dd>
    <p>The content of a <em>scalar</em> node is an opaque datum that can be <a href="#presenting-the-serialization-tree">presented</a> as a
series of zero or more Unicode characters.</p>
  </dd>
</dl>

<div id="sequence"></div>

<dl>
  <dt>Sequence</dt>
  <dd>
    <p>The content of a <em>sequence</em> node is an ordered series of zero or more nodes.
In particular, a sequence may contain the same node more than once.
It could even contain itself.</p>
  </dd>
</dl>

<div id="mapping"></div>

<dl>
  <dt>Mapping</dt>
  <dd>
    <p>The content of a <em>mapping</em> node is an unordered set of <em>key/value</em> node
<em>pairs</em>, with the restriction that each of the keys is <a href="#node-comparison">unique</a>.
YAML places no further restrictions on the nodes.
In particular, keys may be arbitrary nodes, the same node may be used as the
value of several key/value pairs and a mapping could even contain itself as a
key or a value.</p>
  </dd>
</dl>

<div id="tags"></div>
<h4 id="3212-tags">3.2.1.2. Tags</h4>

<p>YAML <a href="#representation-graph">represents</a> type information of <a href="#representing-native-data-structures">native data structures</a> with a simple
identifier, called a <em>tag</em>.
<em>Global tags</em> are URIs and hence globally unique across all <a href="#processes-and-models">applications</a>.
The “<code class="language-plaintext highlighter-rouge">tag:</code>” URI scheme<sup id="fnref:tag-uri" role="doc-noteref"><a href="#fn:tag-uri" class="footnote" rel="footnote">13</a></sup> is recommended for all global YAML tags.
In contrast, <em>local tags</em> are specific to a single <a href="#processes-and-models">application</a>.
Local tags start with “<code class="language-plaintext highlighter-rouge">!</code>”, are not URIs and are not expected to be globally
unique.
YAML provides a “<code class="language-plaintext highlighter-rouge">TAG</code>” directive to make tag notation less verbose; it also
offers easy migration from local to global tags.
To ensure this, local tags are restricted to the URI character set and use URI
character <a href="#escaped-characters">escaping</a>.</p>

<p>YAML does not mandate any special relationship between different tags that
begin with the same substring.
Tags ending with URI fragments (containing “<code class="language-plaintext highlighter-rouge">#</code>”) are no exception; tags that
share the same base URI but differ in their fragment part are considered to be
different, independent tags.
By convention, fragments are used to identify different “variants” of a tag,
while “<code class="language-plaintext highlighter-rouge">/</code>” is used to define nested tag “namespace” hierarchies.
However, this is merely a convention and each tag may employ its own rules.
For example, Perl tags may use “<code class="language-plaintext highlighter-rouge">::</code>” to express namespace hierarchies, Java
tags may use “<code class="language-plaintext highlighter-rouge">.</code>”, etc.</p>

<p>YAML tags are used to associate meta information with each <a href="#nodes">node</a>.
In particular, each tag must specify the expected <a href="#nodes">node kind</a> (<a href="#scalar">scalar</a>,
<a href="#sequence">sequence</a> or <a href="#mapping">mapping</a>).
<a href="#scalar">Scalar</a> tags must also provide a mechanism for converting <a href="#scalar-formats">formatted content</a>
to a <a href="#canonical-form">canonical form</a> for supporting <a href="#equality">equality</a> testing.
Furthermore, a tag may provide additional information such as the set of
allowed <a href="#nodes">content</a> values for validation, a mechanism for <a href="#tag-resolution">tag resolution</a> or
any other data that is applicable to all of the tag’s <a href="#nodes">nodes</a>.</p>

<div id="node-comparison"></div>
<h4 id="3213-node-comparison">3.2.1.3. Node Comparison</h4>

<p>Since YAML <a href="#mapping">mappings</a> require <a href="#nodes">key</a> uniqueness, <a href="#representation-graph">representations</a> must include
a mechanism for testing the equality of <a href="#nodes">nodes</a>.
This is non-trivial since YAML allows various ways to <a href="#scalar-formats">format scalar content</a>.
For example, the integer eleven can be written as “<code class="language-plaintext highlighter-rouge">0o13</code>” (octal) or “<code class="language-plaintext highlighter-rouge">0xB</code>”
(hexadecimal).
If both notations are used as <a href="#nodes">keys</a> in the same <a href="#mapping">mapping</a>, only a YAML
<a href="#processes-and-models">processor</a> which recognizes integer <a href="#scalar-formats">formats</a> would correctly flag the
duplicate <a href="#nodes">key</a> as an error.</p>

<div id="canonical-form"></div>

<dl>
  <dt>Canonical Form</dt>
  <dd>
    <p>YAML supports the need for <a href="#scalar">scalar</a> equality by requiring that every <a href="#scalar">scalar</a>
<a href="#tags">tag</a> must specify a mechanism for producing the <em>canonical form</em> of any
<a href="#scalar-formats">formatted content</a>.
This form is a Unicode character string which also <a href="#presenting-the-serialization-tree">presents</a> the same
<a href="#nodes">content</a> and can be used for equality testing.</p>
  </dd>
</dl>

<div id="equality"></div>

<dl>
  <dt>Equality</dt>
  <dd>
    <p>Two <a href="#nodes">nodes</a> must have the same <a href="#tags">tag</a> and <a href="#nodes">content</a> to be <em>equal</em>.
Since each <a href="#tags">tag</a> applies to exactly one <a href="#nodes">kind</a>, this implies that the two
<a href="#nodes">nodes</a> must have the same <a href="#nodes">kind</a> to be equal.</p>
  </dd>
  <dd>
    <p>Two <a href="#scalars">scalars</a> are equal only when their <a href="#tags">tags</a> and canonical forms are equal
character-by-character.
Equality of <a href="#collections">collections</a> is defined recursively.</p>
  </dd>
  <dd>
    <p>Two <a href="#sequence">sequences</a> are equal only when they have the same <a href="#tags">tag</a> and length and
each <a href="#nodes">node</a> in one <a href="#sequence">sequence</a> is equal to the corresponding <a href="#nodes">node</a> in the other
<a href="#sequence">sequence</a>.</p>
  </dd>
  <dd>
    <p>Two <a href="#mapping">mappings</a> are equal only when they have the same <a href="#tags">tag</a> and an equal set of
<a href="#nodes">keys</a> and each <a href="#nodes">key</a> in this set is associated with equal <a href="#nodes">values</a> in both
<a href="#mapping">mappings</a>.</p>
  </dd>
  <dd>
    <p>Different URI schemes may define different rules for testing the equality of
URIs.
Since a YAML <a href="#processes-and-models">processor</a> cannot be reasonably expected to be aware of them all,
it must resort to a simple character-by-character comparison of <a href="#tags">tags</a> to
ensure consistency.
This also happens to be the comparison method defined by the “<code class="language-plaintext highlighter-rouge">tag:</code>” URI
scheme.
<a href="#tags">Tags</a> in a YAML stream must therefore be <a href="#presenting-the-serialization-tree">presented</a> in a canonical way so
that such comparison would yield the correct results.</p>
  </dd>
  <dd>
    <p>If a node has itself as a descendant (via an alias), then determining the
equality of that node is implementation-defined.</p>
  </dd>
  <dd>
    <p>A YAML <a href="#processes-and-models">processor</a> may treat equal <a href="#scalars">scalars</a> as if they were identical.</p>
  </dd>
</dl>

<div id="uniqueness"></div>

<dl>
  <dt>Uniqueness</dt>
  <dd>
    <p>A <a href="#mapping">mapping’s</a> <a href="#nodes">keys</a> are <em>unique</em> if no two keys are equal to each other.
Obviously, identical nodes are always considered equal.</p>
  </dd>
</dl>

<div id="serialization-tree"></div>
<h3 id="322-serialization-tree">3.2.2. Serialization Tree</h3>

<p>To express a YAML <a href="#representation-graph">representation</a> using a serial API, it is necessary to
impose an <a href="#mapping-key-order">order</a> on <a href="#nodes">mapping keys</a> and employ <a href="#alias-nodes">alias nodes</a> to indicate a
subsequent occurrence of a previously encountered <a href="#nodes">node</a>.
The result of this process is a <em>serialization tree</em>, where each <a href="#nodes">node</a> has an
ordered set of children.
This tree can be traversed for a serial event-based API.
<a href="#constructing-native-data-structures">Construction</a> of <a href="#representing-native-data-structures">native data structures</a> from the serial interface should not
use <a href="#mapping-key-order">key order</a> or <a href="#anchors-and-aliases">anchor names</a> for the preservation of <a href="#processes-and-models">application</a> data.</p>

<p><strong>Figure 3.4. Serialization Model</strong></p>

<p><img src="/main/spec/1.3.0/img/serialize2.svg" alt="Serialization Model" /></p>

<div id="mapping-key-order"></div>
<h4 id="3221-mapping-key-order">3.2.2.1. Mapping Key Order</h4>

<p>In the <a href="#representation-graph">representation</a> model, <a href="#nodes">mapping keys</a> do not have an order.
To <a href="#serializing-the-representation-graph">serialize</a> a <a href="#mapping">mapping</a>, it is necessary to impose an <em>ordering</em> on its
<a href="#nodes">keys</a>.
This order is a <a href="#serializing-the-representation-graph">serialization detail</a> and should not be used when <a href="#composing-the-representation-graph">composing</a>
the <a href="#representation-graph">representation graph</a> (and hence for the preservation of <a href="#processes-and-models">application</a>
data).
In every case where <a href="#nodes">node</a> order is significant, a <a href="#sequence">sequence</a> must be used.
For example, an ordered <a href="#mapping">mapping</a> can be <a href="#representation-graph">represented</a> as a <a href="#sequence">sequence</a> of
<a href="#mapping">mappings</a>, where each <a href="#mapping">mapping</a> is a single <a href="#mapping">key/value pair</a>.
YAML provides convenient <a href="#example-flow-mapping-adjacent-values">compact notation</a> for this case.</p>

<div id="anchors-and-aliases"></div>
<h4 id="3222-anchors-and-aliases">3.2.2.2. Anchors and Aliases</h4>

<p>In the <a href="#representation-graph">representation graph</a>, a <a href="#nodes">node</a> may appear in more than one
<a href="#collections">collection</a>.
When <a href="#serializing-the-representation-graph">serializing</a> such data, the first occurrence of the <a href="#nodes">node</a> is
<em>identified</em> by an <em>anchor</em>.
Each subsequent occurrence is <a href="#serializing-the-representation-graph">serialized</a> as an <a href="#alias-nodes">alias node</a> which refers back
to this anchor.
Otherwise, anchor names are a <a href="#serializing-the-representation-graph">serialization detail</a> and are discarded once
<a href="#composing-the-representation-graph">composing</a> is completed.
When <a href="#composing-the-representation-graph">composing</a> a <a href="#representation-graph">representation graph</a> from <a href="#serializing-the-representation-graph">serialized</a> events, an alias
event refers to the most recent event in the <a href="#serialization-tree">serialization</a> having the
specified anchor.
Therefore, anchors need not be unique within a <a href="#serialization-tree">serialization</a>.
In addition, an anchor need not have an alias node referring to it.</p>

<div id="presentation-stream"></div>
<h3 id="323-presentation-stream">3.2.3. Presentation Stream</h3>

<p>A YAML <em>presentation</em> is a <a href="#streams">stream</a> of Unicode characters making use of
<a href="#node-styles">styles</a>, <a href="#scalar-formats">scalar content formats</a>, <a href="#comments">comments</a>, <a href="#directives">directives</a> and other
<a href="#presenting-the-serialization-tree">presentation details</a> to <a href="#presenting-the-serialization-tree">present</a> a YAML <a href="#serialization-tree">serialization</a> in a human readable
way.
YAML allows several <a href="#serialization-tree">serialization trees</a> to be contained in the same YAML
presentation stream, as a series of <a href="#documents">documents</a> separated by <a href="#document-markers">markers</a>.</p>

<p><strong>Figure 3.5. Presentation Model</strong></p>

<p><img src="/main/spec/1.3.0/img/present2.svg" alt="Presentation Model" /></p>

<div id="node-styles"></div>
<h4 id="3231-node-styles">3.2.3.1. Node Styles</h4>

<p>Each <a href="#nodes">node</a> is presented in some <em>style</em>, depending on its <a href="#nodes">kind</a>.
The node style is a <a href="#presenting-the-serialization-tree">presentation detail</a> and is not reflected in the
<a href="#serialization-tree">serialization tree</a> or <a href="#representation-graph">representation graph</a>.
There are two groups of styles.
<a href="#block-style-productions">Block styles</a> use <a href="#indentation-spaces">indentation</a> to denote structure.
In contrast, <a href="#flow-style-productions">flow styles</a> rely on explicit <a href="#indicator-characters">indicators</a>.</p>

<p>YAML provides a rich set of <em>scalar styles</em>.
<a href="#block-scalar-styles">Block scalar</a> styles include the <a href="#literal-style">literal style</a> and the <a href="#folded-style">folded style</a>.
<a href="#flow-scalar-styles">Flow scalar</a> styles include the <a href="#plain-style">plain style</a> and two quoted styles, the
<a href="#single-quoted-style">single-quoted style</a> and the <a href="#double-quoted-style">double-quoted style</a>.
These styles offer a range of trade-offs between expressive power and
readability.</p>

<p>Normally, <a href="#block-sequences">block sequences</a> and <a href="#mapping">mappings</a> begin on the next line.
In some cases, YAML also allows nested <a href="#scalars">block</a> <a href="#collections">collections</a> to start in-line
for a more <a href="#example-flow-mapping-adjacent-values">compact notation</a>.
In addition, YAML provides a <a href="#example-flow-mapping-adjacent-values">compact notation</a> for <a href="#flow-mappings">flow mappings</a> with a
single <a href="#mapping">key/value pair</a>, nested inside a <a href="#flow-sequences">flow sequence</a>.
These allow for a natural “ordered mapping” notation.</p>

<p><strong>Figure 3.6. Kind/Style Combinations</strong></p>

<p><img src="/main/spec/1.3.0/img/styles2.svg" alt="Kind/Style Combinations" /></p>

<div id="scalar-formats"></div>
<h4 id="3232-scalar-formats">3.2.3.2. Scalar Formats</h4>

<p>YAML allows <a href="#scalars">scalars</a> to be <a href="#presenting-the-serialization-tree">presented</a> in several <em>formats</em>.
For example, the integer “<code class="language-plaintext highlighter-rouge">11</code>” might also be written as “<code class="language-plaintext highlighter-rouge">0xB</code>”.
<a href="#tags">Tags</a> must specify a mechanism for converting the formatted content to a
<a href="#canonical-form">canonical form</a> for use in <a href="#equality">equality</a> testing.
Like <a href="#node-styles">node style</a>, the format is a <a href="#presenting-the-serialization-tree">presentation detail</a> and is not reflected
in the <a href="#serialization-tree">serialization tree</a> and <a href="#representation-graph">representation graph</a>.</p>

<div id="comments"></div>
<h4 id="3233-comments">3.2.3.3. Comments</h4>

<p><a href="#comments">Comments</a> are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not have any effect on the
<a href="#serialization-tree">serialization tree</a> or <a href="#representation-graph">representation graph</a>.
In particular, comments are not associated with a particular <a href="#nodes">node</a>.
The usual purpose of a comment is to communicate between the human maintainers
of a file.
A typical example is comments in a configuration file.
Comments must not appear inside <a href="#scalars">scalars</a>, but may be interleaved with such
<a href="#scalars">scalars</a> inside <a href="#collections">collections</a>.</p>

<div id="directives"></div>
<h4 id="3234-directives">3.2.3.4. Directives</h4>

<p>Each <a href="#documents">document</a> may be associated with a set of <a href="#directives">directives</a>.
A directive has a name and an optional sequence of parameters.
Directives are instructions to the YAML <a href="#processes-and-models">processor</a> and like all other
<a href="#presenting-the-serialization-tree">presentation details</a> are not reflected in the YAML <a href="#serialization-tree">serialization tree</a> or
<a href="#representation-graph">representation graph</a>.
This version of YAML defines two directives, “<code class="language-plaintext highlighter-rouge">YAML</code>” and “<code class="language-plaintext highlighter-rouge">TAG</code>”.
All other directives are <a href="#directives">reserved</a> for future versions of YAML.</p>

<div id="loading-failure-points"></div>
<h2 id="33-loading-failure-points">3.3. Loading Failure Points</h2>

<p>The process of <a href="#load">loading</a> <a href="#representing-native-data-structures">native data structures</a> from a YAML <a href="#streams">stream</a> has
several potential <em>failure points</em>.
The character <a href="#streams">stream</a> may be <a href="#well-formed-streams-and-identified-aliases">ill-formed</a>, <a href="#anchors-and-aliases">aliases</a> may be <a href="#well-formed-streams-and-identified-aliases">unidentified</a>,
<a href="#resolved-tags">unspecified tags</a> may be <a href="#resolved-tags">unresolvable</a>, <a href="#tags">tags</a> may be <a href="#recognized-and-valid-tags">unrecognized</a>, the
<a href="#nodes">content</a> may be <a href="#recognized-and-valid-tags">invalid</a>, <a href="#mapping">mapping</a> <a href="#nodes">keys</a> may not be <a href="#node-comparison">unique</a> and a native
type may be <a href="#available-tags">unavailable</a>.
Each of these failures results with an incomplete loading.</p>

<p>A <em>partial representation</em> need not <a href="#resolved-tags">resolve</a> the <a href="#tags">tag</a> of each <a href="#nodes">node</a> and the
<a href="#canonical-form">canonical form</a> of <a href="#scalar-formats">formatted scalar content</a> need not be available.
This weaker representation is useful for cases of incomplete knowledge of the
types used in the <a href="#documents">document</a>.</p>

<p>In contrast, a <em>complete representation</em> specifies the <a href="#tags">tag</a> of each <a href="#nodes">node</a> and
provides the <a href="#canonical-form">canonical form</a> of <a href="#scalar-formats">formatted scalar content</a>, allowing for
<a href="#equality">equality</a> testing.
A complete representation is required in order to <a href="#constructing-native-data-structures">construct</a> <a href="#representing-native-data-structures">native data
structures</a>.</p>

<p><strong>Figure 3.7. Loading Failure Points</strong></p>

<p><img src="/main/spec/1.3.0/img/validity2.svg" alt="Loading Failure Points" /></p>

<div id="well-formed-streams-and-identified-aliases"></div>
<h3 id="331-well-formed-streams-and-identified-aliases">3.3.1. Well-Formed Streams and Identified Aliases</h3>

<p>A <a href="#example-stream">well-formed</a> character <a href="#streams">stream</a> must match the BNF productions specified in
the following chapters.
Successful loading also requires that each <a href="#anchors-and-aliases">alias</a> shall refer to a previous
<a href="#nodes">node</a> <a href="#anchors-and-aliases">identified</a> by the <a href="#anchors-and-aliases">anchor</a>.
A YAML <a href="#processes-and-models">processor</a> should reject <em>ill-formed streams</em> and <em>unidentified
aliases</em>.
A YAML <a href="#processes-and-models">processor</a> may recover from syntax errors, possibly by ignoring certain
parts of the input, but it must provide a mechanism for reporting such errors.</p>

<div id="resolved-tags"></div>
<h3 id="332-resolved-tags">3.3.2. Resolved Tags</h3>

<p>Typically, most <a href="#tags">tags</a> are not explicitly specified in the character <a href="#streams">stream</a>.
During <a href="#parsing-the-presentation-stream">parsing</a>, <a href="#nodes">nodes</a> lacking an explicit <a href="#tags">tag</a> are given a <em>non-specific
tag</em>: “<code class="language-plaintext highlighter-rouge">!</code>” for non-<a href="#plain-style">plain scalars</a> and “<code class="language-plaintext highlighter-rouge">?</code>” for all other <a href="#nodes">nodes</a>.
<a href="#composing-the-representation-graph">Composing</a> a <a href="#loading-failure-points">complete representation</a> requires each such non-specific tag to
be <em>resolved</em> to a <em>specific tag</em>, be it a <a href="#tags">global tag</a> or a <a href="#tags">local tag</a>.</p>

<p>Resolving the <a href="#tags">tag</a> of a <a href="#nodes">node</a> must only depend on the following three
parameters: (1) the non-specific tag of the <a href="#nodes">node</a>, (2) the path leading from
the <a href="#representation-graph">root</a> to the <a href="#nodes">node</a> and (3) the <a href="#nodes">content</a> (and hence the <a href="#nodes">kind</a>) of the
<a href="#nodes">node</a>.
When a <a href="#nodes">node</a> has more than one occurrence (using <a href="#anchors-and-aliases">aliases</a>), tag resolution
must depend only on the path to the first (<a href="#anchors-and-aliases">anchored</a>) occurrence of the
<a href="#nodes">node</a>.</p>

<p>Note that resolution must not consider <a href="#presenting-the-serialization-tree">presentation details</a> such as
<a href="#comments">comments</a>, <a href="#indentation-spaces">indentation</a> and <a href="#node-styles">node style</a>.
Also, resolution must not consider the <a href="#nodes">content</a> of any other <a href="#nodes">node</a>, except
for the <a href="#nodes">content</a> of the <a href="#mapping">key nodes</a> directly along the path leading from the
<a href="#representation-graph">root</a> to the resolved <a href="#nodes">node</a>.
Finally, resolution must not consider the <a href="#nodes">content</a> of a sibling <a href="#nodes">node</a> in a
<a href="#collections">collection</a> or the <a href="#nodes">content</a> of the <a href="#nodes">value node</a> associated with a <a href="#mapping">key node</a>
being resolved.</p>

<p>These rules ensure that tag resolution can be performed as soon as a <a href="#nodes">node</a> is
first encountered in the <a href="#streams">stream</a>, typically before its <a href="#nodes">content</a> is <a href="#parsing-the-presentation-stream">parsed</a>.
Also, tag resolution only requires referring to a relatively small number of
previously parsed <a href="#nodes">nodes</a>.
Thus, in most cases, tag resolution in one-pass <a href="#processes-and-models">processors</a> is both possible
and practical.</p>

<p>YAML <a href="#processes-and-models">processors</a> should resolve <a href="#nodes">nodes</a> having the “<code class="language-plaintext highlighter-rouge">!</code>” non-specific tag as
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>”, “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code>” depending on their <a href="#nodes">kind</a>.
This <em>tag resolution convention</em> allows the author of a YAML character <a href="#streams">stream</a>
to effectively “disable” the tag resolution process.
By explicitly specifying a “<code class="language-plaintext highlighter-rouge">!</code>” non-specific <a href="#node-tags">tag property</a>, the <a href="#nodes">node</a> would
then be resolved to a “vanilla” <a href="#sequence">sequence</a>, <a href="#mapping">mapping</a> or string, according to
its <a href="#nodes">kind</a>.</p>

<p><a href="#processes-and-models">Application</a> specific tag resolution rules should be restricted to resolving
the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag, most commonly to resolving <a href="#plain-style">plain scalars</a>.
These may be matched against a set of regular expressions to provide automatic
resolution of integers, floats, timestamps and similar types.
An <a href="#processes-and-models">application</a> may also match the <a href="#nodes">content</a> of <a href="#mapping">mapping nodes</a> against sets
of expected <a href="#nodes">keys</a> to automatically resolve points, complex numbers and similar
types.
Resolved <a href="#sequence">sequence node</a> types such as the “ordered mapping” are also possible.</p>

<p>That said, tag resolution is specific to the <a href="#processes-and-models">application</a>.
YAML <a href="#processes-and-models">processors</a> should therefore provide a mechanism allowing the
<a href="#processes-and-models">application</a> to override and expand these default tag resolution rules.</p>

<p>If a <a href="#documents">document</a> contains <em>unresolved tags</em>, the YAML <a href="#processes-and-models">processor</a> is unable to
<a href="#composing-the-representation-graph">compose</a> a <a href="#loading-failure-points">complete representation</a> graph.
In such a case, the YAML <a href="#processes-and-models">processor</a> may <a href="#composing-the-representation-graph">compose</a> a <a href="#loading-failure-points">partial representation</a>,
based on each <a href="#nodes">node’s kind</a> and allowing for non-specific tags.</p>

<div id="recognized-and-valid-tags"></div>
<h3 id="333-recognized-and-valid-tags">3.3.3. Recognized and Valid Tags</h3>

<p>To be <em>valid</em>, a <a href="#nodes">node</a> must have a <a href="#tags">tag</a> which is <em>recognized</em> by the YAML
<a href="#processes-and-models">processor</a> and its <a href="#nodes">content</a> must satisfy the constraints imposed by this
<a href="#tags">tag</a>.
If a <a href="#documents">document</a> contains a <a href="#nodes">scalar node</a> with an <em>unrecognized tag</em> or <em>invalid
content</em>, only a <a href="#loading-failure-points">partial representation</a> may be <a href="#composing-the-representation-graph">composed</a>.
In contrast, a YAML <a href="#processes-and-models">processor</a> can always <a href="#composing-the-representation-graph">compose</a> a <a href="#loading-failure-points">complete
representation</a> for an unrecognized or an invalid <a href="#collections">collection</a>, since
<a href="#collections">collection</a> <a href="#equality">equality</a> does not depend upon knowledge of the <a href="#mapping">collection’s</a>
data type.
However, such a <a href="#loading-failure-points">complete representation</a> cannot be used to <a href="#constructing-native-data-structures">construct</a> a
<a href="#representing-native-data-structures">native data structure</a>.</p>

<div id="available-tags"></div>
<h3 id="334-available-tags">3.3.4. Available Tags</h3>

<p>In a given processing environment, there need not be an <em>available</em> native type
corresponding to a given <a href="#tags">tag</a>.
If a <a href="#tags">node’s tag</a> is <em>unavailable</em>, a YAML <a href="#processes-and-models">processor</a> will not be able to
<a href="#constructing-native-data-structures">construct</a> a <a href="#representing-native-data-structures">native data structure</a> for it.
In this case, a <a href="#loading-failure-points">complete representation</a> may still be <a href="#composing-the-representation-graph">composed</a> and an
<a href="#processes-and-models">application</a> may wish to use this <a href="#representation-graph">representation</a> directly.</p>

<div id="character-productions"></div>
<h1 id="chapter-4-character-productions">Chapter 4. Character Productions</h1>

<div id="character-set"></div>
<h2 id="41-character-set">4.1. Character Set</h2>

<p>To ensure readability, YAML <a href="#streams">streams</a> use only the <em>printable</em> subset of the
Unicode character set.
The allowed character range explicitly excludes the C0 control block<sup id="fnref:c0-block" role="doc-noteref"><a href="#fn:c0-block" class="footnote" rel="footnote">14</a></sup>
<code class="language-plaintext highlighter-rouge">x00-x1F</code> (except for TAB <code class="language-plaintext highlighter-rouge">x09</code>, LF <code class="language-plaintext highlighter-rouge">x0A</code> and CR <code class="language-plaintext highlighter-rouge">x0D</code> which are allowed), DEL
<code class="language-plaintext highlighter-rouge">x7F</code>, the C1 control block <code class="language-plaintext highlighter-rouge">x80-x9F</code> (except for NEL <code class="language-plaintext highlighter-rouge">x85</code> which is allowed),
the surrogate block<sup id="fnref:surrogates" role="doc-noteref"><a href="#fn:surrogates" class="footnote" rel="footnote">15</a></sup> <code class="language-plaintext highlighter-rouge">xD800-xDFFF</code>, <code class="language-plaintext highlighter-rouge">xFFFE</code> and <code class="language-plaintext highlighter-rouge">xFFFF</code>.</p>

<p>On input, a YAML <a href="#processes-and-models">processor</a> must accept all characters in this printable
subset.</p>

<p>On output, a YAML <a href="#processes-and-models">processor</a> must only produce only characters in this
printable subset.
<sup class="rule-link"><a href="#rule-yaml-character">?</a></sup>
Characters outside this set must be <a href="#presenting-the-serialization-tree">presented</a> using <a href="#escaped-characters">escape</a> sequences.
In addition, any allowed characters known to be non-printable should also be
<a href="#escaped-characters">escaped</a>.</p>

<blockquote>
  <p>Note: This isn’t mandatory since a full implementation would require
extensive character property tables.</p>
</blockquote>

<p>To ensure <a href="#yaml-directives">JSON compatibility</a>, YAML <a href="#processes-and-models">processors</a> must allow all non-C0
characters inside <a href="#double-quoted-style">quoted scalars</a>.
<sup class="rule-link"><a href="#rule-json-character">?</a></sup>
To ensure readability, non-printable characters should be <a href="#escaped-characters">escaped</a> on output,
even inside such <a href="#scalars">scalars</a>.</p>

<blockquote>
  <p>Note: JSON <a href="#double-quoted-style">quoted scalars</a> cannot span multiple lines or contain <a href="#white-space-characters">tabs</a>, but
YAML <a href="#double-quoted-style">quoted scalars</a> can.</p>
</blockquote>

<div id="character-encodings"></div>
<h2 id="42-character-encodings">4.2. Character Encodings</h2>

<p>All characters mentioned in this specification are Unicode code points.
Each such code point is written as one or more bytes depending on the
<em>character encoding</em> used.
Note that in UTF-16, characters above <code class="language-plaintext highlighter-rouge">xFFFF</code> are written as four bytes, using
a surrogate pair.</p>

<p>The character encoding is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to
convey <a href="#nodes">content</a> information.</p>

<p>On input, a YAML <a href="#processes-and-models">processor</a> must support the UTF-8 and UTF-16 character
encodings.
For <a href="#yaml-directives">JSON compatibility</a>, the UTF-32 encodings must also be supported.</p>

<p>If a character <a href="#streams">stream</a> begins with a <em>byte order mark</em>, the character encoding
will be taken to be as indicated by the byte order mark.
Otherwise, the <a href="#streams">stream</a> must begin with an ASCII character.
This allows the encoding to be deduced by the pattern of null (<code class="language-plaintext highlighter-rouge">x00</code>)
characters.</p>

<p>Byte order marks may appear at the start of any <a href="#documents">document</a>, however all
<a href="#documents">documents</a> in the same <a href="#streams">stream</a> must use the same character encoding.</p>

<p>To allow for <a href="#yaml-directives">JSON compatibility</a>, byte order marks are also allowed inside
<a href="#double-quoted-style">quoted scalars</a>.
For readability, such <a href="#nodes">content</a> byte order marks should be <a href="#escaped-characters">escaped</a> on output.</p>

<p>The encoding can therefore be deduced by matching the first few bytes of the
<a href="#streams">stream</a> with the following table rows (in order):</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Byte0</th>
      <th>Byte1</th>
      <th>Byte2</th>
      <th>Byte3</th>
      <th>Encoding</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Explicit BOM</td>
      <td>x00</td>
      <td>x00</td>
      <td>xFE</td>
      <td>xFF</td>
      <td>UTF-32BE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>x00</td>
      <td>x00</td>
      <td>x00</td>
      <td>any</td>
      <td>UTF-32BE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>xFF</td>
      <td>xFE</td>
      <td>x00</td>
      <td>x00</td>
      <td>UTF-32LE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>any</td>
      <td>x00</td>
      <td>x00</td>
      <td>x00</td>
      <td>UTF-32LE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>xFE</td>
      <td>xFF</td>
      <td> </td>
      <td> </td>
      <td>UTF-16BE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>x00</td>
      <td>any</td>
      <td> </td>
      <td> </td>
      <td>UTF-16BE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>xFF</td>
      <td>xFE</td>
      <td> </td>
      <td> </td>
      <td>UTF-16LE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>any</td>
      <td>x00</td>
      <td> </td>
      <td> </td>
      <td>UTF-16LE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>xEF</td>
      <td>xBB</td>
      <td>xBF</td>
      <td> </td>
      <td>UTF-8</td>
    </tr>
    <tr>
      <td>Default</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>UTF-8</td>
    </tr>
  </tbody>
</table>

<p>The recommended output encoding is UTF-8.
If another encoding is used, it is recommended that an explicit byte order mark
be used, even if the first <a href="#streams">stream</a> character is ASCII.</p>

<p>For more information about the byte order mark and the Unicode character
encoding schemes see the Unicode FAQ<sup id="fnref:uni-faq" role="doc-noteref"><a href="#fn:uni-faq" class="footnote" rel="footnote">16</a></sup>.</p>

<p>In the examples, byte order mark characters are displayed as “<code class="language-plaintext highlighter-rouge">⇔</code>”.</p>

<div id="example-byte-order-mark" class="example">
  <p><strong>Example 4.1 Byte Order Mark</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">⇔</mark># Comment only.

</pre>

</td>
<td class="side-by-side">
<pre>
# This stream contains no
# documents, only comments.
</pre>

</td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-byte-order-mark">byte-order-mark</a></code></li>
    </ul>
  </div>
</div>

<div id="example-invalid-byte-order-mark" class="example">
  <p><strong>Example 4.2 Invalid Byte Order Mark</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
- Invalid use of BOM
<mark class="legend-1">⇔</mark>
- Inside a document.
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
 A <mark class="legend-1">BOM</mark> must not appear
 inside a document.
</pre>

</td>
</tr>
</table>
</div>

<div id="indicator-characters"></div>
<h2 id="43-indicator-characters">4.3. Indicator Characters</h2>

<p><em>Indicators</em> are characters that have special semantics.</p>

<p>”<code class="language-plaintext highlighter-rouge">-</code>” (<code class="language-plaintext highlighter-rouge">x2D</code>, hyphen) denotes a <a href="#block-sequences">block sequence</a> entry.</p>

<p>”<code class="language-plaintext highlighter-rouge">?</code>” (<code class="language-plaintext highlighter-rouge">x3F</code>, question mark) denotes a <a href="#nodes">mapping key</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">:</code>” (<code class="language-plaintext highlighter-rouge">x3A</code>, colon) denotes a <a href="#mapping">mapping value</a>.</p>

<div id="example-block-structure-indicators" class="example">
  <p><strong>Example 4.3 Block Structure Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
sequence<mark class="legend-3">:</mark>
<mark class="legend-1">-</mark> one
<mark class="legend-1">-</mark> two
mapping<mark class="legend-3">:</mark>
  <mark class="legend-2">?</mark> sky
  <mark class="legend-3">:</mark> blue
  sea <mark class="legend-3">:</mark> green
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"mapping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sky"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">sequence entry indicator</code></li>
      <li><code class="legend-2">mapping key</code></li>
      <li><code class="legend-3">mapping value</code></li>
    </ul>
  </div>
</div>

<p>”<code class="language-plaintext highlighter-rouge">,</code>” (<code class="language-plaintext highlighter-rouge">x2C</code>, comma) ends a <a href="#flow-collection-styles">flow collection</a> entry.</p>

<p>”<code class="language-plaintext highlighter-rouge">[</code>” (<code class="language-plaintext highlighter-rouge">x5B</code>, left bracket) starts a <a href="#flow-sequences">flow sequence</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">]</code>” (<code class="language-plaintext highlighter-rouge">x5D</code>, right bracket) ends a <a href="#flow-sequences">flow sequence</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">{</code>” (<code class="language-plaintext highlighter-rouge">x7B</code>, left brace) starts a <a href="#flow-mappings">flow mapping</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">}</code>” (<code class="language-plaintext highlighter-rouge">x7D</code>, right brace) ends a <a href="#flow-mappings">flow mapping</a>.</p>

<div id="example-flow-collection-indicators" class="example">
  <p><strong>Example 4.4 Flow Collection Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
sequence: <mark class="legend-1">[</mark> one<mark class="legend-3">,</mark> two<mark class="legend-3">,</mark> <mark class="legend-1">]</mark>
mapping: <mark class="legend-2">{</mark> sky: blue<mark class="legend-3">,</mark> sea: green <mark class="legend-2">}</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w"> </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"mapping"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"sky"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="nl">"sea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">sequence start, sequence end</code></li>
      <li><code class="legend-2">mapping start, mapping end</code></li>
      <li><code class="legend-3">collection entry</code></li>
    </ul>
  </div>
</div>

<p>”<code class="language-plaintext highlighter-rouge">#</code>” (<code class="language-plaintext highlighter-rouge">x23</code>, octothorpe, hash, sharp, pound, number sign) denotes a <a href="#comments">comment</a>.</p>

<div id="example-comment-indicator" class="example">
  <p><strong>Example 4.5 Comment Indicator</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">#</mark> Comment only.

</pre>

</td>
<td class="side-by-side">
<pre>
# This stream contains no
# documents, only comments.
</pre>

</td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">comment</code></li>
    </ul>
  </div>
</div>

<p>”<code class="language-plaintext highlighter-rouge">&amp;</code>” (<code class="language-plaintext highlighter-rouge">x26</code>, ampersand) denotes a <a href="#anchors-and-aliases">node’s anchor property</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">*</code>” (<code class="language-plaintext highlighter-rouge">x2A</code>, asterisk) denotes an <a href="#alias-nodes">alias node</a>.</p>

<p>The “<code class="language-plaintext highlighter-rouge">!</code>” (<code class="language-plaintext highlighter-rouge">x21</code>, exclamation) is used for specifying <a href="#node-tags">node tags</a>.
It is used to denote <a href="#tag-handles">tag handles</a> used in <a href="#tag-directives">tag directives</a> and <a href="#node-tags">tag
properties</a>; to denote <a href="#tags">local tags</a>; and as the <a href="#resolved-tags">non-specific tag</a> for
non-<a href="#plain-style">plain scalars</a>.</p>

<div id="example-node-property-indicators" class="example">
  <p><strong>Example 4.6 Node Property Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
anchored: <mark class="legend-1">!</mark>local <mark class="legend-2">&amp;</mark>anchor value
alias: <mark class="legend-3">*</mark>anchor
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"anchored"</span><span class="p">:</span><span class="w"> </span><span class="err">!local</span><span class="w"> </span><span class="err">&amp;A</span><span class="mi">1</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="err">*A</span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">tag</code></li>
      <li><code class="legend-2">anchor</code></li>
      <li><code class="legend-3">alias</code></li>
    </ul>
  </div>
</div>

<p>”<code class="language-plaintext highlighter-rouge">|</code>” (<code class="language-plaintext highlighter-rouge">7C</code>, vertical bar) denotes a <a href="#literal-style">literal block scalar</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">&gt;</code>” (<code class="language-plaintext highlighter-rouge">x3E</code>, greater than) denotes a <a href="#block-folding">folded block scalar</a>.</p>

<div id="example-block-scalar-indicators" class="example">
  <p><strong>Example 4.7 Block Scalar Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
literal: <mark class="legend-1">|</mark>
  some
  text
folded: <mark class="legend-2">&gt;</mark>
  some
  text
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"literal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some</span><span class="se">\n</span><span class="s2">text</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"folded"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some text</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">literal</code></li>
      <li><code class="legend-2">folded</code></li>
    </ul>
  </div>
</div>

<p>”<code class="language-plaintext highlighter-rouge">'</code>” (<code class="language-plaintext highlighter-rouge">x27</code>, apostrophe, single quote) surrounds a <a href="#single-quoted-style">single-quoted flow
scalar</a>.</p>

<p>”<code class="language-plaintext highlighter-rouge">"</code>” (<code class="language-plaintext highlighter-rouge">x22</code>, double quote) surrounds a <a href="#double-quoted-style">double-quoted flow scalar</a>.</p>

<div id="example-quoted-scalar-indicators" class="example">
  <p><strong>Example 4.8 Quoted Scalar Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
single: <mark class="legend-1">'</mark>text<mark class="legend-1">'</mark>
double: <mark class="legend-2">"</mark>text<mark class="legend-2">"</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"single"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"double"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">single quote</code></li>
      <li><code class="legend-2">double quote</code></li>
    </ul>
  </div>
</div>

<p>”<code class="language-plaintext highlighter-rouge">%</code>” (<code class="language-plaintext highlighter-rouge">x25</code>, percent) denotes a <a href="#directives">directive</a> line.</p>

<div id="example-directive-indicator" class="example">
  <p><strong>Example 4.9 Directive Indicator</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">%</mark>YAML 1.3
--- text
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"text"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">directive</code></li>
    </ul>
  </div>
</div>

<p>The “<code class="language-plaintext highlighter-rouge">@</code>” (<code class="language-plaintext highlighter-rouge">x40</code>, at) and “<code>&grave;</code>” (<code class="language-plaintext highlighter-rouge">x60</code>, grave accent) are
<em>reserved</em> for future use.</p>

<div id="example-invalid-use-of-reserved-indicators" class="example">
  <p><strong>Example 4.10 Invalid use of Reserved Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
commercial-at: <mark class="legend-1">@</mark>text
grave-accent: <mark class="legend-1">`</mark>text
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
 <mark class="legend-1">Reserved indicators</mark> can't
 start a plain scalar.
</pre>

</td>
</tr>
</table>
</div>

<p>The “<code class="language-plaintext highlighter-rouge">[</code>”, “<code class="language-plaintext highlighter-rouge">]</code>”, “<code class="language-plaintext highlighter-rouge">{</code>”, “<code class="language-plaintext highlighter-rouge">}</code>” and “<code class="language-plaintext highlighter-rouge">,</code>” indicators denote structure in <a href="#flow-collection-styles">flow
collections</a>.
They are therefore forbidden in some cases, to avoid ambiguity in several
constructs.
This is handled on a case-by-case basis by the relevant productions.</p>

<div id="line-break-characters"></div>
<h2 id="44-line-break-characters">4.4. Line Break Characters</h2>

<p>The line feed (<code class="language-plaintext highlighter-rouge">x0A</code>) and carriage return (<code class="language-plaintext highlighter-rouge">0x0D</code>) are line break characters.</p>

<p>All other characters, including the form feed (<code class="language-plaintext highlighter-rouge">x0C</code>), are considered to be
non-break characters.
Note that these include the <em>non-ASCII line breaks</em>: next line (<code class="language-plaintext highlighter-rouge">x85</code>), line
separator (<code class="language-plaintext highlighter-rouge">x2028</code>) and paragraph separator (<code class="language-plaintext highlighter-rouge">x2029</code>).</p>

<p><a href="#yaml-directives">YAML version 1.1</a> did support the above non-ASCII line break characters;
however, JSON does not.
Hence, to ensure <a href="#yaml-directives">JSON compatibility</a>, YAML treats them as non-break characters
as of version 1.2.
YAML 1.3 <a href="#processes-and-models">processors</a> <a href="#parsing-the-presentation-stream">parsing</a> a <a href="#yaml-directives">version 1.1</a> <a href="#documents">document</a> should therefore
treat these line breaks as non-break characters, with an appropriate warning.</p>

<p>Line breaks are interpreted differently by different systems and have multiple
widely used formats.</p>

<p>Line breaks inside <a href="#scalar">scalar content</a> must be <em>normalized</em> by the YAML
<a href="#processes-and-models">processor</a>.
Each such line break must be <a href="#parsing-the-presentation-stream">parsed</a> into a single line feed character.
The original line break format is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used
to convey <a href="#nodes">content</a> information.</p>

<p>Outside <a href="#scalar">scalar content</a>, YAML allows any line break to be used to terminate
lines.</p>

<p>On output, a YAML <a href="#processes-and-models">processor</a> is free to emit line breaks using whatever
convention is most appropriate.</p>

<p>In the examples, line breaks are sometimes displayed using the “<code class="language-plaintext highlighter-rouge">↓</code>” glyph for
clarity.</p>

<div id="example-line-break-characters" class="example">
  <p><strong>Example 4.11 Line Break Characters</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
|
  Line break (no glyph)
  Line break (glyphed)<mark class="legend-1">↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Line break (no glyph)</span><span class="se">\n</span><span class="s2">Line break (glyphed)</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-line-break">line-break</a></code></li>
    </ul>
  </div>
</div>

<div id="white-space-characters"></div>
<h2 id="45-white-space-characters">4.5. White Space Characters</h2>

<p>YAML recognizes two <em>white space</em> characters: <em>space</em> and <em>tab</em>.</p>

<p>The rest of the (<a href="#character-set">printable</a>) non-<a href="#line-break-characters">break</a> characters are considered to be
non-space characters.</p>

<p>In the examples, tab characters are displayed as the glyph “<code class="language-plaintext highlighter-rouge">→</code>”.
Space characters are sometimes displayed as the glyph “<code class="language-plaintext highlighter-rouge">·</code>” for clarity.</p>

<div id="example-tabs-and-spaces" class="example">
  <p><strong>Example 4.12 Tabs and Spaces</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Tabs and spaces
quoted:<mark class="legend-1">·</mark>"Quoted <mark class="legend-2">→</mark>"
block:<mark class="legend-2">→</mark>|
<mark class="legend-1">··</mark>void main() {
<mark class="legend-1">··</mark><mark class="legend-2">→</mark>printf("Hello, world!\n");
<mark class="legend-1">··</mark>}
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"quoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quoted </span><span class="se">\t</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void main()
    {</span><span class="se">\n\t</span><span class="s2">printf(</span><span class="se">\"</span><span class="s2">Hello, world!</span><span class="se">\\</span><span class="s2">n</span><span class="se">\"</span><span class="s2">);</span><span class="se">\n</span><span class="s2">}</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">space</code></li>
      <li><code class="legend-2">tab</code></li>
    </ul>
  </div>
</div>

<div id="miscellaneous-characters"></div>
<h2 id="46-miscellaneous-characters">4.6. Miscellaneous Characters</h2>

<p>The YAML syntax productions make use of the following additional character
classes:</p>

<ul>
  <li>A decimal digit for numbers.</li>
  <li>A hexadecimal digit for <a href="#escaped-characters">escape sequences</a>.</li>
  <li>ASCII letter (alphabetic) characters.</li>
  <li>Word (alphanumeric) characters for identifiers.</li>
  <li>URI characters for <a href="#tags">tags</a>, as defined in the URI specification<sup id="fnref:uri" role="doc-noteref"><a href="#fn:uri" class="footnote" rel="footnote">17</a></sup>.</li>
</ul>

<p>By convention, any URI characters other than the allowed printable ASCII
characters are first <em>encoded</em> in UTF-8 and then each byte is <em>escaped</em> using
the “<code class="language-plaintext highlighter-rouge">%</code>” character.
The YAML <a href="#processes-and-models">processor</a> must not expand such escaped characters.
<a href="#tags">Tag</a> characters must be preserved and compared exactly as <a href="#presenting-the-serialization-tree">presented</a> in the
YAML <a href="#streams">stream</a>, without any processing.</p>

<p>The “<code class="language-plaintext highlighter-rouge">!</code>” character is used to indicate the end of a <a href="#tag-handles">named tag handle</a>; hence
its use in <a href="#tag-shorthands">tag shorthands</a> is restricted.
In addition, such <a href="#tag-shorthands">shorthands</a> must not contain the “<code class="language-plaintext highlighter-rouge">[</code>”, “<code class="language-plaintext highlighter-rouge">]</code>”, “<code class="language-plaintext highlighter-rouge">{</code>”, “<code class="language-plaintext highlighter-rouge">}</code>”
and “<code class="language-plaintext highlighter-rouge">,</code>” characters.
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.</p>

<div id="escaped-characters"></div>
<h2 id="47-escaped-characters">4.7. Escaped Characters</h2>

<p>All non-<a href="#character-set">printable</a> characters must be <em>escaped</em>.
YAML escape sequences use the “<code class="language-plaintext highlighter-rouge">\</code>” notation common to most modern computer
languages.
Each escape sequence must be <a href="#parsing-the-presentation-stream">parsed</a> into the appropriate Unicode character.
The original escape sequence is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to
convey <a href="#nodes">content</a> information.</p>

<p>Note that escape sequences are only interpreted in <a href="#double-quoted-style">double-quoted scalars</a>.
In all other <a href="#node-styles">scalar styles</a>, the “<code class="language-plaintext highlighter-rouge">\</code>” character has no special meaning and
non-<a href="#character-set">printable</a> characters are not available.</p>

<p>YAML escape sequences are a superset of C’s escape sequences:</p>

<table>
  <thead>
    <tr>
      <th>Escape</th>
      <th>Character</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\0</code></td>
      <td>Null (<code class="language-plaintext highlighter-rouge">x00</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\a</code></td>
      <td>Bell (<code class="language-plaintext highlighter-rouge">x07</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\b</code></td>
      <td>Backspace (<code class="language-plaintext highlighter-rouge">x08</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\t</code></td>
      <td>Horizontal Tabulation (<code class="language-plaintext highlighter-rouge">x09</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\n</code></td>
      <td>New Line (<code class="language-plaintext highlighter-rouge">x0A</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\v</code></td>
      <td>Vertical Tabulation (<code class="language-plaintext highlighter-rouge">x0B</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\f</code></td>
      <td>Form Feed (<code class="language-plaintext highlighter-rouge">x0C</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\r</code></td>
      <td>Carriage Return (<code class="language-plaintext highlighter-rouge">x0D</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\e</code></td>
      <td>Escape (<code class="language-plaintext highlighter-rouge">x1B</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\ </code></td>
      <td>Space (<code class="language-plaintext highlighter-rouge">x20</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\"</code></td>
      <td>Quotation Mark (<code class="language-plaintext highlighter-rouge">x22</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\/</code></td>
      <td>Solidus (<code class="language-plaintext highlighter-rouge">x22</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\\</code></td>
      <td>Reverse Solidus (<code class="language-plaintext highlighter-rouge">x22</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\N</code></td>
      <td>Next Line (<code class="language-plaintext highlighter-rouge">x85</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\_</code></td>
      <td>No-Break Space (<code class="language-plaintext highlighter-rouge">x85</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\L</code></td>
      <td>Line Separator (<code class="language-plaintext highlighter-rouge">x2028</code>)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\P</code></td>
      <td>Paragraph Separator (<code class="language-plaintext highlighter-rouge">x2029</code>)</td>
    </tr>
  </tbody>
</table>

<p>An escaped tab character (<code class="language-plaintext highlighter-rouge">x09</code>) evaluates to a tab character.</p>

<p>The <code class="language-plaintext highlighter-rouge">\x</code>, <code class="language-plaintext highlighter-rouge">\u</code>, and <code class="language-plaintext highlighter-rouge">\U</code> escape sequences are followed by two, four, and eight
hexadecimal digits respectively.
Those digits are interpreted as a Unicode code point.
The value of the escape is the character at that code point.</p>

<div id="example-escaped-characters" class="example">
  <p><strong>Example 4.13 Escaped Characters</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- "Fun with <mark class="legend-1">\\</mark>"
- "<mark class="legend-1">\"</mark> <mark class="legend-1">\a</mark> <mark class="legend-1">\b</mark> <mark class="legend-1">\e</mark> <mark class="legend-1">\f</mark>"
- "<mark class="legend-1">\n</mark> <mark class="legend-1">\r</mark> <mark class="legend-1">\t</mark> <mark class="legend-1">\v</mark> <mark class="legend-1">\0</mark>"
- "<mark class="legend-1">\ </mark> <mark class="legend-1">\_</mark> <mark class="legend-1">\N</mark> <mark class="legend-1">\L</mark> <mark class="legend-1">\P</mark> \
  <mark class="legend-1">\x41</mark> <mark class="legend-1">\u0041</mark> <mark class="legend-1">\U00000041</mark>"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"Fun with </span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\"</span><span class="s2"> </span><span class="se">\u</span><span class="s2">0007 </span><span class="se">\b</span><span class="s2"> </span><span class="se">\u</span><span class="s2">001b </span><span class="se">\f</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\n</span><span class="s2"> </span><span class="se">\r</span><span class="s2"> </span><span class="se">\t</span><span class="s2"> </span><span class="se">\u</span><span class="s2">000b </span><span class="se">\u</span><span class="s2">0000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\u</span><span class="s2">0020 </span><span class="se">\u</span><span class="s2">00a0 </span><span class="se">\u</span><span class="s2">0085 </span><span class="se">\u</span><span class="s2">2028 </span><span class="se">\u</span><span class="s2">2029 A A A"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-double-quoted-scalar-escape-character">double-quoted-scalar-escape-character</a></code></li>
    </ul>
  </div>
</div>

<div id="example-invalid-escaped-characters" class="example">
  <p><strong>Example 4.14 Invalid Escaped Characters</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
Bad escapes:
  "\<mark class="legend-1">c</mark>
  \x<mark class="legend-2">q-</mark>"
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- <mark class="legend-1">c</mark> is an invalid escaped character.
- <mark class="legend-2">q</mark> and <mark class="legend-2">-</mark> are invalid hex digits.
</pre>

</td>
</tr>
</table>
</div>

<div id="structural-productions"></div>
<h1 id="chapter-5-structural-productions">Chapter 5. Structural Productions</h1>

<div id="indentation-spaces"></div>
<h2 id="51-indentation-spaces">5.1. Indentation Spaces</h2>

<p>In YAML <a href="#block-style-productions">block styles</a>, structure is determined by <em>indentation</em>.
In general, indentation is defined as a zero or more <a href="#white-space-characters">space</a> characters at the
start of a line.
<sup class="rule-link"><a href="#rule-indentation-spaces">?</a></sup></p>

<p>To maintain portability, <a href="#white-space-characters">tab</a> characters must not be used in indentation,
since different systems treat <a href="#white-space-characters">tabs</a> differently.
Note that most modern editors may be configured so that pressing the <a href="#white-space-characters">tab</a> key
results in the insertion of an appropriate number of <a href="#white-space-characters">spaces</a>.</p>

<p>The amount of indentation is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to
convey <a href="#nodes">content</a> information.</p>

<p>A <a href="#block-style-productions">block style</a> construct is terminated when encountering a line which is less
indented than the construct.
The productions use the notation “<code class="language-plaintext highlighter-rouge">indentation-spaces-less-than(n)</code>” and
“<code class="language-plaintext highlighter-rouge">indentation-spaces-less-or-equal(n)</code>” to express this.</p>

<p>Each <a href="#nodes">node</a> must be indented further than its parent <a href="#nodes">node</a>.
All sibling <a href="#nodes">nodes</a> must use the exact same indentation level.
However the <a href="#nodes">content</a> of each sibling <a href="#nodes">node</a> may be further indented
independently.</p>

<div id="example-indentation-spaces" class="example">
  <p><strong>Example 5.1 Indentation Spaces</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-3">··</mark># Leading comment line spaces are
<mark class="legend-3">···</mark># neither content nor indentation.
<mark class="legend-3">····</mark>
Not indented:
<mark class="legend-1">·</mark>By one space: |
<mark class="legend-1">····</mark>By four
<mark class="legend-1">····</mark><mark class="legend-2">··</mark>spaces
<mark class="legend-1">·</mark>Flow style: [    # Leading spaces
<mark class="legend-1">··</mark><mark class="legend-3">·</mark>By two,        # in flow style
<mark class="legend-1">··</mark>Also by two,    # are neither
<mark class="legend-1">··</mark>→Still by two   # content nor
<mark class="legend-1">··</mark><mark class="legend-3">··</mark>]             # indentation.
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"Not indented"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"By one space"</span><span class="p">:</span><span class="w"> </span><span class="s2">"By four</span><span class="se">\n</span><span class="s2">  spaces</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Flow style"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"By two"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Also by two"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Still by two"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
      <li><code class="legend-2">Content</code></li>
      <li><code class="legend-3">Neither content nor indentation</code></li>
    </ul>
  </div>
</div>

<p>The “<code class="language-plaintext highlighter-rouge">-</code>”, “<code class="language-plaintext highlighter-rouge">?</code>” and “<code class="language-plaintext highlighter-rouge">:</code>” characters used to denote <a href="#block-collection-styles">block collection</a> entries
are perceived by people to be part of the indentation.
This is handled on a case-by-case basis by the relevant productions.</p>

<div id="example-indentation-indicators" class="example">
  <p><strong>Example 5.2 Indentation Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1"><mark class="legend-3">?</mark></mark>·a
<mark class="legend-1"><mark class="legend-3">:</mark><mark class="legend-2">·</mark><mark class="legend-3">-</mark></mark>→b
<mark class="legend-1"><mark class="legend-2">··</mark><mark class="legend-3">-</mark><mark class="legend-2">··</mark><mark class="legend-3">-</mark></mark>→c
<mark class="legend-1"><mark class="legend-2">·····</mark><mark class="legend-3">-</mark></mark>·d
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"a"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"d"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">Total Indentation</code></li>
      <li><code class="legend-2"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
      <li><code class="legend-3">Indicator as indentation</code></li>
    </ul>
  </div>
</div>

<div id="separation-spaces"></div>
<h2 id="52-separation-spaces">5.2. Separation Spaces</h2>

<p>Outside <a href="#indentation-spaces">indentation</a> and <a href="#scalar">scalar content</a>, YAML uses <a href="#white-space-characters">white space</a> characters
for <em>separation</em> between tokens within a line.
Note that such <a href="#white-space-characters">white space</a> may safely include <a href="#white-space-characters">tab</a> characters.</p>

<p>Separation spaces are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey
<a href="#nodes">content</a> information.</p>

<div id="example-separation-spaces" class="example">
  <p><strong>Example 5.3 Separation Spaces</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
-<mark class="legend-1">·</mark>foo:<mark class="legend-1">→·</mark>bar
- -<mark class="legend-1">·</mark>baz
  -<mark class="legend-1">→</mark>baz
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"baz"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-separation-blanks">separation-blanks</a></code></li>
    </ul>
  </div>
</div>

<div id="line-prefixes"></div>
<h2 id="53-line-prefixes">5.3. Line Prefixes</h2>

<p>Inside <a href="#scalar">scalar content</a>, each line begins with a non-<a href="#nodes">content</a> <em>line prefix</em>.
This prefix always includes the <a href="#indentation-spaces">indentation</a>.
For <a href="#flow-scalar-styles">flow scalar styles</a> it additionally includes all leading <a href="#white-space-characters">white space</a>,
which may contain <a href="#white-space-characters">tab</a> characters.</p>

<p>Line prefixes are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey
<a href="#nodes">content</a> information.</p>

<div id="example-line-prefixes" class="example">
  <p><strong>Example 5.4 Line Prefixes</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
plain: text
<mark class="legend-1"><mark class="legend-3">·</mark>·</mark>lines
quoted: "text
<mark class="legend-1"><mark class="legend-3">·</mark>·→</mark>lines"
block: |
<mark class="legend-2"><mark class="legend-3">··</mark></mark>text
<mark class="legend-2"><mark class="legend-3">··</mark></mark>·→lines
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"plain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text lines"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text lines"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text</span><span class="se">\n</span><span class="s2"> </span><span class="se">\t</span><span class="s2">lines</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-indentation-spaces-exact">indentation-spaces-exact(n)</a></code></li>
      <li><code class="legend-3"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="empty-lines"></div>
<h2 id="54-empty-lines">5.4. Empty Lines</h2>

<p>An <em>empty line</em> line consists of the non-<a href="#nodes">content</a> <a href="#tag-prefixes">prefix</a> followed by a <a href="#line-break-characters">line
break</a>.</p>

<p>The semantics of empty lines depend on the <a href="#node-styles">scalar style</a> they appear in.
This is handled on a case-by-case basis by the relevant productions.</p>

<div id="example-empty-lines" class="example">
  <p><strong>Example 5.5 Empty Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
Folding:
  "Empty line
<mark class="legend-1">···→</mark>
  as a line feed"
Chomping: |
  Clipped empty lines
<mark class="legend-1">·</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"Folding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empty line</span><span class="se">\n</span><span class="s2">as a line feed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Chomping"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clipped empty lines</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-empty-line">empty-line(n,c)</a></code></li>
    </ul>
  </div>
</div>

<div id="line-folding"></div>
<h2 id="55-line-folding">5.5. Line Folding</h2>

<p><em>Line folding</em> allows long lines to be broken for readability, while retaining
the semantics of the original long line.
If a <a href="#line-break-characters">line break</a> is followed by an <a href="#empty-lines">empty line</a>, it is <em>trimmed</em>; the first
<a href="#line-break-characters">line break</a> is discarded and the rest are retained as <a href="#nodes">content</a>.</p>

<p>Otherwise (the following line is not <a href="#empty-lines">empty</a>), the <a href="#line-break-characters">line break</a> is converted to
a single <a href="#white-space-characters">space</a> (<code class="language-plaintext highlighter-rouge">x20</code>).</p>

<p>A folded non-<a href="#empty-lines">empty line</a> may end with either of the above <a href="#line-break-characters">line breaks</a>.</p>

<div id="example-line-folding" class="example">
  <p><strong>Example 5.6 Line Folding</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;-
  trimmed<mark class="legend-1">↓</mark>
<mark class="legend-1">··↓</mark>
<mark class="legend-1">·↓</mark>
<mark class="legend-1">↓</mark>
  as<mark class="legend-2">↓</mark>
  space
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"trimmed</span><span class="se">\n\n\n</span><span class="s2">as space"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-b-l-trimmed">b-l-trimmed(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-break-as-space">break-as-space</a></code></li>
    </ul>
  </div>
</div>

<p>The above rules are common to both the <a href="#block-folding">folded block style</a> and the <a href="#flow-scalar-styles">scalar
flow styles</a>.
Folding does distinguish between these cases in the following way:</p>

<div id="block-folding"></div>

<dl>
  <dt>Block Folding</dt>
  <dd>
    <p>In the <a href="#block-folding">folded block style</a>, the final <a href="#line-break-characters">line break</a> and trailing <a href="#empty-lines">empty lines</a>
are subject to <a href="#block-chomping-indicator">chomping</a> and are never folded.
In addition, folding does not apply to <a href="#line-break-characters">line breaks</a> surrounding text lines
that contain leading <a href="#white-space-characters">white space</a>.
Note that such a <a href="#example-more-indented-lines">more-indented</a> line may consist only of such leading <a href="#white-space-characters">white
space</a>.</p>
  </dd>
  <dd>
    <p>The combined effect of the <em>block line folding</em> rules is that each “paragraph”
is interpreted as a line, <a href="#empty-lines">empty lines</a> are interpreted as a line feed and the
formatting of <a href="#example-more-indented-lines">more-indented</a> lines is preserved.</p>
  </dd>
</dl>

<div id="example-block-folding" class="example">
  <p><strong>Example 5.7 Block Folding</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;
<mark class="legend-2">··</mark>foo<mark class="legend-3">·</mark><mark class="legend-1">↓</mark>
<mark class="legend-1">·↓</mark>
<mark class="legend-2">··</mark><mark class="legend-3">→·</mark>bar<mark class="legend-1">↓</mark>
<mark class="legend-1">↓</mark>
<mark class="legend-2">··</mark>baz↓
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo </span><span class="se">\n\n\t</span><span class="s2"> bar</span><span class="se">\n\n</span><span class="s2">baz</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-folded-whitespace">folded-whitespace(n,c)</a></code></li>
      <li><code class="legend-2">Non-content spaces</code></li>
      <li><code class="legend-3">Content spaces</code></li>
    </ul>
  </div>
</div>

<div id="flow-folding"></div>

<dl>
  <dt>Flow Folding</dt>
  <dd>
    <p>Folding in <a href="#flow-style-productions">flow styles</a> provides more relaxed semantics.
<a href="#flow-style-productions">Flow styles</a> typically depend on explicit <a href="#indicator-characters">indicators</a> rather than
<a href="#indentation-spaces">indentation</a> to convey structure.
Hence spaces preceding or following the text in a line are a <a href="#presenting-the-serialization-tree">presentation
detail</a> and must not be used to convey <a href="#nodes">content</a> information.
Once all such spaces have been discarded, all <a href="#line-break-characters">line breaks</a> are folded without
exception.</p>
  </dd>
  <dd>
    <p>The combined effect of the <em>flow line folding</em> rules is that each “paragraph”
is interpreted as a line, <a href="#empty-lines">empty lines</a> are interpreted as line feeds and text
can be freely <a href="#example-more-indented-lines">more-indented</a> without affecting the <a href="#nodes">content</a> information.</p>
  </dd>
</dl>

<div id="example-flow-folding" class="example">
  <p><strong>Example 5.8 Flow Folding</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
"<mark class="legend-1">↓</mark>
<mark class="legend-1"><mark class="legend-2">··</mark></mark>foo<mark class="legend-1"><mark class="legend-2">·</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">·</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">··→·</mark></mark>bar<mark class="legend-1">↓</mark>
<mark class="legend-1">↓</mark>
<mark class="legend-1"><mark class="legend-2">··</mark></mark>baz<mark class="legend-1">↓</mark> "
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">" foo</span><span class="se">\n</span><span class="s2">bar</span><span class="se">\n</span><span class="s2">baz "</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-folded-whitespace">flow-folded-whitespace(n)</a></code></li>
      <li><code class="legend-2">Non-content spaces</code></li>
    </ul>
  </div>
</div>

<div id="comments"></div>
<h2 id="56-comments">5.6. Comments</h2>

<p>An explicit <em>comment</em> is marked by a “<code class="language-plaintext highlighter-rouge">#</code>” indicator.
Comments are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey <a href="#nodes">content</a>
information.</p>

<p>Comments must be <a href="#separation-spaces">separated</a> from other tokens by <a href="#white-space-characters">white space</a> characters.</p>

<blockquote>
  <p>Note: To ensure <a href="#yaml-directives">JSON compatibility</a>, YAML <a href="#processes-and-models">processors</a> must allow for the
omission of the final comment <a href="#line-break-characters">line break</a> of the input <a href="#streams">stream</a>.
However, as this confuses many tools, YAML <a href="#processes-and-models">processors</a> should terminate the
<a href="#streams">stream</a> with an explicit <a href="#line-break-characters">line break</a> on output.</p>
</blockquote>

<div id="example-separated-comment" class="example">
  <p><strong>Example 5.9 Separated Comment</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
key:<mark class="legend-3">····<mark class="legend-1"># Comment</mark><mark class="legend-2">↓</mark></mark>
  value<mark class="legend-2"><mark class="legend-3"><i>eof</i></mark></mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-comment-to-end-of-line">comment-to-end-of-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-break-or-end-of-input">break-or-end-of-input</a></code></li>
      <li><code class="legend-3"><a href="#rule-maybe-comment-and-end-of-line">maybe-comment-and-end-of-line</a></code></li>
    </ul>
  </div>
</div>

<p>Outside <a href="#scalar">scalar content</a>, comments may appear on a line of their own,
independent of the <a href="#indentation-spaces">indentation</a> level.
Note that outside <a href="#scalar">scalar content</a>, a line containing only <a href="#white-space-characters">white space</a>
characters is taken to be a comment line.</p>

<div id="example-comment-lines" class="example">
  <p><strong>Example 5.10 Comment Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-2">··<mark class="legend-1"># Comment↓</mark></mark>
<mark class="legend-2">···<mark class="legend-1">↓</mark></mark>
<mark class="legend-1"><mark class="legend-2">↓</mark></mark>
</pre>

</td>
<td class="side-by-side">
<pre>
# This stream contains no
# documents, only comments.
</pre>

</td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-maybe-comment-and-end-of-line">maybe-comment-and-end-of-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-blanks-and-maybe-comment-and-end-of-line">blanks-and-maybe-comment-and-end-of-line</a></code></li>
    </ul>
  </div>
</div>

<p>In most cases, when a line may end with a comment, YAML allows it to be
followed by additional comment lines.
The only exception is a comment ending a <a href="#block-scalar-headers">block scalar header</a>.</p>

<div id="example-multi-line-comments" class="example">
  <p><strong>Example 5.11 Multi-Line Comments</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
key:<mark class="legend-1"><mark class="legend-3">····# Comment↓</mark></mark>
<mark class="legend-2"><mark class="legend-3">········# lines↓</mark></mark>
  value<mark class="legend-1"><mark class="legend-3">↓</mark></mark>
<mark class="legend-2"><mark class="legend-3">↓</mark></mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-maybe-comment-and-end-of-line">maybe-comment-and-end-of-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-blanks-and-maybe-comment-and-end-of-line">blanks-and-maybe-comment-and-end-of-line</a></code></li>
      <li><code class="legend-3"><a href="#rule-comment-lines">comment-lines</a></code></li>
    </ul>
  </div>
</div>

<div id="separation-lines"></div>
<h2 id="57-separation-lines">5.7. Separation Lines</h2>

<p><a href="#example-single-pair-explicit-entry">Implicit keys</a> are restricted to a single line.
In all other cases, YAML allows tokens to be separated by multi-line (possibly
empty) <a href="#comments">comments</a>.</p>

<p>Note that structures following multi-line comment separation must be properly
<a href="#indentation-spaces">indented</a>, even though there is no such restriction on the separation
<a href="#comments">comment</a> lines themselves.</p>

<div id="example-separation-spaces" class="example">
  <p><strong>Example 5.12 Separation Spaces</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
{<mark class="legend-1">·</mark>first:<mark class="legend-1">·</mark>Sammy,<mark class="legend-1">·</mark>last:<mark class="legend-1">·</mark>Sosa<mark class="legend-1">·</mark>}:<mark class="legend-2">↓</mark>
<mark class="legend-2"># Statistics:</mark>
<mark class="legend-2"><mark class="legend-3">··</mark></mark>hr:<mark class="legend-2">··# Home runs</mark>
<mark class="legend-2"><mark class="legend-3">···</mark>··</mark>65
<mark class="legend-3">··</mark>avg:<mark class="legend-2">·# Average</mark>
<mark class="legend-2"><mark class="legend-3">···</mark></mark>0.278
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sammy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sosa"</span><span class="w"> </span><span class="p">}</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"hr"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.278</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-separation-blanks">separation-blanks</a></code></li>
      <li><code class="legend-2"><a href="#rule-separation-lines">separation-lines(n)</a></code></li>
      <li><code class="legend-3"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="directives"></div>
<h2 id="58-directives">5.8. Directives</h2>

<p><em>Directives</em> are instructions to the YAML <a href="#processes-and-models">processor</a>.
This specification defines two directives, “<code class="language-plaintext highlighter-rouge">YAML</code>” and “<code class="language-plaintext highlighter-rouge">TAG</code>”, and <em>reserves</em>
all other directives for future use.
There is no way to define private directives.
This is intentional.</p>

<p>Directives are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey <a href="#nodes">content</a>
information.</p>

<p>Each directive is specified on a separate non-<a href="#indentation-spaces">indented</a> line starting with the
“<code class="language-plaintext highlighter-rouge">%</code>” indicator, followed by the directive name and a list of parameters.
The semantics of these parameters depends on the specific directive.
A YAML <a href="#processes-and-models">processor</a> should ignore unknown directives with an appropriate
warning.</p>

<div id="example-reserved-directives" class="example">
  <p><strong>Example 5.13 Reserved Directives</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%<mark class="legend-1"><mark class="legend-2">FOO</mark>  <mark class="legend-3">bar</mark> <mark class="legend-3">baz</mark></mark> # Should be ignored
               # with a warning.
--- "foo"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-reserved-directive-line">reserved-directive-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-directive-name">directive-name</a></code></li>
      <li><code class="legend-3"><a href="#rule-directive-parameter">directive-parameter</a></code></li>
    </ul>
  </div>
</div>

<div id="yaml-directives"></div>
<h3 id="581-yaml-directives">5.8.1. “<code class="language-plaintext highlighter-rouge">YAML</code>” Directives</h3>

<p>The “<code class="language-plaintext highlighter-rouge">YAML</code>” directive specifies the version of YAML the <a href="#documents">document</a> conforms
to.
This specification defines version “<code class="language-plaintext highlighter-rouge">1.3</code>”, including recommendations for <em>YAML
1.1 processing</em>.</p>

<p>A version 1.3 YAML <a href="#processes-and-models">processor</a> must accept <a href="#documents">documents</a> with an explicit “<code class="language-plaintext highlighter-rouge">%YAML
1.3</code>” directive, as well as <a href="#documents">documents</a> lacking a “<code class="language-plaintext highlighter-rouge">YAML</code>” directive.
Such <a href="#documents">documents</a> are assumed to conform to the 1.3 version specification.
<a href="#documents">Documents</a> with a “<code class="language-plaintext highlighter-rouge">YAML</code>” directive specifying a higher minor version (e.g.
“<code class="language-plaintext highlighter-rouge">%YAML 1.3</code>”) should be processed with an appropriate warning.
<a href="#documents">Documents</a> with a “<code class="language-plaintext highlighter-rouge">YAML</code>” directive specifying a higher major version (e.g.
“<code class="language-plaintext highlighter-rouge">%YAML 2.0</code>”) should be rejected with an appropriate error message.</p>

<p>A version 1.3 YAML <a href="#processes-and-models">processor</a> must also accept <a href="#documents">documents</a> with an explicit
“<code class="language-plaintext highlighter-rouge">%YAML 1.1</code>” directive.
Note that version 1.3 is mostly a superset of version 1.1, defined for the
purpose of ensuring <em>JSON compatibility</em>.
Hence a version 1.3 <a href="#processes-and-models">processor</a> should process version 1.1 <a href="#documents">documents</a> as if
they were version 1.3, giving a warning on points of incompatibility (handling
of <a href="#line-break-characters">non-ASCII line breaks</a>, as described <a href="#line-break-characters">above</a>).</p>

<div id="example-yaml-directive" class="example">
  <p><strong>Example 5.14 “<code class="language-plaintext highlighter-rouge">YAML</code>” directive</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%<mark class="legend-1">YAML <mark class="legend-2">1.3</mark></mark> # Attempt parsing
           # with a warning
---
"foo"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-yaml-directive-line">yaml-directive-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-yaml-version-number">yaml-version-number</a></code></li>
    </ul>
  </div>
</div>

<p>It is an error to specify more than one “<code class="language-plaintext highlighter-rouge">YAML</code>” directive for the same
document, even if both occurrences give the same version number.</p>

<div id="example-invalid-repeated-yaml-directive" class="example">
  <p><strong>Example 5.15 Invalid Repeated YAML directive</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
%YAML 1.3
%<mark class="legend-1">YAML</mark> 1.2
foo
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
The <mark class="legend-1">YAML</mark> directive must only be
given at most once per document.
</pre>

</td>
</tr>
</table>
</div>

<div id="tag-directives"></div>
<h3 id="582-tag-directives">5.8.2. “<code class="language-plaintext highlighter-rouge">TAG</code>” Directives</h3>

<p>The “<code class="language-plaintext highlighter-rouge">TAG</code>” directive establishes a <a href="#tag-shorthands">tag shorthand</a> notation for specifying
<a href="#node-tags">node tags</a>.
Each “<code class="language-plaintext highlighter-rouge">TAG</code>” directive associates a <a href="#tag-handles">handle</a> with a <a href="#tag-prefixes">prefix</a>.
This allows for compact and readable <a href="#tags">tag</a> notation.</p>

<div id="example-tag-directive" class="example">
  <p><strong>Example 5.16 “<code class="language-plaintext highlighter-rouge">TAG</code>” directive</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%<mark class="legend-1">TAG <mark class="legend-2">!yaml!</mark> <mark class="legend-3">tag:yaml.org,2002:</mark></mark>
---
!yaml!str "foo"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-tag-directive-line">tag-directive-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-tag-handle">tag-handle</a></code></li>
      <li><code class="legend-3"><a href="#rule-tag-prefix">tag-prefix</a></code></li>
    </ul>
  </div>
</div>

<p>It is an error to specify more than one “<code class="language-plaintext highlighter-rouge">TAG</code>” directive for the same <a href="#tag-handles">handle</a>
in the same document, even if both occurrences give the same <a href="#tag-prefixes">prefix</a>.</p>

<div id="example-invalid-repeated-tag-directive" class="example">
  <p><strong>Example 5.17 Invalid Repeated TAG directive</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
%TAG ! !foo
%TAG <mark class="legend-1">!</mark> !foo
bar
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
The TAG directive must only
be given at most once per
<mark class="legend-1">handle</mark> in the same document.
</pre>

</td>
</tr>
</table>
</div>

<div id="tag-handles"></div>
<h4 id="5821-tag-handles">5.8.2.1. Tag Handles</h4>

<p>The <em>tag handle</em> exactly matches the prefix of the affected <a href="#tag-shorthands">tag shorthand</a>.
There are three tag handle variants:</p>

<div id="primary-handle"></div>

<dl>
  <dt>Primary Handle</dt>
  <dd>
    <p>The <em>primary tag handle</em> is a single “<code class="language-plaintext highlighter-rouge">!</code>” character.
This allows using the most compact possible notation for a single “primary”
name space.
By default, the prefix associated with this handle is “<code class="language-plaintext highlighter-rouge">!</code>”.
Thus, by default, <a href="#tag-shorthands">shorthands</a> using this handle are interpreted as <a href="#tags">local
tags</a>.</p>
  </dd>
  <dd>
    <p>It is possible to override the default behavior by providing an explicit
“<code class="language-plaintext highlighter-rouge">TAG</code>” directive, associating a different prefix for this handle.
This provides smooth migration from using <a href="#tags">local tags</a> to using <a href="#tags">global tags</a>
by the simple addition of a single “<code class="language-plaintext highlighter-rouge">TAG</code>” directive.</p>
  </dd>
</dl>

<div id="example-primary-tag-handle" class="example">
  <p><strong>Example 5.18 Primary Tag Handle</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Private
<mark class="legend-1">!</mark>foo "bar"
...
# Global
%TAG <mark class="legend-1">!</mark> tag:example.com,2000:app/
---
<mark class="legend-1">!</mark>foo "bar"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;!foo&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="err">!&lt;tag:example.com,</span><span class="mi">2000</span><span class="err">:app/foo&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-primary-tag-handle">primary-tag-handle</a></code></li>
    </ul>
  </div>
</div>

<div id="secondary-handle"></div>

<dl>
  <dt>Secondary Handle</dt>
  <dd>
    <p>The <em>secondary tag handle</em> is written as “<code class="language-plaintext highlighter-rouge">!!</code>”.
This allows using a compact notation for a single “secondary” name space.
By default, the prefix associated with this handle is “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:</code>”.</p>
  </dd>
  <dd>
    <p>It is possible to override this default behavior by providing an explicit
“<code class="language-plaintext highlighter-rouge">TAG</code>” directive associating a different prefix for this handle.</p>
  </dd>
</dl>

<div id="example-secondary-tag-handle" class="example">
  <p><strong>Example 5.19 Secondary Tag Handle</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG <mark class="legend-1">!!</mark> tag:example.com,2000:app/
---
<mark class="legend-1">!!</mark>int 1 - 3 # Interval, not integer
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;tag:example.com,</span><span class="mi">2000</span><span class="err">:app/int&gt;</span><span class="w"> </span><span class="s2">"1 - 3"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-secondary-tag-handle">secondary-tag-handle</a></code></li>
    </ul>
  </div>
</div>

<div id="named-handles"></div>

<dl>
  <dt>Named Handles</dt>
  <dd>
    <p>A <em>named tag handle</em> surrounds a non-empty name with “<code class="language-plaintext highlighter-rouge">!</code>” characters.
A handle name must not be used in a <a href="#tag-shorthands">tag shorthand</a> unless an explicit “<code class="language-plaintext highlighter-rouge">TAG</code>”
directive has associated some prefix with it.</p>
  </dd>
  <dd>
    <p>The name of the handle is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to
convey <a href="#nodes">content</a> information.
In particular, the YAML <a href="#processes-and-models">processor</a> need not preserve the handle name once
<a href="#parsing-the-presentation-stream">parsing</a> is completed.</p>
  </dd>
</dl>

<div id="example-tag-handles" class="example">
  <p><strong>Example 5.20 Tag Handles</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG <mark class="legend-1">!e!</mark> tag:example.com,2000:app/
---
<mark class="legend-1">!e!</mark>foo "bar"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;tag:example.com,</span><span class="mi">2000</span><span class="err">:app/foo&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-named-tag-handle">named-tag-handle</a></code></li>
    </ul>
  </div>
</div>

<div id="tag-prefixes"></div>
<h4 id="5822-tag-prefixes">5.8.2.2. Tag Prefixes</h4>

<p>There are two <em>tag prefix</em> variants:</p>

<div id="local-tag-prefix"></div>

<dl>
  <dt>Local Tag Prefix</dt>
  <dd>
    <p>If the prefix begins with a “<code class="language-plaintext highlighter-rouge">!</code>” character, <a href="#tag-shorthands">shorthands</a> using the <a href="#tag-handles">handle</a>
are expanded to a <a href="#tags">local tag</a>.
Note that such a <a href="#tags">tag</a> is intentionally not a valid URI and its semantics are
specific to the <a href="#processes-and-models">application</a>.
In particular, two <a href="#documents">documents</a> in the same <a href="#streams">stream</a> may assign different
semantics to the same <a href="#tags">local tag</a>.</p>
  </dd>
</dl>

<div id="example-local-tag-prefix" class="example">
  <p><strong>Example 5.21 Local Tag Prefix</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG !m! <mark class="legend-1">!my-</mark>
--- # Bulb here
!m!light fluorescent
...
%TAG !m! <mark class="legend-1">!my-</mark>
--- # Color here
!m!light green
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;!my-light&gt;</span><span class="w"> </span><span class="s2">"fluorescent"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="err">!&lt;!my-light&gt;</span><span class="w"> </span><span class="s2">"green"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-local-tag-prefix">local-tag-prefix</a></code></li>
    </ul>
  </div>
</div>

<div id="global-tag-prefix"></div>

<dl>
  <dt>Global Tag Prefix</dt>
  <dd>
    <p>If the prefix begins with a character other than “<code class="language-plaintext highlighter-rouge">!</code>”, it must be a valid URI
prefix, and should contain at least the scheme.
<a href="#tag-shorthands">Shorthands</a> using the associated <a href="#tag-handles">handle</a> are expanded to globally unique URI
tags and their semantics is consistent across <a href="#processes-and-models">applications</a>.
In particular, every <a href="#documents">document</a> in every <a href="#streams">stream</a> must assign the same
semantics to the same <a href="#tags">global tag</a>.</p>
  </dd>
</dl>

<div id="example-global-tag-prefix" class="example">
  <p><strong>Example 5.22 Global Tag Prefix</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG !e! <mark class="legend-1">tag:example.com,2000:app/</mark>
---
- !e!foo "bar"
</pre>

</td>
<td class="side-by-side">
<pre>
- !&lt;tag:example.com,2000:app/foo&gt; "bar"
</pre>

</td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-global-tag-prefix">global-tag-prefix</a></code></li>
    </ul>
  </div>
</div>

<div id="node-properties"></div>
<h2 id="59-node-properties">5.9. Node Properties</h2>

<p>Each <a href="#nodes">node</a> may have two optional <em>properties</em>, <a href="#anchors-and-aliases">anchor</a> and <a href="#tags">tag</a>, in addition
to its <a href="#nodes">content</a>.
Node properties may be specified in any order before the <a href="#nodes">node’s content</a>.
Either or both may be omitted.</p>

<div id="example-node-properties" class="example">
  <p><strong>Example 5.23 Node Properties</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1"><mark class="legend-3">!!str</mark> <mark class="legend-2">&amp;a1</mark></mark> "foo":
  <mark class="legend-1"><mark class="legend-3">!!str</mark></mark> bar
<mark class="legend-1"><mark class="legend-2">&amp;a2</mark></mark> baz : *a1
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="err">&amp;B</span><span class="mi">1</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"baz"</span><span class="p">:</span><span class="w"> </span><span class="err">*B</span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-node-properties">node-properties(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-anchor-property">anchor-property</a></code></li>
      <li><code class="legend-3"><a href="#rule-tag-property">tag-property</a></code></li>
    </ul>
  </div>
</div>

<div id="node-tags"></div>
<h3 id="591-node-tags">5.9.1. Node Tags</h3>

<p>The <em>tag property</em> identifies the type of the <a href="#representing-native-data-structures">native data structure</a>
<a href="#presenting-the-serialization-tree">presented</a> by the <a href="#nodes">node</a>.
A tag is denoted by the “<code class="language-plaintext highlighter-rouge">!</code>” indicator.</p>

<div id="verbatim-tags"></div>

<dl>
  <dt>Verbatim Tags</dt>
  <dd>
    <p>A tag may be written <em>verbatim</em> by surrounding it with the “<code class="language-plaintext highlighter-rouge">&lt;</code>” and “<code class="language-plaintext highlighter-rouge">&gt;</code>”
characters.
In this case, the YAML <a href="#processes-and-models">processor</a> must deliver the verbatim tag as-is to the
<a href="#processes-and-models">application</a>.
In particular, verbatim tags are not subject to <a href="#tag-resolution">tag resolution</a>.
A verbatim tag must either begin with a “<code class="language-plaintext highlighter-rouge">!</code>” (a <a href="#tags">local tag</a>) or be a valid URI
(a <a href="#tags">global tag</a>).</p>
  </dd>
</dl>

<div id="example-verbatim-tags" class="example">
  <p><strong>Example 5.24 Verbatim Tags</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">!&lt;tag:yaml.org,2002:str&gt;</mark> foo :
  <mark class="legend-1">!&lt;!bar&gt;</mark> baz
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="err">!&lt;!bar&gt;</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-verbatim-tag">verbatim-tag</a></code></li>
    </ul>
  </div>
</div>

<div id="example-invalid-verbatim-tags" class="example">
  <p><strong>Example 5.25 Invalid Verbatim Tags</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
- !&lt;<mark class="legend-1">!</mark>&gt; foo
- !&lt;<mark class="legend-2">$:?</mark>&gt; bar
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- Verbatim tags aren't resolved,
  so <mark class="legend-1">!</mark> is invalid.
- The <mark class="legend-2">$:?</mark> tag is neither a global
  URI tag nor a local tag starting
  with '!'.
</pre>

</td>
</tr>
</table>
</div>

<div id="tag-shorthands"></div>

<dl>
  <dt>Tag Shorthands</dt>
  <dd>
    <p>A <em>tag shorthand</em> consists of a valid <a href="#tag-handles">tag handle</a> followed by a non-empty
suffix.
The <a href="#tag-handles">tag handle</a> must be associated with a <a href="#tag-prefixes">prefix</a>, either by default or by
using a “<code class="language-plaintext highlighter-rouge">TAG</code>” directive.
The resulting <a href="#parsing-the-presentation-stream">parsed</a> <a href="#tags">tag</a> is the concatenation of the <a href="#tag-prefixes">prefix</a> and the
suffix and must either begin with “<code class="language-plaintext highlighter-rouge">!</code>” (a <a href="#tags">local tag</a>) or be a valid URI (a
<a href="#tags">global tag</a>).</p>
  </dd>
  <dd>
    <p>The choice of <a href="#tag-handles">tag handle</a> is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to
convey <a href="#nodes">content</a> information.
In particular, the <a href="#tag-handles">tag handle</a> may be discarded once <a href="#parsing-the-presentation-stream">parsing</a> is completed.</p>
  </dd>
  <dd>
    <p>The suffix must not contain any “<code class="language-plaintext highlighter-rouge">!</code>” character.
This would cause the tag shorthand to be interpreted as having a <a href="#tag-handles">named tag
handle</a>.
In addition, the suffix must not contain the “<code class="language-plaintext highlighter-rouge">[</code>”, “<code class="language-plaintext highlighter-rouge">]</code>”, “<code class="language-plaintext highlighter-rouge">{</code>”, “<code class="language-plaintext highlighter-rouge">}</code>” and
“<code class="language-plaintext highlighter-rouge">,</code>” characters.
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.
If the suffix needs to specify any of the above restricted characters, they
must be <a href="#escaped-characters">escaped</a> using the “<code class="language-plaintext highlighter-rouge">%</code>” character.
This behavior is consistent with the URI character escaping rules
(specifically, section 2.3 of URI RFC).</p>
  </dd>
</dl>

<div id="example-tag-shorthands" class="example">
  <p><strong>Example 5.26 Tag Shorthands</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG !e! tag:example.com,2000:app/
---
- <mark class="legend-1">!local</mark> foo
- <mark class="legend-1">!!str</mark> bar
- <mark class="legend-1">!e!tag%21</mark> baz
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="err">!&lt;!local&gt;</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="err">!&lt;tag:yaml.org</span><span class="p">,</span><span class="mi">2002</span><span class="err">:str&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
  </span><span class="err">!&lt;tag:example.com</span><span class="p">,</span><span class="mi">2000</span><span class="err">:app/tag!&gt;</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-shorthand-tag">shorthand-tag</a></code></li>
    </ul>
  </div>
</div>

<div id="example-invalid-tag-shorthands" class="example">
  <p><strong>Example 5.27 Invalid Tag Shorthands</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
%TAG !e! tag:example,2000:app/
---
- <mark class="legend-1">!e!</mark> foo
- <mark class="legend-2">!h!</mark>bar baz
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- The <mark class="legend-1">!e!</mark> handle has no suffix.
- The <mark class="legend-2">!h!</mark> handle wasn't declared.
</pre>

</td>
</tr>
</table>
</div>

<div id="non-specific-tags"></div>

<dl>
  <dt>Non-Specific Tags</dt>
  <dd>
    <p>If a <a href="#nodes">node</a> has no tag property, it is assigned a <a href="#resolved-tags">non-specific tag</a> that needs
to be <a href="#resolved-tags">resolved</a> to a <a href="#resolved-tags">specific</a> one.
This <a href="#resolved-tags">non-specific tag</a> is “<code class="language-plaintext highlighter-rouge">!</code>” for non-<a href="#plain-style">plain scalars</a> and “<code class="language-plaintext highlighter-rouge">?</code>” for all
other <a href="#nodes">nodes</a>.
This is the only case where the <a href="#node-styles">node style</a> has any effect on the <a href="#nodes">content</a>
information.</p>
  </dd>
  <dd>
    <p>It is possible for the tag property to be explicitly set to the “<code class="language-plaintext highlighter-rouge">!</code>”
non-specific tag.
By <a href="#resolved-tags">convention</a>, this “disables” <a href="#tag-resolution">tag resolution</a>, forcing the <a href="#nodes">node</a> to be
interpreted as “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>”, “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code>”, according to its <a href="#nodes">kind</a>.</p>
  </dd>
  <dd>
    <p>There is no way to explicitly specify the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag.
This is intentional.</p>
  </dd>
</dl>

<div id="example-non-specific-tags" class="example">
  <p><strong>Example 5.28 Non-Specific Tags</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Assuming conventional resolution:
- "12"
- 12
- <mark class="legend-1">!</mark> 12
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
  </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="s2">"12"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-non-specific-tag">non-specific-tag</a></code></li>
    </ul>
  </div>
</div>

<div id="node-anchors"></div>
<h3 id="592-node-anchors">5.9.2. Node Anchors</h3>

<p>An anchor is denoted by the “<code class="language-plaintext highlighter-rouge">&amp;</code>” indicator.
It marks a <a href="#nodes">node</a> for future reference.
An <a href="#alias-nodes">alias node</a> can then be used to indicate additional inclusions of the
anchored <a href="#nodes">node</a>.
An anchored <a href="#nodes">node</a> need not be referenced by any <a href="#alias-nodes">alias nodes</a>; in particular,
it is valid for all <a href="#nodes">nodes</a> to be anchored.</p>

<p>Note that as a <a href="#serializing-the-representation-graph">serialization detail</a>, the anchor name is preserved in the
<a href="#serialization-tree">serialization tree</a>.
However, it is not reflected in the <a href="#representation-graph">representation</a> graph and must not be used
to convey <a href="#nodes">content</a> information.
In particular, the YAML <a href="#processes-and-models">processor</a> need not preserve the anchor name once the
<a href="#representation-graph">representation</a> is <a href="#composing-the-representation-graph">composed</a>.</p>

<p>Anchor names must not contain the “<code class="language-plaintext highlighter-rouge">[</code>”, “<code class="language-plaintext highlighter-rouge">]</code>”, “<code class="language-plaintext highlighter-rouge">{</code>”, “<code class="language-plaintext highlighter-rouge">}</code>” and “<code class="language-plaintext highlighter-rouge">,</code>”
characters.
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.</p>

<div id="example-node-anchors" class="example">
  <p><strong>Example 5.29 Node Anchors</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
First occurrence: <mark class="legend-1">&amp;<mark class="legend-2">anchor</mark></mark> Value
Second occurrence: *<mark class="legend-2">anchor</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"First occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">&amp;A</span><span class="w"> </span><span class="s2">"Value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Second occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">*A</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-anchor-property">anchor-property</a></code></li>
      <li><code class="legend-2"><a href="#rule-anchor-name">anchor-name</a></code></li>
    </ul>
  </div>
</div>

<div id="flow-style-productions"></div>
<h1 id="chapter-6-flow-style-productions">Chapter 6. Flow Style Productions</h1>

<p>YAML’s <em>flow styles</em> can be thought of as the natural extension of JSON to
cover <a href="#line-folding">folding</a> long content lines for readability, <a href="#tags">tagging</a> nodes to control
<a href="#constructing-native-data-structures">construction</a> of <a href="#representing-native-data-structures">native data structures</a> and using <a href="#anchors-and-aliases">anchors</a> and <a href="#anchors-and-aliases">aliases</a> to
reuse <a href="#constructing-native-data-structures">constructed</a> object instances.</p>

<div id="alias-nodes"></div>
<h2 id="61-alias-nodes">6.1. Alias Nodes</h2>

<p>Subsequent occurrences of a previously <a href="#serializing-the-representation-graph">serialized</a> node are <a href="#presenting-the-serialization-tree">presented</a> as
<em>alias nodes</em>.
The first occurrence of the <a href="#nodes">node</a> must be marked by an <a href="#anchors-and-aliases">anchor</a> to allow
subsequent occurrences to be <a href="#presenting-the-serialization-tree">presented</a> as alias nodes.</p>

<p>An alias node is denoted by the “<code class="language-plaintext highlighter-rouge">*</code>” indicator.
The alias refers to the most recent preceding <a href="#nodes">node</a> having the same <a href="#anchors-and-aliases">anchor</a>.
It is an error for an alias node to use an <a href="#anchors-and-aliases">anchor</a> that does not previously
occur in the <a href="#documents">document</a>.
It is not an error to specify an <a href="#anchors-and-aliases">anchor</a> that is not used by any alias node.</p>

<p>Note that an alias node must not specify any <a href="#node-properties">properties</a> or <a href="#nodes">content</a>, as
these were already specified at the first occurrence of the <a href="#nodes">node</a>.</p>

<div id="example-alias-nodes" class="example">
  <p><strong>Example 6.1 Alias Nodes</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
First occurrence: &amp;<mark class="legend-2">anchor</mark> Foo
Second occurrence: <mark class="legend-1">*<mark class="legend-2">anchor</mark></mark>
Override anchor: &amp;<mark class="legend-2">anchor</mark> Bar
Reuse anchor: <mark class="legend-1">*<mark class="legend-2">anchor</mark></mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"First occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">&amp;A</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Override anchor"</span><span class="p">:</span><span class="w"> </span><span class="err">&amp;B</span><span class="w"> </span><span class="s2">"Bar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Second occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">*A</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Reuse anchor"</span><span class="p">:</span><span class="w"> </span><span class="err">*B</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-alias-node">alias-node</a></code></li>
      <li><code class="legend-2"><a href="#rule-anchor-name">anchor-name</a></code></li>
    </ul>
  </div>
</div>

<div id="empty-nodes"></div>
<h2 id="62-empty-nodes">6.2. Empty Nodes</h2>

<p>YAML allows the <a href="#nodes">node content</a> to be omitted in many cases.
<a href="#nodes">Nodes</a> with empty <a href="#nodes">content</a> are interpreted as if they were <a href="#plain-style">plain scalars</a>
with an empty value.
Such <a href="#nodes">nodes</a> are commonly resolved to a “<code class="language-plaintext highlighter-rouge">null</code>” value.</p>

<p>In the examples, empty <a href="#scalars">scalars</a> are sometimes displayed as the glyph “<code class="language-plaintext highlighter-rouge">°</code>” for
clarity.
Note that this glyph corresponds to a position in the characters <a href="#streams">stream</a>
rather than to an actual character.</p>

<div id="example-empty-content" class="example">
  <p><strong>Example 6.2 Empty Content</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
  foo : !!str<mark class="legend-1">°</mark>,
  !!str<mark class="legend-1">°</mark> : bar,
}
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">""</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-empty-node">empty-node</a></code></li>
    </ul>
  </div>
</div>

<p>Both the <a href="#node-properties">node’s properties</a> and <a href="#nodes">node content</a> are optional.
This allows for a <em>completely empty node</em>.
Completely empty nodes are only valid when following some explicit indication
for their existence.</p>

<div id="example-completely-empty-flow-nodes" class="example">
  <p><strong>Example 6.3 Completely Empty Flow Nodes</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
  ? foo :<mark class="legend-1">°</mark>,
  <mark class="legend-1">°</mark>: bar,
}
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-empty-node">empty-node</a></code></li>
    </ul>
  </div>
</div>

<div id="flow-scalar-styles"></div>
<h2 id="63-flow-scalar-styles">6.3. Flow Scalar Styles</h2>

<p>YAML provides three <em>flow scalar styles</em>: <a href="#double-quoted-style">double-quoted</a>, <a href="#single-quoted-style">single-quoted</a> and
<a href="#plain-style">plain</a> (unquoted).
Each provides a different trade-off between readability and expressive power.</p>

<p>The <a href="#node-styles">scalar style</a> is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey
<a href="#nodes">content</a> information, with the exception that <a href="#plain-style">plain scalars</a> are
distinguished for the purpose of <a href="#tag-resolution">tag resolution</a>.</p>

<div id="double-quoted-style"></div>
<h3 id="631-double-quoted-style">6.3.1. Double-Quoted Style</h3>

<p>The <em>double-quoted style</em> is specified by surrounding “<code class="language-plaintext highlighter-rouge">"</code>” indicators.
This is the only <a href="#node-styles">style</a> capable of expressing arbitrary strings, by using
“<code class="language-plaintext highlighter-rouge">\</code>” <a href="#escaped-characters">escape sequences</a>.
This comes at the cost of having to escape the “<code class="language-plaintext highlighter-rouge">\</code>” and “<code class="language-plaintext highlighter-rouge">"</code>” characters.</p>

<p>Double-quoted scalars are restricted to a single line when contained inside an
<a href="#example-single-pair-explicit-entry">implicit key</a>.</p>

<div id="example-double-quoted-implicit-keys" class="example">
  <p><strong>Example 6.4 Double Quoted Implicit Keys</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-2">"<mark class="legend-1">implicit block key</mark>"</mark> : [
  <mark class="legend-2">"<mark class="legend-1">implicit flow key</mark>"</mark> : value,
 ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"implicit block key"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"implicit flow key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-double-quoted-one-line">double-quoted-one-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-double-quoted-scalar">double-quoted-scalar(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>In a multi-line double-quoted scalar, <a href="#line-break-characters">line breaks</a> are subject to <a href="#flow-folding">flow line
folding</a>, which discards any trailing <a href="#white-space-characters">white space</a> characters.
It is also possible to <em>escape</em> the <a href="#line-break-characters">line break</a> character.
In this case, the escaped <a href="#line-break-characters">line break</a> is excluded from the <a href="#nodes">content</a> and any
trailing <a href="#white-space-characters">white space</a> characters that precede the escaped line break are
preserved.
Combined with the ability to <a href="#escaped-characters">escape</a> <a href="#white-space-characters">white space</a> characters, this allows
double-quoted lines to be broken at arbitrary positions.</p>

<div id="example-double-quoted-line-breaks" class="example">
  <p><strong>Example 6.5 Double Quoted Line Breaks</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
"folded<mark class="legend-1">·↓</mark>
to a space,<mark class="legend-1">→↓</mark>
<mark class="legend-1">·↓</mark>
to a line feed, or<mark class="legend-2">·→\↓</mark>
<mark class="legend-2">·</mark>\·→non-content"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"folded to a space,</span><span class="se">\n</span><span class="s2">to a line feed, or </span><span class="se">\t</span><span class="s2"> </span><span class="se">\t</span><span class="s2">non-content"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-folded-whitespace">flow-folded-whitespace(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-double-quoted-line-continuation">double-quoted-line-continuation(n)</a></code></li>
    </ul>
  </div>
</div>

<p>All leading and trailing <a href="#white-space-characters">white space</a> characters on each line are excluded
from the <a href="#nodes">content</a>.
Each continuation line must therefore contain at least one non-<a href="#white-space-characters">space</a>
character.
Empty lines, if any, are consumed as part of the <a href="#line-folding">line folding</a>.</p>

<div id="example-double-quoted-lines" class="example">
  <p><strong>Example 6.6 Double Quoted Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
"<mark class="legend-1">·1st non-empty</mark><mark class="legend-2">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2">·<mark class="legend-1">2nd non-empty</mark>·</mark>
<mark class="legend-2">→<mark class="legend-1">3rd non-empty</mark></mark>·"
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">" 1st non-empty</span><span class="se">\n</span><span class="s2">2nd non-empty 3rd non-empty "</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-double-quoted-first-line">double-quoted-first-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-double-quoted-next-line">double-quoted-next-line(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="single-quoted-style"></div>
<h3 id="632-single-quoted-style">6.3.2. Single-Quoted Style</h3>

<p>The <em>single-quoted style</em> is specified by surrounding “<code class="language-plaintext highlighter-rouge">'</code>” indicators.
Therefore, within a single-quoted scalar, such characters need to be repeated.
This is the only form of <em>escaping</em> performed in single-quoted scalars.
In particular, the “<code class="language-plaintext highlighter-rouge">\</code>” and “<code class="language-plaintext highlighter-rouge">"</code>” characters may be freely used.
This restricts single-quoted scalars to <a href="#character-set">printable</a> characters.
In addition, it is only possible to break a long single-quoted line where a
<a href="#white-space-characters">space</a> character is surrounded by non-<a href="#white-space-characters">spaces</a>.</p>

<div id="example-single-quoted-characters" class="example">
  <p><strong>Example 6.7 Single Quoted Characters</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
'here<mark class="legend-1">''</mark>s to "quotes"'
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"here's to </span><span class="se">\"</span><span class="s2">quotes</span><span class="se">\"</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-single-quoted-escaped-single-quote">single-quoted-escaped-single-quote</a></code></li>
    </ul>
  </div>
</div>

<p>Single-quoted scalars are restricted to a single line when contained inside a
<a href="#example-single-pair-explicit-entry">implicit key</a>.</p>

<div id="example-single-quoted-implicit-keys" class="example">
  <p><strong>Example 6.8 Single Quoted Implicit Keys</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-2">'<mark class="legend-1">implicit block key</mark>'</mark> : [
  <mark class="legend-2">'<mark class="legend-1">implicit flow key</mark>'</mark> : value,
 ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"implicit block key"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"implicit flow key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-single-quoted-one-line">single-quoted-one-line</a></code></li>
      <li><code class="legend-2"><a href="#rule-single-quoted-scalar">single-quoted-scalar(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>All leading and trailing <a href="#white-space-characters">white space</a> characters are excluded from the
<a href="#nodes">content</a>.
Each continuation line must therefore contain at least one non-<a href="#white-space-characters">space</a>
character.
Empty lines, if any, are consumed as part of the <a href="#line-folding">line folding</a>.</p>

<div id="example-single-quoted-lines" class="example">
  <p><strong>Example 6.9 Single Quoted Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
'<mark class="legend-1">·1st non-empty</mark><mark class="legend-2">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2">·<mark class="legend-1">2nd non-empty</mark>·</mark>
<mark class="legend-2">→<mark class="legend-1">3rd non-empty</mark></mark>·'
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">" 1st non-empty</span><span class="se">\n</span><span class="s2">2nd non-empty 3rd non-empty "</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-single-quoted-first-line">single-quoted-first-line(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-single-quoted-next-line">single-quoted-next-line(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="plain-style"></div>
<h3 id="633-plain-style">6.3.3. Plain Style</h3>

<p>The <em>plain</em> (unquoted) style has no identifying <a href="#indicator-characters">indicators</a> and provides no
form of escaping.
It is therefore the most readable, most limited and most <a href="#context-c">context</a> sensitive
<a href="#node-styles">style</a>.
In addition to a restricted character set, a plain scalar must not be empty or
contain leading or trailing <a href="#white-space-characters">white space</a> characters.
It is only possible to break a long plain line where a <a href="#white-space-characters">space</a> character is
surrounded by non-<a href="#white-space-characters">spaces</a>.</p>

<p>Plain scalars must not begin with most <a href="#indicator-characters">indicators</a>, as this would cause
ambiguity with other YAML constructs.
However, the “<code class="language-plaintext highlighter-rouge">:</code>”, “<code class="language-plaintext highlighter-rouge">?</code>” and “<code class="language-plaintext highlighter-rouge">-</code>” <a href="#indicator-characters">indicators</a> may be used as the first
character if followed by a non-<a href="#white-space-characters">space</a> “safe” character, as this causes no
ambiguity.</p>

<p>Plain scalars must never contain the “<code class="language-plaintext highlighter-rouge">: </code>” and “<code class="language-plaintext highlighter-rouge"> #</code>” character combinations.
Such combinations would cause ambiguity with <a href="#mapping">mapping</a> <a href="#mapping">key/value pairs</a> and
<a href="#comments">comments</a>.
In addition, inside <a href="#flow-collection-styles">flow collections</a>, or when used as <a href="#example-single-pair-explicit-entry">implicit keys</a>, plain
scalars must not contain the “<code class="language-plaintext highlighter-rouge">[</code>”, “<code class="language-plaintext highlighter-rouge">]</code>”, “<code class="language-plaintext highlighter-rouge">{</code>”, “<code class="language-plaintext highlighter-rouge">}</code>” and “<code class="language-plaintext highlighter-rouge">,</code>” characters.
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.</p>

<div id="example-plain-characters" class="example">
  <p><strong>Example 6.10 Plain Characters</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Outside flow collection:
- <mark class="legend-1">:</mark><mark class="legend-2">:</mark>vector
- "<mark class="legend-3">:</mark> - ()"
- Up<mark class="legend-2">,</mark> up, and away!
- <mark class="legend-1">-</mark>123
- http<mark class="legend-2">s</mark>://example.com/fo<mark class="legend-2">o</mark>#bar
# Inside flow collection:
- [ <mark class="legend-1">:</mark><mark class="legend-2">:</mark>vector,
  "<mark class="legend-3">:</mark> - ()",
  "Up<mark class="legend-4">,</mark> up and away!",
  <mark class="legend-1">-</mark>123,
  http<mark class="legend-2">s</mark>://example.com/fo<mark class="legend-2">o</mark>#bar ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"::vector"</span><span class="p">,</span><span class="w">
  </span><span class="s2">": - ()"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Up, up, and away!"</span><span class="p">,</span><span class="w">
  </span><span class="mi">-123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"http://example.com/foo#bar"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"::vector"</span><span class="p">,</span><span class="w">
    </span><span class="s2">": - ()"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Up, up, and away!"</span><span class="p">,</span><span class="w">
    </span><span class="mi">-123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"http://example.com/foo#bar"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-plain-scalar-first-character">plain-scalar-first-character(c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-plain-scalar-characters">plain-scalar-characters(c)</a></code></li>
      <li><code class="legend-3">Not plain-scalar-first-character(c)</code></li>
      <li><code class="legend-4">Not plain-scalar-characters(c)</code></li>
    </ul>
  </div>
</div>

<p>Plain scalars are further restricted to a single line when contained inside an
<a href="#example-single-pair-explicit-entry">implicit key</a>.</p>

<div id="example-plain-implicit-keys" class="example">
  <p><strong>Example 6.11 Plain Implicit Keys</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">implicit block key</mark> : [
  <mark class="legend-1">implicit flow key</mark> : value,
 ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"implicit block key"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"implicit flow key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-plain-scalar-single-line">plain-scalar-single-line(c)</a></code></li>
    </ul>
  </div>
</div>

<p>All leading and trailing <a href="#white-space-characters">white space</a> characters are excluded from the
<a href="#nodes">content</a>.
Each continuation line must therefore contain at least one non-<a href="#white-space-characters">space</a>
character.
Empty lines, if any, are consumed as part of the <a href="#line-folding">line folding</a>.</p>

<div id="example-plain-lines" class="example">
  <p><strong>Example 6.12 Plain Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">1st non-empty</mark><mark class="legend-2">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2">·<mark class="legend-1">2nd non-empty</mark>·</mark>
<mark class="legend-2">→<mark class="legend-1">3rd non-empty</mark></mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"1st non-empty</span><span class="se">\n</span><span class="s2">2nd non-empty 3rd non-empty"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-plain-scalar-line-characters">plain-scalar-line-characters(c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-plain-scalar-next-line">plain-scalar-next-line(n,c)</a></code></li>
    </ul>
  </div>
</div>

<div id="flow-collection-styles"></div>
<h2 id="64-flow-collection-styles">6.4. Flow Collection Styles</h2>

<p>A <em>flow collection</em> may be nested within a <a href="#block-collection-styles">block collection</a> ([<code class="language-plaintext highlighter-rouge">FLOW-OUT</code>
context]), nested within another flow collection ([<code class="language-plaintext highlighter-rouge">FLOW-IN</code> context]) or be a
part of an <a href="#example-single-pair-explicit-entry">implicit key</a> ([<code class="language-plaintext highlighter-rouge">FLOW-KEY</code> context] or [<code class="language-plaintext highlighter-rouge">BLOCK-KEY</code> context]).
Flow collection entries are terminated by the “<code class="language-plaintext highlighter-rouge">,</code>” indicator.
The final “<code class="language-plaintext highlighter-rouge">,</code>” may be omitted.
This does not cause ambiguity because flow collection entries can never be
<a href="#example-empty-content">completely empty</a>.</p>

<div id="flow-sequences"></div>
<h3 id="641-flow-sequences">6.4.1. Flow Sequences</h3>

<p><em>Flow sequence content</em> is denoted by surrounding “<code class="language-plaintext highlighter-rouge">[</code>” and “<code class="language-plaintext highlighter-rouge">]</code>” characters.</p>

<p>Sequence entries are separated by a “<code class="language-plaintext highlighter-rouge">,</code>” character.</p>

<div id="example-flow-sequence" class="example">
  <p><strong>Example 6.13 Flow Sequence</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">[</mark> <mark class="legend-2">one</mark>, <mark class="legend-2">two</mark>, <mark class="legend-1">]</mark>
- <mark class="legend-1">[</mark><mark class="legend-2">three</mark> ,<mark class="legend-2">four</mark><mark class="legend-1">]</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"three"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"four"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">sequence-start, sequence-end</code></li>
      <li><code class="legend-2"><a href="#rule-flow-sequence-entry">flow-sequence-entry(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>Any <a href="#flow-nodes">flow node</a> may be used as a flow sequence entry.
In addition, YAML provides a <a href="#example-flow-mapping-adjacent-values">compact notation</a> for the case where a flow
sequence entry is a <a href="#mapping">mapping</a> with a <a href="#mapping">single key/value pair</a>.</p>

<div id="example-flow-sequence-entries" class="example">
  <p><strong>Example 6.14 Flow Sequence Entries</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
[
<mark class="legend-1">"double</mark>
<mark class="legend-1"> quoted"</mark>, <mark class="legend-1">'single</mark>
<mark class="legend-1">           quoted'</mark>,
<mark class="legend-1">plain</mark>
<mark class="legend-1"> text</mark>, <mark class="legend-1">[ nested ]</mark>,
<mark class="legend-2">single: pair</mark>,
]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"double quoted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"single quoted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"plain text"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"nested"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"single"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pair"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-node">flow-node(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-flow-pair">flow-pair(n,c)</a></code></li>
    </ul>
  </div>
</div>

<div id="flow-mappings"></div>
<h3 id="642-flow-mappings">6.4.2. Flow Mappings</h3>

<p><em>Flow mappings</em> are denoted by surrounding “<code class="language-plaintext highlighter-rouge">{</code>” and “<code class="language-plaintext highlighter-rouge">}</code>” characters.</p>

<p>Mapping entries are separated by a “<code class="language-plaintext highlighter-rouge">,</code>” character.</p>

<div id="example-flow-mappings" class="example">
  <p><strong>Example 6.15 Flow Mappings</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">{</mark> <mark class="legend-2">one : two</mark> , <mark class="legend-2">three: four</mark> , <mark class="legend-1">}</mark>
- <mark class="legend-1">{</mark><mark class="legend-2">five: six</mark>,<mark class="legend-2">seven : eight</mark><mark class="legend-1">}</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"one"</span><span class="p">:</span><span class="w"> </span><span class="s2">"two"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"three"</span><span class="p">:</span><span class="w"> </span><span class="s2">"four"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"five"</span><span class="p">:</span><span class="w"> </span><span class="s2">"six"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seven"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eight"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">mapping start, mapping end</code></li>
      <li><code class="legend-2"><a href="#rule-flow-mapping-entry">flow-mapping-entry(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>If the optional “<code class="language-plaintext highlighter-rouge">?</code>” mapping key indicator is specified, the rest of the entry
may be <a href="#example-empty-content">completely empty</a>.</p>

<div id="example-flow-mapping-entries" class="example">
  <p><strong>Example 6.16 Flow Mapping Entries</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
? <mark class="legend-1">explicit: entry</mark>,
<mark class="legend-2">implicit: entry</mark>,
?<mark class="legend-3">°</mark><mark class="legend-3">°</mark>
}
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"explicit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entry"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"implicit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entry"</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-flow-mapping-implicit-entry">flow-mapping-implicit-entry(n,c)</a></code></li>
      <li><code class="legend-3"><a href="#rule-empty-node">empty-node</a></code></li>
    </ul>
  </div>
</div>

<p>Normally, YAML insists the “<code class="language-plaintext highlighter-rouge">:</code>” mapping value indicator be <a href="#separation-spaces">separated</a> from
the <a href="#nodes">value</a> by <a href="#white-space-characters">white space</a>.
A benefit of this restriction is that the “<code class="language-plaintext highlighter-rouge">:</code>” character can be used inside
<a href="#plain-style">plain scalars</a>, as long as it is not followed by <a href="#white-space-characters">white space</a>.
This allows for unquoted URLs and timestamps.
It is also a potential source for confusion as “<code class="language-plaintext highlighter-rouge">a:1</code>” is a <a href="#plain-style">plain scalar</a> and
not a <a href="#mapping">key/value pair</a>.</p>

<p>Note that the <a href="#nodes">value</a> may be <a href="#example-empty-content">completely empty</a> since its existence is
indicated by the “<code class="language-plaintext highlighter-rouge">:</code>”.</p>

<div id="example-flow-mapping-separate-values" class="example">
  <p><strong>Example 6.17 Flow Mapping Separate Values</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
<mark class="legend-1">unquoted</mark>·<mark class="legend-2">:·"separate"</mark>,
<mark class="legend-1">https://foo.com</mark>,
<mark class="legend-1">omitted value</mark><mark class="legend-2">:<mark class="legend-3">°</mark></mark>,
<mark class="legend-3">°</mark><mark class="legend-2">:·omitted key</mark>,
}
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"unquoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"separate"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"http://foo.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"omitted value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="s2">"omitted key"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-yaml-node">flow-yaml-node(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-empty-node">empty-node</a></code></li>
      <li><code class="legend-3"><a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>To ensure <a href="#yaml-directives">JSON compatibility</a>, if a <a href="#nodes">key</a> inside a flow mapping is
<a href="#flow-nodes">JSON-like</a>, YAML allows the following <a href="#nodes">value</a> to be specified adjacent to the
“<code class="language-plaintext highlighter-rouge">:</code>”.
This causes no ambiguity, as all <a href="#flow-nodes">JSON-like</a> <a href="#nodes">keys</a> are surrounded by
<a href="#indicator-characters">indicators</a>.
However, as this greatly reduces readability, YAML <a href="#processes-and-models">processors</a> should
<a href="#separation-spaces">separate</a> the <a href="#nodes">value</a> from the “<code class="language-plaintext highlighter-rouge">:</code>” on output, even in this case.</p>

<div id="example-flow-mapping-adjacent-values" class="example">
  <p><strong>Example 6.18 Flow Mapping Adjacent Values</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
<mark class="legend-1">"adjacent"</mark>:<mark class="legend-3">value</mark>,
<mark class="legend-1">"readable"</mark>:·<mark class="legend-3">value</mark>,
<mark class="legend-1">"empty"</mark>:<mark class="legend-2">°</mark>
}
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"adjacent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"readable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"empty"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-json-node">flow-json-node(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-empty-node">empty-node</a></code></li>
      <li><code class="legend-3"><a href="#rule-flow-mapping-adjacent-value">flow-mapping-adjacent-value(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>A more compact notation is usable inside <a href="#flow-sequences">flow sequences</a>, if the <a href="#mapping">mapping</a>
contains a <em>single key/value pair</em>.
This notation does not require the surrounding “<code class="language-plaintext highlighter-rouge">{</code>” and “<code class="language-plaintext highlighter-rouge">}</code>” characters.
Note that it is not possible to specify any <a href="#node-properties">node properties</a> for the <a href="#mapping">mapping</a>
in this case.</p>

<div id="example-single-pair-flow-mappings" class="example">
  <p><strong>Example 6.19 Single Pair Flow Mappings</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
[
<mark class="legend-1">foo: bar</mark>
]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-pair">flow-pair(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>If the “<code class="language-plaintext highlighter-rouge">?</code>” indicator is explicitly specified, <a href="#parsing-the-presentation-stream">parsing</a> is unambiguous and
the syntax is identical to the general case.</p>

<div id="example-single-pair-explicit-entry" class="example">
  <p><strong>Example 6.20 Single Pair Explicit Entry</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
[
? <mark class="legend-1">foo</mark>
 <mark class="legend-1">bar : baz</mark>
]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo bar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>If the “<code class="language-plaintext highlighter-rouge">?</code>” indicator is omitted, <a href="#parsing-the-presentation-stream">parsing</a> needs to see past the <em>implicit
key</em> to recognize it as such.
To limit the amount of lookahead required, the “<code class="language-plaintext highlighter-rouge">:</code>” indicator must appear at
most 1024 Unicode characters beyond the start of the <a href="#nodes">key</a>.
In addition, the <a href="#nodes">key</a> is restricted to a single line.</p>

<p>Note that YAML allows arbitrary <a href="#nodes">nodes</a> to be used as <a href="#nodes">keys</a>.
In particular, a <a href="#nodes">key</a> may be a <a href="#sequence">sequence</a> or a <a href="#mapping">mapping</a>.
Thus, without the above restrictions, practical one-pass <a href="#parsing-the-presentation-stream">parsing</a> would have
been impossible to implement.</p>

<div id="example-single-pair-implicit-entries" class="example">
  <p><strong>Example 6.21 Single Pair Implicit Entries</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- [ <mark class="legend-1">YAML·</mark><mark class="legend-4">: separate</mark> ]
- [ <mark class="legend-2">°</mark><mark class="legend-4">: empty key entry</mark> ]
- [ <mark class="legend-3">{JSON: like}</mark><mark class="legend-4">:adjacent</mark> ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"YAML"</span><span class="p">:</span><span class="w"> </span><span class="s2">"separate"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="s2">"empty key entry"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"JSON"</span><span class="p">:</span><span class="w"> </span><span class="s2">"like"</span><span class="w"> </span><span class="p">}</span><span class="err">:</span><span class="w"> </span><span class="s2">"adjacent"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-implicit-yaml-key">implicit-yaml-key</a></code></li>
      <li><code class="legend-2"><a href="#rule-empty-node">empty-node</a></code></li>
      <li><code class="legend-3"><a href="#rule-implicit-json-key">implicit-json-key</a></code></li>
      <li><code class="legend-4">Value</code></li>
    </ul>
  </div>
</div>

<div id="example-invalid-implicit-keys" class="example">
  <p><strong>Example 6.22 Invalid Implicit Keys</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
[ <mark class="legend-1">foo</mark>
<mark class="legend-1"> bar</mark>: invalid,
 <mark class="legend-2">"foo_...&gt;1K characters..._bar"</mark>: invalid ]
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- The <mark class="legend-1">foo bar</mark> key spans multiple lines
- The <mark class="legend-2">foo...bar</mark> key is too long
</pre>

</td>
</tr>
</table>
</div>

<div id="flow-nodes"></div>
<h2 id="65-flow-nodes">6.5. Flow Nodes</h2>

<p><em>JSON-like</em> <a href="#flow-style-productions">flow styles</a> all have explicit start and end <a href="#indicator-characters">indicators</a>.
The only <a href="#flow-style-productions">flow style</a> that does not have this property is the <a href="#plain-style">plain scalar</a>.
Note that none of the “JSON-like” styles is actually acceptable by JSON.
Even the <a href="#double-quoted-style">double-quoted style</a> is a superset of the JSON string format.</p>

<div id="example-flow-content" class="example">
  <p><strong>Example 6.23 Flow Content</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">[ a, b ]</mark>
- <mark class="legend-1">{ a: b }</mark>
- <mark class="legend-1">"a"</mark>
- <mark class="legend-1">'b'</mark>
- <mark class="legend-2">c</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"c"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-json-content">flow-json-content(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-flow-yaml-content">flow-yaml-content(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>A complete <a href="#flow-style-productions">flow</a> <a href="#nodes">node</a> also has optional <a href="#node-properties">node properties</a>, except for <a href="#alias-nodes">alias
nodes</a> which refer to the <a href="#anchors-and-aliases">anchored</a> <a href="#node-properties">node properties</a>.</p>

<div id="example-flow-nodes" class="example">
  <p><strong>Example 6.24 Flow Nodes</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">!!str "a"</mark>
- <mark class="legend-1">'b'</mark>
- <mark class="legend-1">&amp;anchor "c"</mark>
- <mark class="legend-2">*anchor</mark>
- <mark class="legend-2">!!str°</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">""</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-json-node">flow-json-node(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-flow-yaml-node">flow-yaml-node(n,c)</a></code></li>
    </ul>
  </div>
</div>

<div id="block-style-productions"></div>
<h1 id="chapter-7-block-style-productions">Chapter 7. Block Style Productions</h1>

<p>YAML’s <em>block styles</em> employ <a href="#indentation-spaces">indentation</a> rather than <a href="#indicator-characters">indicators</a> to denote
structure.
This results in a more human readable (though less compact) notation.</p>

<div id="block-scalar-styles"></div>
<h2 id="71-block-scalar-styles">7.1. Block Scalar Styles</h2>

<p>YAML provides two <em>block scalar styles</em>, <a href="#literal-style">literal</a> and <a href="#line-folding">folded</a>.
Each provides a different trade-off between readability and expressive power.</p>

<div id="block-scalar-headers"></div>
<h3 id="711-block-scalar-headers">7.1.1. Block Scalar Headers</h3>

<p><a href="#block-scalar-styles">Block scalars</a> are controlled by a few <a href="#indicator-characters">indicators</a> given in a <em>header</em>
preceding the <a href="#nodes">content</a> itself.
This header is followed by a non-content <a href="#line-break-characters">line break</a> with an optional
<a href="#comments">comment</a>.
This is the only case where a <a href="#comments">comment</a> must not be followed by additional
<a href="#comments">comment</a> lines.</p>

<div id="example-block-scalar-header" class="example">
  <p><strong>Example 7.1 Block Scalar Header</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- |<mark class="legend-1"> # Empty header↓</mark>
 literal
- &gt;<mark class="legend-1">1 # Indentation indicator↓</mark>
 ·folded
- |<mark class="legend-1">+ # Chomping indicator↓</mark>
 keep

- &gt;<mark class="legend-1">1- # Both indicators↓</mark>
 ·strip
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"literal</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">" folded</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keep</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">" strip"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-scalar-indicators">block-scalar-indicators(t)</a></code></li>
    </ul>
  </div>
</div>

<div id="block-indentation-indicator"></div>
<h4 id="7111-block-indentation-indicator">7.1.1.1. Block Indentation Indicator</h4>

<p>Every block scalar has a <em>content indentation level</em>.
The content of the block scalar excludes a number of leading <a href="#white-space-characters">spaces</a> on each
line up to the content indentation level.</p>

<p>If a block scalar has an <em>indentation indicator</em>, then the content indentation
level of the block scalar is equal to the indentation level of the block scalar
plus the integer value of the indentation indicator character.</p>

<p>If no indentation indicator is given, then the content indentation level is
equal to the number of leading <a href="#white-space-characters">spaces</a> on the first non-<a href="#empty-lines">empty line</a> of the
contents.
If there is no non-<a href="#empty-lines">empty line</a> then the content indentation level is equal to
the number of spaces on the longest line.</p>

<p>It is an error if any non-<a href="#empty-lines">empty line</a> does not begin with a number of spaces
greater than or equal to the content indentation level.</p>

<p>It is an error for any of the leading <a href="#empty-lines">empty lines</a> to contain more <a href="#white-space-characters">spaces</a>
than the first non-<a href="#empty-lines">empty line</a>.</p>

<p>A YAML <a href="#processes-and-models">processor</a> should only emit an explicit indentation indicator for cases
where detection will fail.</p>

<div id="example-block-indentation-indicator" class="example">
  <p><strong>Example 7.2 Block Indentation Indicator</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- |<mark class="legend-1">°</mark>
<mark class="legend-2">·</mark>detected
- &gt;<mark class="legend-1">°</mark>
<mark class="legend-2">·</mark>
<mark class="legend-2">··</mark>
<mark class="legend-2">··</mark># detected
- |<mark class="legend-1">1</mark>
<mark class="legend-2">··</mark>explicit
- &gt;<mark class="legend-1">°</mark>
<mark class="legend-2">·</mark>→
<mark class="legend-2">·</mark>detected
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"detected</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\n\n</span><span class="s2"># detected</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">" explicit</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\t\n</span><span class="s2">detected</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-scalar-indentation-indicator">block-scalar-indentation-indicator</a></code></li>
      <li><code class="legend-2"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="example-invalid-block-scalar-indentation-indicators" class="example">
  <p><strong>Example 7.3 Invalid Block Scalar Indentation Indicators</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
- |
·<mark class="legend-1">·</mark>
·text
- &gt;
··text
<mark class="legend-2">·</mark>text
- |2
<mark class="legend-3">·</mark>text
</pre>

</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- A leading all-space line must
  not have too many <mark class="legend-1">spaces</mark>.
- A following text line must
  not be <mark class="legend-2">less indented</mark>.
- The text is <mark class="legend-3">less indented</mark>
  than the indicated level.
</pre>

</td>
</tr>
</table>
</div>

<div id="block-chomping-indicator"></div>
<h4 id="7112-block-chomping-indicator">7.1.1.2. Block Chomping Indicator</h4>

<p><em>Chomping</em> controls how final <a href="#line-break-characters">line breaks</a> and trailing <a href="#empty-lines">empty lines</a> are
interpreted.
YAML provides three chomping methods:</p>

<div id="strip"></div>

<dl>
  <dt>Strip</dt>
  <dd>
    <p><em>Stripping</em> is specified by the “<code class="language-plaintext highlighter-rouge">-</code>” chomping indicator.
In this case, the final <a href="#line-break-characters">line break</a> and any trailing <a href="#empty-lines">empty lines</a> are
excluded from the <a href="#scalar">scalar’s content</a>.</p>
  </dd>
</dl>

<div id="clip"></div>

<dl>
  <dt>Clip</dt>
  <dd>
    <p><em>Clipping</em> is the default behavior used if no explicit chomping indicator is
specified.
In this case, the final <a href="#line-break-characters">line break</a> character is preserved in the <a href="#scalar">scalar’s
content</a>.
However, any trailing <a href="#empty-lines">empty lines</a> are excluded from the <a href="#scalar">scalar’s content</a>.</p>
  </dd>
</dl>

<div id="keep"></div>

<dl>
  <dt>Keep</dt>
  <dd>
    <p><em>Keeping</em> is specified by the “<code class="language-plaintext highlighter-rouge">+</code>” chomping indicator.
In this case, the final <a href="#line-break-characters">line break</a> and any trailing <a href="#empty-lines">empty lines</a> are
considered to be part of the <a href="#scalar">scalar’s content</a>.
These additional lines are not subject to <a href="#line-folding">folding</a>.</p>
  </dd>
</dl>

<p>The chomping method used is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to
convey <a href="#nodes">content</a> information.</p>

<p>The interpretation of the final <a href="#line-break-characters">line break</a> of a <a href="#block-scalar-styles">block scalar</a> is controlled
by the chomping indicator specified in the <a href="#block-scalar-headers">block scalar header</a>.</p>

<div id="example-chomping-final-line-break" class="example">
  <p><strong>Example 7.4 Chomping Final Line Break</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
strip: |-
  text<mark class="legend-1">↓</mark>
clip: |
  text<mark class="legend-2">↓</mark>
keep: |+
  text<mark class="legend-2">↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"strip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-break-non-content">break-non-content</a></code></li>
      <li><code class="legend-2"><a href="#rule-break-as-line-feed">break-as-line-feed</a></code></li>
    </ul>
  </div>
</div>

<p>The interpretation of the trailing <a href="#empty-lines">empty lines</a> following a <a href="#block-scalar-styles">block scalar</a> is
also controlled by the chomping indicator specified in the <a href="#block-scalar-headers">block scalar
header</a>.</p>

<p>Explicit <a href="#comments">comment</a> lines may follow the trailing <a href="#empty-lines">empty lines</a>.
To prevent ambiguity, the first such <a href="#comments">comment</a> line must be less <a href="#indentation-spaces">indented</a>
than the <a href="#block-scalar-styles">block scalar content</a>.
Additional <a href="#comments">comment</a> lines, if any, are not so restricted.
This is the only case where the <a href="#indentation-spaces">indentation</a> of <a href="#comments">comment</a> lines is
constrained.</p>

<div id="example-chomping-trailing-lines" class="example">
  <p><strong>Example 7.5 Chomping Trailing Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Strip
  # Comments:
strip: |-
  # text↓
<mark class="legend-1">··⇓</mark>
<mark class="legend-1"><mark class="legend-3">·# Clip</mark></mark>
<mark class="legend-1"><mark class="legend-3">··# comments:</mark></mark>
<mark class="legend-1"><mark class="legend-3">↓</mark></mark>
clip: |
  # text↓
<mark class="legend-1">·↓</mark>
<mark class="legend-1"><mark class="legend-3">·# Keep</mark></mark>
<mark class="legend-1"><mark class="legend-3">··# comments:</mark></mark>
<mark class="legend-1"><mark class="legend-3">↓</mark></mark>
keep: |+
  # text↓
<mark class="legend-2">↓</mark>
<mark class="legend-2"><mark class="legend-3">·# Trail</mark></mark>
<mark class="legend-2"><mark class="legend-3">··# comments.</mark></mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"strip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"# text"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"# text</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"# text</span><span class="se">\n\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-line-strip-empty">line-strip-empty(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-line-keep-empty">line-keep-empty(n)</a></code></li>
      <li><code class="legend-3"><a href="#rule-line-trail-comments">line-trail-comments(n)</a></code></li>
    </ul>
  </div>
</div>

<p>If a <a href="#block-scalar-styles">block scalar</a> consists only of <a href="#empty-lines">empty lines</a>, then these lines are
considered as trailing lines and hence are affected by chomping.</p>

<div id="example-empty-scalar-chomping" class="example">
  <p><strong>Example 7.6 Empty Scalar Chomping</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
strip: &gt;-
<mark class="legend-1">↓</mark>
clip: &gt;
<mark class="legend-1">↓</mark>
keep: |+
<mark class="legend-2">↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"strip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-line-strip-empty">line-strip-empty(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-line-keep-empty">line-keep-empty(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="literal-style"></div>
<h3 id="712-literal-style">7.1.2. Literal Style</h3>

<p>The <em>literal style</em> is denoted by the “<code class="language-plaintext highlighter-rouge">|</code>” indicator.
It is the simplest, most restricted and most readable <a href="#node-styles">scalar style</a>.</p>

<div id="example-literal-scalar" class="example">
  <p><strong>Example 7.7 Literal Scalar</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">|↓</mark>
<mark class="legend-1">·literal↓</mark>
<mark class="legend-1">·→text↓</mark>
<mark class="legend-1">↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"literal</span><span class="se">\n\t</span><span class="s2">text</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-literal-scalar">block-literal-scalar(n)</a></code></li>
    </ul>
  </div>
</div>

<p>Inside literal scalars, all (<a href="#indentation-spaces">indented</a>) characters are considered to be
<a href="#nodes">content</a>, including <a href="#white-space-characters">white space</a> characters.
Note that all <a href="#line-break-characters">line break</a> characters are <a href="#line-break-characters">normalized</a>.
In addition, <a href="#empty-lines">empty lines</a> are not <a href="#line-folding">folded</a>, though final <a href="#line-break-characters">line breaks</a> and
trailing <a href="#empty-lines">empty lines</a> are <a href="#block-chomping-indicator">chomped</a>.</p>

<p>There is no way to escape characters inside literal scalars.
This restricts them to <a href="#character-set">printable</a> characters.
In addition, there is no way to break a long literal line.</p>

<div id="example-literal-content" class="example">
  <p><strong>Example 7.8 Literal Content</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
|
<mark class="legend-1">·</mark>
<mark class="legend-1">··</mark>
<mark class="legend-1">··literal</mark><mark class="legend-2">↓</mark>
<mark class="legend-1"><mark class="legend-2">···</mark></mark><mark class="legend-2">↓</mark>
<mark class="legend-1"><mark class="legend-2">··</mark></mark>
<mark class="legend-1"><mark class="legend-2">··text</mark></mark><mark class="legend-3">↓</mark>
↓
<mark class="legend-4">·# Comment</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n\n</span><span class="s2">literal</span><span class="se">\n</span><span class="s2">·</span><span class="se">\n\n</span><span class="s2">text</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-literal-scalar-line-content">literal-scalar-line-content(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-literal-scalar-next-line">literal-scalar-next-line(n)</a></code></li>
      <li><code class="legend-3"><a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last(t)</a></code></li>
      <li><code class="legend-4"><a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty(n,t)</a></code></li>
    </ul>
  </div>
</div>

<div id="folded-style"></div>
<h3 id="713-folded-style">7.1.3. Folded Style</h3>

<p>The <em>folded style</em> is denoted by the “<code class="language-plaintext highlighter-rouge">&gt;</code>” indicator.
It is similar to the <a href="#literal-style">literal style</a>; however, folded scalars are subject to
<a href="#line-folding">line folding</a>.</p>

<div id="example-folded-scalar" class="example">
  <p><strong>Example 7.9 Folded Scalar</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">&gt;↓</mark>
<mark class="legend-1">·folded↓</mark>
<mark class="legend-1">·text↓</mark>
<mark class="legend-1">↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"folded text</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-folded-scalar">block-folded-scalar(n)</a></code></li>
    </ul>
  </div>
</div>

<p><a href="#line-folding">Folding</a> allows long lines to be broken anywhere a single <a href="#white-space-characters">space</a> character
separates two non-<a href="#white-space-characters">space</a> characters.</p>

<div id="example-folded-lines" class="example">
  <p><strong>Example 7.10 Folded Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;

<mark class="legend-1"><mark class="legend-2">·folded</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">·line</mark>↓</mark>
↓
<mark class="legend-1"><mark class="legend-2">·next</mark></mark>
<mark class="legend-1"><mark class="legend-2">·line</mark></mark>↓
   * bullet

   * list
   * lines

<mark class="legend-1"><mark class="legend-2">·last</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">·line</mark></mark>↓

# Comment
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-folded-scalar-lines">folded-scalar-lines(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-folded-scalar-text">folded-scalar-text(n)</a></code></li>
    </ul>
  </div>
</div>

<p>(The following three examples duplicate this example, each highlighting
different productions.)</p>

<p>Lines starting with <a href="#white-space-characters">white space</a> characters (<em>more-indented</em> lines) are not
<a href="#line-folding">folded</a>.</p>

<div id="example-more-indented-lines" class="example">
  <p><strong>Example 7.11 More Indented Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;

 folded
 line

 next
 line
<mark class="legend-1"><mark class="legend-2">···* bullet</mark>↓</mark>
<mark class="legend-1">↓</mark>
<mark class="legend-1"><mark class="legend-2">···* list</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">···* lines</mark></mark>↓

 last
 line

# Comment
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-folded-scalar-spaced-lines">folded-scalar-spaced-lines(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-folded-scalar-spaced-text">folded-scalar-spaced-text(n)</a></code></li>
    </ul>
  </div>
</div>

<p><a href="#line-break-characters">Line breaks</a> and <a href="#empty-lines">empty lines</a> separating folded and more-indented lines are
also not <a href="#line-folding">folded</a>.</p>

<div id="example-empty-separation-lines" class="example">
  <p><strong>Example 7.12 Empty Separation Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;
<mark class="legend-2">↓</mark>
 folded
 line<mark class="legend-1">↓</mark>
<mark class="legend-2">↓</mark>
 next
 line<mark class="legend-1">↓</mark>
   * bullet

   * list
   * lines<mark class="legend-1">↓</mark>
<mark class="legend-2">↓</mark>
 last
 line

# Comment
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-break-as-line-feed">break-as-line-feed</a></code></li>
      <li><code class="legend-2">(separation) <a href="#rule-empty-line">empty-line(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>The final <a href="#line-break-characters">line break</a> and trailing <a href="#empty-lines">empty lines</a> if any, are subject to
<a href="#block-chomping-indicator">chomping</a> and are never <a href="#line-folding">folded</a>.</p>

<div id="example-final-empty-lines" class="example">
  <p><strong>Example 7.13 Final Empty Lines</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;

 folded
 line

 next
 line
   * bullet

   * list
   * lines

 last
 line<mark class="legend-1">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2"># Comment</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last(t)</a></code></li>
      <li><code class="legend-2"><a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty(n,t)</a></code></li>
    </ul>
  </div>
</div>

<div id="block-collection-styles"></div>
<h2 id="72-block-collection-styles">7.2. Block Collection Styles</h2>

<p>For readability, <em>block collections styles</em> are not denoted by any <a href="#indicator-characters">indicator</a>.
Instead, YAML uses a lookahead method, where a block collection is
distinguished from a <a href="#plain-style">plain scalar</a> only when a <a href="#mapping">key/value pair</a> or a <a href="#block-sequences">sequence
entry</a> is seen.</p>

<div id="block-sequences"></div>
<h3 id="721-block-sequences">7.2.1. Block Sequences</h3>

<p>A <em>block sequence</em> is simply a series of <a href="#nodes">nodes</a>, each denoted by a leading
“<code class="language-plaintext highlighter-rouge">-</code>” indicator.
The “<code class="language-plaintext highlighter-rouge">-</code>” indicator must be <a href="#separation-spaces">separated</a> from the <a href="#nodes">node</a> by <a href="#white-space-characters">white space</a>.
This allows “<code class="language-plaintext highlighter-rouge">-</code>” to be used as the first character in a <a href="#plain-style">plain scalar</a> if
followed by a non-space character (e.g. “<code class="language-plaintext highlighter-rouge">-42</code>”).</p>

<div id="example-block-sequence" class="example">
  <p><strong>Example 7.14 Block Sequence</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
block sequence:
<mark class="legend-2">··</mark><mark class="legend-1">- one↓</mark>
  <mark class="legend-1">- two : three↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"block sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"three"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-sequence-entry">block-sequence-entry(n)</a></code></li>
      <li><code class="legend-2">auto-detected <a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
    </ul>
  </div>
</div>

<p>The entry <a href="#nodes">node</a> may be either <a href="#example-empty-content">completely empty</a>, be a nested <a href="#block-nodes">block node</a> or
use a <em>compact in-line notation</em>.
The compact notation may be used when the entry is itself a nested <a href="#block-collection-styles">block
collection</a>.
In this case, both the “<code class="language-plaintext highlighter-rouge">-</code>” indicator and the following <a href="#white-space-characters">spaces</a> are
considered to be part of the <a href="#indentation-spaces">indentation</a> of the nested <a href="#collections">collection</a>.
Note that it is not possible to specify <a href="#node-properties">node properties</a> for such a
<a href="#collections">collection</a>.</p>

<div id="example-block-sequence-entry-types" class="example">
  <p><strong>Example 7.15 Block Sequence Entry Types</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
-<mark class="legend-1">° # Empty</mark>
-<mark class="legend-2"> |</mark>
 <mark class="legend-2">block node</mark>
-<mark class="legend-3">·- one # Compact</mark>
<mark class="legend-3">··- two # sequence</mark>
-<mark class="legend-4"> one: two # Compact mapping</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block node</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w"> </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"one"</span><span class="p">:</span><span class="w"> </span><span class="s2">"two"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1">Empty</code></li>
      <li><code class="legend-2"><a href="#rule-block-node">block-node(n,c)</a></code></li>
      <li><code class="legend-3"><a href="#rule-compact-sequence">compact-sequence(n)</a></code></li>
      <li><code class="legend-4"><a href="#rule-compact-mapping">compact-mapping(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="block-mappings"></div>
<h3 id="722-block-mappings">7.2.2. Block Mappings</h3>

<p>A <em>Block mapping</em> is a series of entries, each <a href="#presenting-the-serialization-tree">presenting</a> a <a href="#mapping">key/value pair</a>.</p>

<div id="example-block-mappings" class="example">
  <p><strong>Example 7.16 Block Mappings</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
block mapping:
<mark class="legend-2">·</mark><mark class="legend-1">key: value↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"block mapping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-mapping-entry">block-mapping-entry(n)</a></code></li>
      <li><code class="legend-2">auto-detected <a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
    </ul>
  </div>
</div>

<p>If the “<code class="language-plaintext highlighter-rouge">?</code>” indicator is specified, the optional value node must be specified
on a separate line, denoted by the “<code class="language-plaintext highlighter-rouge">:</code>” indicator.
Note that YAML allows here the same <a href="#example-block-sequence">compact in-line notation</a> described above
for <a href="#block-sequences">block sequence</a> entries.</p>

<div id="example-explicit-block-mapping-entries" class="example">
  <p><strong>Example 7.17 Explicit Block Mapping Entries</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">? explicit key # Empty value↓</mark><mark class="legend-3">°</mark>
<mark class="legend-1">? |</mark>
<mark class="legend-1">  block key↓</mark>
<mark class="legend-2">:·- one # Explicit compact</mark>
<mark class="legend-2">··- two # block value↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"explicit key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block key\n"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"two"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-mapping-explicit-key">block-mapping-explicit-key(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-block-mapping-explicit-value">block-mapping-explicit-value(n)</a></code></li>
      <li><code class="legend-3"><a href="#rule-empty-node">empty-node</a></code></li>
    </ul>
  </div>
</div>

<!-- REVIEW value should be null above -->

<p>If the “<code class="language-plaintext highlighter-rouge">?</code>” indicator is omitted, <a href="#parsing-the-presentation-stream">parsing</a> needs to see past the <a href="#example-single-pair-explicit-entry">implicit
key</a>, in the same way as in the <a href="#mapping">single key/value pair</a> <a href="#flow-mappings">flow mapping</a>.
Hence, such <a href="#nodes">keys</a> are subject to the same restrictions; they are limited to a
single line and must not span more than 1024 Unicode characters.</p>

<p>In this case, the <a href="#nodes">value</a> may be specified on the same line as the <a href="#example-single-pair-explicit-entry">implicit
key</a>.
Note however that in block mappings the <a href="#nodes">value</a> must never be adjacent to the
“<code class="language-plaintext highlighter-rouge">:</code>”, as this greatly reduces readability and is not required for <a href="#yaml-directives">JSON
compatibility</a> (unlike the case in <a href="#flow-mappings">flow mappings</a>).</p>

<p>There is no compact notation for in-line <a href="#nodes">values</a>.
Also, while both the <a href="#example-single-pair-explicit-entry">implicit key</a> and the <a href="#nodes">value</a> following it may be empty,
the “<code class="language-plaintext highlighter-rouge">:</code>” indicator is mandatory.
This prevents a potential ambiguity with multi-line <a href="#plain-style">plain scalars</a>.</p>

<div id="example-implicit-block-mapping-entries" class="example">
  <p><strong>Example 7.18 Implicit Block Mapping Entries</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">plain key</mark><mark class="legend-2">: in-line value</mark>
<mark class="legend-1">°</mark><mark class="legend-2">:° # Both empty</mark>
<mark class="legend-1">"quoted key"</mark><mark class="legend-2">:</mark>
<mark class="legend-2">- entry</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"plain key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-line value"</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoted key"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"entry"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-mapping-implicit-key">block-mapping-implicit-key</a></code></li>
      <li><code class="legend-2"><a href="#rule-block-mapping-implicit-value">block-mapping-implicit-value(n)</a></code></li>
    </ul>
  </div>
</div>

<p>A <a href="#example-block-sequence">compact in-line notation</a> is also available.
This compact notation may be nested inside <a href="#block-sequences">block sequences</a> and explicit block
mapping entries.
Note that it is not possible to specify <a href="#node-properties">node properties</a> for such a nested
mapping.</p>

<div id="example-compact-block-mappings" class="example">
  <p><strong>Example 7.19 Compact Block Mappings</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">sun: yellow↓</mark>
- <mark class="legend-1">? earth: blue↓</mark>
<mark class="legend-1">  : moon: white↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"sun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yellow"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"earth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="w"> </span><span class="p">}</span><span class="err">:</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"moon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-compact-mapping">compact-mapping(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="block-nodes"></div>
<h3 id="723-block-nodes">7.2.3. Block Nodes</h3>

<p>YAML allows <a href="#flow-nodes">flow nodes</a> to be embedded inside <a href="#block-collection-styles">block collections</a> (but not
vice-versa).
<a href="#flow-nodes">Flow nodes</a> must be <a href="#indentation-spaces">indented</a> by at least one more <a href="#white-space-characters">space</a> than the parent
<a href="#block-collection-styles">block collection</a>.
Note that <a href="#flow-nodes">flow nodes</a> may begin on a following line.</p>

<p>It is at this point that <a href="#parsing-the-presentation-stream">parsing</a> needs to distinguish between a <a href="#plain-style">plain
scalar</a> and an <a href="#example-single-pair-explicit-entry">implicit key</a> starting a nested <a href="#block-mappings">block mapping</a>.</p>

<div id="example-block-node-types" class="example">
  <p><strong>Example 7.20 Block Node Types</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
-<mark class="legend-1">↓</mark>
<mark class="legend-1">··"flow in block"↓</mark>
-·<mark class="legend-2">&gt;</mark>
<mark class="legend-2"> Block scalar↓</mark>
-·<mark class="legend-2">!!map # Block collection</mark>
<mark class="legend-2">  foo : bar↓</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"flow in block"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Block scalar</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-flow-node-in-a-block-node">flow-node-in-a-block-node(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-block-node-in-a-block-node">block-node-in-a-block-node(n,c)</a></code></li>
    </ul>
  </div>
</div>

<p>The block <a href="#node-properties">node’s properties</a> may span across several lines.
In this case, they must be <a href="#indentation-spaces">indented</a> by at least one more <a href="#white-space-characters">space</a> than the
<a href="#block-collection-styles">block collection</a>, regardless of the <a href="#indentation-spaces">indentation</a> of the <a href="#block-collection-styles">block collection</a>
entries.</p>

<div id="example-block-scalar-nodes" class="example">
  <p><strong>Example 7.21 Block Scalar Nodes</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
literal: <mark class="legend-1">|2</mark>
<mark class="legend-1">··value</mark>
folded:<mark class="legend-2">↓</mark>
<mark class="legend-2">···!foo</mark>
<mark class="legend-2">··&gt;1</mark>
<mark class="legend-2">·value</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"literal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"folded"</span><span class="p">:</span><span class="w"> </span><span class="err">!&lt;!foo&gt;</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-literal-scalar">block-literal-scalar(n)</a></code></li>
      <li><code class="legend-2"><a href="#rule-block-folded-scalar">block-folded-scalar(n)</a></code></li>
    </ul>
  </div>
</div>

<p>Since people perceive the “<code class="language-plaintext highlighter-rouge">-</code>” indicator as <a href="#indentation-spaces">indentation</a>, nested <a href="#block-sequences">block
sequences</a> may be <a href="#indentation-spaces">indented</a> by one less <a href="#white-space-characters">space</a> to compensate, except, of
course, if nested inside another <a href="#block-sequences">block sequence</a> ([<code class="language-plaintext highlighter-rouge">BLOCK-OUT</code> context] versus
[<code class="language-plaintext highlighter-rouge">BLOCK-IN</code> context]).</p>

<div id="example-block-collection-nodes" class="example">
  <p><strong>Example 7.22 Block Collection Nodes</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
sequence:<mark class="legend-1"> !!seq</mark>
<mark class="legend-1"><mark class="legend-2">- entry</mark></mark>
<mark class="legend-1"><mark class="legend-2">- !!seq</mark></mark>
<mark class="legend-1"><mark class="legend-2"> - nested</mark></mark>
mapping:<mark class="legend-1"> !!map</mark>
<mark class="legend-1"><mark class="legend-3"> foo: bar</mark></mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"entry"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="w"> </span><span class="s2">"nested"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"mapping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-block-collection">block-collection(n,c)</a></code></li>
      <li><code class="legend-2"><a href="#rule-block-sequence">block-sequence(n)</a></code></li>
      <li><code class="legend-3"><a href="#rule-block-mapping">block-mapping(n)</a></code></li>
    </ul>
  </div>
</div>

<div id="document-stream-productions"></div>
<h1 id="chapter-8-document-stream-productions">Chapter 8. Document Stream Productions</h1>

<div id="documents"></div>
<h2 id="81-documents">8.1. Documents</h2>

<p>A YAML character <a href="#streams">stream</a> may contain several <em>documents</em>.
Each document is completely independent from the rest.</p>

<div id="document-prefix"></div>
<h3 id="811-document-prefix">8.1.1. Document Prefix</h3>

<p>A document may be preceded by a <em>prefix</em> specifying the <a href="#character-encoding">character encoding</a>
and optional <a href="#comments">comment</a> lines.
Note that all <a href="#documents">documents</a> in a stream must use the same <a href="#character-encoding">character encoding</a>.
However it is valid to re-specify the <a href="#character-encodings">encoding</a> using a <a href="#character-encodings">byte order mark</a> for
each <a href="#documents">document</a> in the stream.</p>

<p>The existence of the optional prefix does not necessarily indicate the
existence of an actual <a href="#documents">document</a>.</p>

<div id="example-document-prefix" class="example">
  <p><strong>Example 8.1 Document Prefix</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">⇔# Comment</mark>
<mark class="legend-1"># lines</mark>
Document
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Document"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-document-prefix">document-prefix</a></code></li>
    </ul>
  </div>
</div>

<div id="document-markers"></div>
<h3 id="812-document-markers">8.1.2. Document Markers</h3>

<p>Using <a href="#directives">directives</a> creates a potential ambiguity.
It is valid to have a “<code class="language-plaintext highlighter-rouge">%</code>” character at the start of a line (e.g. as the first
character of the second line of a <a href="#plain-style">plain scalar</a>).
How, then, to distinguish between an actual <a href="#directives">directive</a> and a <a href="#nodes">content</a> line
that happens to start with a “<code class="language-plaintext highlighter-rouge">%</code>” character?</p>

<p>The solution is the use of two special <em>marker</em> lines to control the processing
of <a href="#directives">directives</a>, one at the start of a <a href="#documents">document</a> and one at the end.</p>

<p>At the start of a <a href="#documents">document</a>, lines beginning with a “<code class="language-plaintext highlighter-rouge">%</code>” character are
assumed to be <a href="#directives">directives</a>.
The (possibly empty) list of <a href="#directives">directives</a> is terminated by a <em>directives end
marker</em> line.
Lines following this marker can safely use “<code class="language-plaintext highlighter-rouge">%</code>” as the first character.</p>

<p>At the end of a <a href="#documents">document</a>, a <em>document end marker</em> line is used to signal the
<a href="#parsing-the-presentation-stream">parser</a> to begin scanning for <a href="#directives">directives</a> again.</p>

<p>The existence of this optional <em>document suffix</em> does not necessarily indicate
the existence of an actual following <a href="#documents">document</a>.</p>

<p>Obviously, the actual <a href="#nodes">content</a> lines are therefore forbidden to begin with
either of these markers.</p>

<div id="example-document-markers" class="example">
  <p><strong>Example 8.2 Document Markers</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
%YAML 1.3
<mark class="legend-1">---</mark>
Document
<mark class="legend-2"><mark class="legend-3">...</mark> # Suffix</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Document"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-document-start-indicator">document-start-indicator</a></code></li>
      <li><code class="legend-2"><a href="#rule-document-suffix">document-suffix</a></code></li>
      <li><code class="legend-3"><a href="#rule-document-end-indicator">document-end-indicator</a></code></li>
    </ul>
  </div>
</div>

<div id="bare-documents"></div>
<h3 id="813-bare-documents">8.1.3. Bare Documents</h3>

<p>A <em>bare document</em> does not begin with any <a href="#directives">directives</a> or <a href="#document-markers">marker</a> lines.
Such documents are very “clean” as they contain nothing other than the
<a href="#nodes">content</a>.
In this case, the first non-comment line may not start with a “<code class="language-plaintext highlighter-rouge">%</code>” first
character.</p>

<p>Document <a href="#nodes">nodes</a> are <a href="#indentation-spaces">indented</a> as if they have a parent <a href="#indentation-spaces">indented</a> at -1
<a href="#white-space-characters">spaces</a>.
Since a <a href="#nodes">node</a> must be more <a href="#indentation-spaces">indented</a> than its parent <a href="#nodes">node</a>, this allows the
document’s <a href="#nodes">node</a> to be <a href="#indentation-spaces">indented</a> at zero or more <a href="#white-space-characters">spaces</a>.</p>

<div id="example-bare-documents" class="example">
  <p><strong>Example 8.3 Bare Documents</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">Bare</mark>
<mark class="legend-1">document</mark>
...
# No document
...
<mark class="legend-1">|</mark>
<mark class="legend-1">%!PS-Adobe-2.0 # Not the first line</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Bare document"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="s2">"%!PS-Adobe-2.0</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-bare-document">bare-document</a></code></li>
    </ul>
  </div>
</div>

<div id="explicit-documents"></div>
<h3 id="814-explicit-documents">8.1.4. Explicit Documents</h3>

<p>An <em>explicit document</em> begins with an explicit <a href="#document-markers">directives end marker</a> line but
no <a href="#directives">directives</a>.
Since the existence of the <a href="#documents">document</a> is indicated by this <a href="#document-markers">marker</a>, the
<a href="#documents">document</a> itself may be <a href="#example-empty-content">completely empty</a>.</p>

<div id="example-explicit-documents" class="example">
  <p><strong>Example 8.4 Explicit Documents</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">---</mark>
<mark class="legend-1">{ matches</mark>
<mark class="legend-1">% : 20 }</mark>
...
<mark class="legend-1">---</mark>
<mark class="legend-1"># Empty</mark>
...
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"matches %"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="kc">null</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-explicit-document">explicit-document</a></code></li>
    </ul>
  </div>
</div>

<div id="directives-documents"></div>
<h3 id="815-directives-documents">8.1.5. Directives Documents</h3>

<p>A <em>directives document</em> begins with some <a href="#directives">directives</a> followed by an explicit
<a href="#document-markers">directives end marker</a> line.</p>

<div id="example-directives-documents" class="example">
  <p><strong>Example 8.5 Directives Documents</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">%YAML 1.3</mark>
<mark class="legend-1">--- |</mark>
<mark class="legend-1">%!PS-Adobe-2.0</mark>
...
<mark class="legend-1">%YAML 1.3</mark>
<mark class="legend-1">---</mark>
<mark class="legend-1"># Empty</mark>
...
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"%!PS-Adobe-2.0</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="kc">null</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-explicit-document">explicit-document</a></code></li>
    </ul>
  </div>
</div>

<div id="streams"></div>
<h2 id="82-streams">8.2. Streams</h2>

<p>A YAML <em>stream</em> consists of zero or more <a href="#documents">documents</a>.
Subsequent <a href="#documents">documents</a> require some sort of separation <a href="#document-markers">marker</a> line.
If a <a href="#documents">document</a> is not terminated by a <a href="#document-markers">document end marker</a> line, then the
following <a href="#documents">document</a> must begin with a <a href="#document-markers">directives end marker</a> line.</p>

<div id="example-stream" class="example">
  <p><strong>Example 8.6 Stream</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">Document</mark>
<mark class="legend-1">---</mark>
<mark class="legend-1"># Empty</mark>
<mark class="legend-2">...</mark>
<mark class="legend-3">%YAML 1.3</mark>
<mark class="legend-3">---</mark>
<mark class="legend-3">matches %: 20</mark>
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Document"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="kc">null</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"matches %"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
  <div class="legend">
    <p><strong>Legend:</strong></p>
    <ul>
      <li><code class="legend-1"><a href="#rule-any-document">any-document</a></code></li>
      <li><code class="legend-2"><a href="#rule-document-suffix">document-suffix</a></code></li>
      <li><code class="legend-3"><a href="#rule-explicit-document">explicit-document</a></code></li>
    </ul>
  </div>
</div>

<p>A sequence of bytes is a <em>well-formed stream</em> if, taken as a whole, it complies
with the above <code class="language-plaintext highlighter-rouge">yaml-stream</code> production.</p>

<div id="recommended-schemas"></div>
<h1 id="chapter-9-recommended-schemas">Chapter 9. Recommended Schemas</h1>

<p>A YAML <em>schema</em> is a combination of a set of <a href="#tags">tags</a> and a mechanism for
<a href="#resolved-tags">resolving</a> <a href="#resolved-tags">non-specific tags</a>.</p>

<div id="failsafe-schema"></div>
<h2 id="91-failsafe-schema">9.1. Failsafe Schema</h2>

<p>The <em>failsafe schema</em> is guaranteed to work with any YAML <a href="#documents">document</a>.
It is therefore the recommended <a href="#recommended-schemas">schema</a> for generic YAML tools.
A YAML <a href="#processes-and-models">processor</a> should therefore support this <a href="#recommended-schemas">schema</a>, at least as an
option.</p>

<div id="tags"></div>
<h3 id="911-tags">9.1.1. Tags</h3>

<div id="generic-mapping"></div>
<h4 id="9111-generic-mapping">9.1.1.1. Generic Mapping</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#mapping">Mapping</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> an associative container, where each <a href="#nodes">key</a> is unique in the
association and mapped to exactly one <a href="#nodes">value</a>.
YAML places no restrictions on the type of <a href="#nodes">keys</a>; in particular, they are not
restricted to being <a href="#scalars">scalars</a>.
Example <a href="#constructing-native-data-structures">bindings</a> to <a href="#representing-native-data-structures">native</a> types include Perl’s hash, Python’s dictionary
and Java’s Hashtable.</p>
  </dd>
</dl>

<div id="example-map-examples" class="example">
  <p><strong>Example 9.1 <code class="language-plaintext highlighter-rouge">!!map</code> Examples</strong></p>

  <pre class="example">
Block style: !!map
  Clark : Evans
  Ingy  : döt Net
  Oren  : Ben-Kiki

Flow style: !!map { Clark: Evans, Ingy: döt Net, Oren: Ben-Kiki }
</pre>

</div>

<div id="generic-sequence"></div>
<h4 id="9112-generic-sequence">9.1.1.2. Generic Sequence</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#sequence">Sequence</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> a collection indexed by sequential integers starting with zero.
Example <a href="#constructing-native-data-structures">bindings</a> to <a href="#representing-native-data-structures">native</a> types include Perl’s array, Python’s list or
tuple and Java’s array or Vector.</p>
  </dd>
</dl>

<div id="example-seq-examples" class="example">
  <p><strong>Example 9.2 <code class="language-plaintext highlighter-rouge">!!seq</code> Examples</strong></p>

  <pre class="example">
Block style: !!seq
- Clark Evans
- Ingy döt Net
- Oren Ben-Kiki

Flow style: !!seq [ Clark Evans, Ingy döt Net, Oren Ben-Kiki ]
</pre>

</div>

<div id="generic-string"></div>
<h4 id="9113-generic-string">9.1.1.3. Generic String</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#scalar">Scalar</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> a Unicode string, a sequence of zero or more Unicode characters.
This type is usually <a href="#representing-native-data-structures">bound</a> to the <a href="#representing-native-data-structures">native</a> language’s string type or, for
languages lacking one (such as C), to a character array.</p>
  </dd>
</dl>

<div id="canonical-form"></div>

<dl>
  <dt>Canonical Form:</dt>
  <dd>
    <p>The obvious.</p>
  </dd>
</dl>

<div id="example-str-examples" class="example">
  <p><strong>Example 9.3 <code class="language-plaintext highlighter-rouge">!!str</code> Examples</strong></p>

  <pre class="example">
Block style: !!str |-
  String: just a theory.

Flow style: !!str "String: just a theory."
</pre>

</div>

<div id="tag-resolution"></div>
<h3 id="912-tag-resolution">9.1.2. Tag Resolution</h3>

<p>All <a href="#nodes">nodes</a> with the “<code class="language-plaintext highlighter-rouge">!</code>” non-specific tag are <a href="#resolved-tags">resolved</a>, by the standard
<a href="#resolved-tags">convention</a>, to “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>”, “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code>”, according to their <a href="#nodes">kind</a>.</p>

<p>All <a href="#nodes">nodes</a> with the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag are left <a href="#resolved-tags">unresolved</a>.
This constrains the <a href="#processes-and-models">application</a> to deal with a <a href="#loading-failure-points">partial representation</a>.</p>

<div id="json-schema"></div>
<h2 id="92-json-schema">9.2. JSON Schema</h2>

<p>The <em>JSON schema</em> is the lowest common denominator of most modern computer
languages and allows <a href="#parsing-the-presentation-stream">parsing</a> JSON files.
A YAML <a href="#processes-and-models">processor</a> should therefore support this <a href="#recommended-schemas">schema</a>, at least as an
option.
It is also strongly recommended that other <a href="#recommended-schemas">schemas</a> should be based on it.</p>

<div id="tags"></div>
<h3 id="921-tags">9.2.1. Tags</h3>

<p>The JSON <a href="#recommended-schemas">schema</a> uses the following <a href="#tags">tags</a> in addition to those defined by the
<a href="#failsafe-schema">failsafe</a> schema:</p>

<div id="null"></div>
<h4 id="9211-null">9.2.1.1. Null</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:null</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#scalar">Scalar</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> the lack of a value.
This is typically <a href="#representing-native-data-structures">bound</a> to a <a href="#representing-native-data-structures">native</a> null-like value (e.g., <code class="language-plaintext highlighter-rouge">undef</code> in Perl,
<code class="language-plaintext highlighter-rouge">None</code> in Python).
Note that a null is different from an empty string.
Also, a <a href="#mapping">mapping</a> entry with some <a href="#nodes">key</a> and a null <a href="#nodes">value</a> is valid and
different from not having that <a href="#nodes">key</a> in the <a href="#mapping">mapping</a>.</p>
  </dd>
</dl>

<div id="canonical-form"></div>

<dl>
  <dt>Canonical Form</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">null</code>.</p>
  </dd>
</dl>

<div id="example-null-examples" class="example">
  <p><strong>Example 9.4 <code class="language-plaintext highlighter-rouge">!!null</code> Examples</strong></p>

  <pre class="example">
!!null null: value for null key
key with null value: !!null null
</pre>

</div>

<div id="boolean"></div>
<h4 id="9212-boolean">9.2.1.2. Boolean</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:bool</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#scalar">Scalar</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> a true/false value.
In languages without a <a href="#representing-native-data-structures">native</a> Boolean type (such as C), they are usually
<a href="#representing-native-data-structures">bound</a> to a native integer type, using one for true and zero for false.</p>
  </dd>
</dl>

<div id="canonical-form"></div>

<dl>
  <dt>Canonical Form</dt>
  <dd>
    <p>Either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code>.</p>
  </dd>
</dl>

<div id="example-bool-examples" class="example">
  <p><strong>Example 9.5 <code class="language-plaintext highlighter-rouge">!!bool</code> Examples</strong></p>

  <pre class="example">
YAML is a superset of JSON: !!bool true
Pluto is a planet: !!bool false
</pre>

</div>

<div id="integer"></div>
<h4 id="9213-integer">9.2.1.3. Integer</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:int</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#scalar">Scalar</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> arbitrary sized finite mathematical integers.
Scalars of this type should be <a href="#representing-native-data-structures">bound</a> to a <a href="#representing-native-data-structures">native</a> integer data type, if
possible.</p>
  </dd>
  <dd>
    <p>Some languages (such as Perl) provide only a “number” type that allows for both
integer and floating-point values.
A YAML <a href="#processes-and-models">processor</a> may use such a type for integers as long as they round-trip
properly.</p>
  </dd>
  <dd>
    <p>In some languages (such as C), an integer may overflow the <a href="#representing-native-data-structures">native</a> type’s
storage capability.
A YAML <a href="#processes-and-models">processor</a> may reject such a value as an error, truncate it with a
warning or find some other manner to round-trip it.
In general, integers representable using 32 binary digits should safely
round-trip through most systems.</p>
  </dd>
</dl>

<div id="canonical-form"></div>

<dl>
  <dt>Canonical Form</dt>
  <dd>
    <p>Decimal integer notation, with a leading “<code class="language-plaintext highlighter-rouge">-</code>” character for negative values,
matching the regular expression <code class="language-plaintext highlighter-rouge">0 | -? [1-9] [0-9]*</code></p>
  </dd>
</dl>

<div id="example-int-examples" class="example">
  <p><strong>Example 9.6 <code class="language-plaintext highlighter-rouge">!!int</code> Examples</strong></p>

  <pre class="example">
negative: !!int -12
zero: !!int 0
positive: !!int 34
</pre>

</div>

<div id="floating-point"></div>
<h4 id="9214-floating-point">9.2.1.4. Floating Point</h4>

<div id="uri"></div>

<dl>
  <dt>URI</dt>
  <dd>
    <p><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:float</code></p>
  </dd>
</dl>

<div id="kind"></div>

<dl>
  <dt>Kind</dt>
  <dd>
    <p><a href="#scalar">Scalar</a>.</p>
  </dd>
</dl>

<div id="definition"></div>

<dl>
  <dt>Definition</dt>
  <dd>
    <p><a href="#representation-graph">Represents</a> an approximation to real numbers, including three special values
(positive and negative infinity and “not a number”).</p>
  </dd>
  <dd>
    <p>Some languages (such as Perl) provide only a “number” type that allows for both
integer and floating-point values.
A YAML <a href="#processes-and-models">processor</a> may use such a type for floating-point numbers, as long as
they round-trip properly.</p>
  </dd>
  <dd>
    <p>Not all floating-point values can be stored exactly in any given <a href="#representing-native-data-structures">native</a> type.
Hence a float value may change by “a small amount” when round-tripped.
The supported range and accuracy depends on the implementation, though 32 bit
IEEE floats should be safe.
Since YAML does not specify a particular accuracy, using floating-point
<a href="#nodes">mapping keys</a> requires great care and is not recommended.</p>
  </dd>
</dl>

<div id="canonical-form"></div>

<dl>
  <dt>Canonical Form</dt>
  <dd>
    <p>Either <code class="language-plaintext highlighter-rouge">0</code>, <code class="language-plaintext highlighter-rouge">.inf</code>, <code class="language-plaintext highlighter-rouge">-.inf</code>, <code class="language-plaintext highlighter-rouge">.nan</code> or scientific notation matching the regular
expression<br />
<code class="language-plaintext highlighter-rouge">-? [1-9] ( \. [0-9]* [1-9] )? ( e [-+] [1-9] [0-9]* )?</code>.</p>
  </dd>
</dl>

<div id="example-float-examples" class="example">
  <p><strong>Example 9.7 <code class="language-plaintext highlighter-rouge">!!float</code> Examples</strong></p>

  <pre class="example">
negative: !!float -1
zero: !!float 0
positive: !!float 2.3e4
infinity: !!float .inf
not a number: !!float .nan
</pre>

</div>

<div id="tag-resolution"></div>
<h3 id="922-tag-resolution">9.2.2. Tag Resolution</h3>

<p>The <a href="#json-schema">JSON schema</a> <a href="#tag-resolution">tag resolution</a> is an extension of the <a href="#failsafe-schema">failsafe schema</a>
<a href="#tag-resolution">tag resolution</a>.</p>

<p>All <a href="#nodes">nodes</a> with the “<code class="language-plaintext highlighter-rouge">!</code>” non-specific tag are <a href="#resolved-tags">resolved</a>, by the standard
<a href="#resolved-tags">convention</a>, to “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>”, “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code>”, according to their <a href="#nodes">kind</a>.</p>

<p><a href="#collections">Collections</a> with the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag (that is, <a href="#resolved-tags">untagged</a>
<a href="#collections">collections</a>) are <a href="#resolved-tags">resolved</a> to “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” according to their <a href="#nodes">kind</a>.</p>

<p><a href="#scalars">Scalars</a> with the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag (that is, <a href="#plain-style">plain scalars</a>) are
matched with a list of regular expressions (first match wins, e.g. <code class="language-plaintext highlighter-rouge">0</code> is
resolved as <code class="language-plaintext highlighter-rouge">!!int</code>).
In principle, JSON files should not contain any <a href="#scalars">scalars</a> that do not match at
least one of these.
Hence the YAML <a href="#processes-and-models">processor</a> should consider them to be an error.</p>

<table>
  <thead>
    <tr>
      <th>Regular expression</th>
      <th>Resolved to tag</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">null</code></td>
      <td>tag:yaml.org,2002:null</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">true | false</code></td>
      <td>tag:yaml.org,2002:bool</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-? ( 0 | [1-9] [0-9]* )</code></td>
      <td>tag:yaml.org,2002:int</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">-? ( 0 | [1-9] [0-9]* ) ( \. [0-9]* )? ( [eE] [-+]? [0-9]+ )?</code></td>
      <td>tag:yaml.org,2002:float</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">*</code></td>
      <td>Error</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Note: The regular expression for <code class="language-plaintext highlighter-rouge">float</code> does not exactly match the one in
the JSON specification, where at least one digit is required after the dot: <code class="language-plaintext highlighter-rouge">(
\.  [0-9]+ )</code>. The YAML 1.2 specification intended to match JSON behavior, but
this could not be addressed in the 1.2.2 specification.</p>
</blockquote>

<div id="example-json-tag-resolution" class="example">
  <p><strong>Example 9.8 JSON Tag Resolution</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
A null: null
Booleans: [ true, false ]
Integers: [ 0, -0, 3, -19 ]
Floats: [ 0., -0.0, 12e03, -2E+05 ]
Invalid: [ True, Null,
  0o7, 0x3A, +12.3 ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"A null"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Booleans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Integers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">-19</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Floats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span><span class="w"> </span><span class="mi">-200000</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Invalid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Null"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0o7"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0x3A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"+12.3"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
</div>

<div id="core-schema"></div>
<h2 id="93-core-schema">9.3. Core Schema</h2>

<p>The <em>Core schema</em> is an extension of the <a href="#json-schema">JSON schema</a>, allowing for more
human-readable <a href="#presentation-stream">presentation</a> of the same types.
This is the recommended default <a href="#recommended-schemas">schema</a> that YAML <a href="#processes-and-models">processor</a> should use
unless instructed otherwise.
It is also strongly recommended that other <a href="#recommended-schemas">schemas</a> should be based on it.</p>

<div id="tags"></div>
<h3 id="931-tags">9.3.1. Tags</h3>

<p>The core <a href="#recommended-schemas">schema</a> uses the same <a href="#tags">tags</a> as the <a href="#json-schema">JSON schema</a>.</p>

<div id="tag-resolution"></div>
<h3 id="932-tag-resolution">9.3.2. Tag Resolution</h3>

<p>The <a href="#core-schema">core schema</a> <a href="#tag-resolution">tag resolution</a> is an extension of the <a href="#json-schema">JSON schema</a> <a href="#tag-resolution">tag
resolution</a>.</p>

<p>All <a href="#nodes">nodes</a> with the “<code class="language-plaintext highlighter-rouge">!</code>” non-specific tag are <a href="#resolved-tags">resolved</a>, by the standard
<a href="#resolved-tags">convention</a>, to “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>”, “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code>”, according to their <a href="#nodes">kind</a>.</p>

<p><a href="#collections">Collections</a> with the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag (that is, <a href="#resolved-tags">untagged</a>
<a href="#collections">collections</a>) are <a href="#resolved-tags">resolved</a> to “<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code>” or
“<code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code>” according to their <a href="#nodes">kind</a>.</p>

<p><a href="#scalars">Scalars</a> with the “<code class="language-plaintext highlighter-rouge">?</code>” non-specific tag (that is, <a href="#plain-style">plain scalars</a>) are
matched with an extended list of regular expressions.
However, in this case, if none of the regular expressions matches, the <a href="#scalar">scalar</a>
is <a href="#resolved-tags">resolved</a> to <code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code> (that is, considered to be a string).</p>

<table>
  <thead>
    <tr>
      <th>Regular expression</th>
      <th>Resolved to tag</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">null | Null | NULL | ~</code></td>
      <td>tag:yaml.org,2002:null</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">/* Empty */</code></td>
      <td>tag:yaml.org,2002:null</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">true | True | TRUE | false | False | FALSE</code></td>
      <td>tag:yaml.org,2002:bool</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">[-+]? [0-9]+</code></td>
      <td>tag:yaml.org,2002:int (Base 10)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0o [0-7]+</code></td>
      <td>tag:yaml.org,2002:int (Base 8)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">0x [0-9a-fA-F]+</code></td>
      <td>tag:yaml.org,2002:int (Base 16)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">[-+]? ( \. [0-9]+ | [0-9]+ ( \. [0-9]* )? ) ( [eE] [-+]? [0-9]+ )?</code></td>
      <td>tag:yaml.org,2002:float (Number)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">[-+]? ( \.inf | \.Inf | \.INF )</code></td>
      <td>tag:yaml.org,2002:float (Infinity)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\.nan | \.NaN | \.NAN</code></td>
      <td>tag:yaml.org,2002:float (Not a number)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">*</code></td>
      <td>tag:yaml.org,2002:str (Default)</td>
    </tr>
  </tbody>
</table>

<div id="example-core-tag-resolution" class="example">
  <p><strong>Example 9.9 Core Tag Resolution</strong></p>

  <table width="100%">
<tr>
<td class="side-by-side">
<pre>
A null: null
Also a null: # Empty
Not a null: ""
Booleans: [ true, True, false, FALSE ]
Integers: [ 0, 0o7, 0x3A, -19 ]
Floats: [
  0., -0.0, .5, +12e03, -2E+05 ]
Also floats: [
  .inf, -.Inf, +.INF, .NAN ]
</pre>

</td>
<td class="side-by-side">
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"A null"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Also a null"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Not a null"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Booleans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Integers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w"> </span><span class="mi">-19</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Floats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span><span class="w"> </span><span class="mi">-200000</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Also floats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="err">Infinity</span><span class="p">,</span><span class="w"> </span><span class="err">-Infinity</span><span class="p">,</span><span class="w"> </span><span class="err">Infinity</span><span class="p">,</span><span class="w"> </span><span class="err">NaN</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>

      </td>
</tr>
</table>
</div>

<div id="other-schemas"></div>
<h2 id="94-other-schemas">9.4. Other Schemas</h2>

<p>None of the above recommended <a href="#recommended-schemas">schemas</a> preclude the use of arbitrary explicit
<a href="#tags">tags</a>.
Hence YAML <a href="#processes-and-models">processors</a> for a particular programming language typically provide
some form of <a href="#tags">local tags</a> that map directly to the language’s <a href="#representing-native-data-structures">native data
structures</a> (e.g., <code class="language-plaintext highlighter-rouge">!ruby/object:Set</code>).</p>

<p>While such <a href="#tags">local tags</a> are useful for ad hoc <a href="#processes-and-models">applications</a>, they do not
suffice for stable, interoperable cross-<a href="#processes-and-models">application</a> or cross-platform data
exchange.</p>

<p>Interoperable <a href="#recommended-schemas">schemas</a> make use of <a href="#tags">global tags</a> (URIs) that <a href="#representation-graph">represent</a> the
same data across different programming languages.
In addition, an interoperable <a href="#recommended-schemas">schema</a> may provide additional <a href="#tag-resolution">tag resolution</a>
rules.
Such rules may provide additional regular expressions, as well as consider the
path to the <a href="#nodes">node</a>.
This allows interoperable <a href="#recommended-schemas">schemas</a> to use <a href="#resolved-tags">untagged</a> <a href="#nodes">nodes</a>.</p>

<p>It is strongly recommended that such <a href="#recommended-schemas">schemas</a> be based on the <a href="#core-schema">core schema</a>
defined above.</p>

<h1 id="appendix-a-grammar">Appendix A. Grammar</h1>

<p>The following chapters formally define the syntax of YAML character <a href="#streams">streams</a>,
using parameterized BNF productions.</p>

<p>Each BNF production is both named and numbered for easy reference.
Whenever possible, basic structures are specified before the more complex
structures using them in a “bottom up” fashion.</p>

<p>The productions are accompanied by examples which are presented in a two-pane
side-by-side format.
The left-hand side is the YAML example and the right-hand side is an alternate
YAML view of the example.
The right-hand view uses JSON when possible.
Otherwise it uses a YAML form that is as close to JSON as possible.</p>

<div id="a-1-production-syntax"></div>
<h2 id="a1-production-syntax">A.1. Production Syntax</h2>

<p>Productions are defined using the syntax <code class="language-plaintext highlighter-rouge">production-name ::= term</code>, where a
term is either:</p>

<div id="an-atomic-term"></div>

<dl>
  <dt>An atomic term</dt>
  <dd>
    <ul>
      <li>A quoted string (<code class="language-plaintext highlighter-rouge">"abc"</code>), which matches that concatenation of characters. A
single character is usually written with single quotes (<code class="language-plaintext highlighter-rouge">'a'</code>).</li>
      <li>A hexadecimal number (<code class="language-plaintext highlighter-rouge">x0A</code>), which matches the character at that Unicode
code point.</li>
      <li>A range of hexadecimal numbers (<code class="language-plaintext highlighter-rouge">[x20-x7E]</code>), which matches any character
whose Unicode code point is within that range.</li>
      <li>The name of a production (<code class="language-plaintext highlighter-rouge">yaml-character</code>), which matches that production.</li>
    </ul>
  </dd>
</dl>

<div id="a-lookaround"></div>

<dl>
  <dt>A lookaround</dt>
  <dd>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">[ lookahead = term ]</code>, which matches the empty string if <code class="language-plaintext highlighter-rouge">term</code> would match.</li>
      <li><code class="language-plaintext highlighter-rouge">[ lookahead ≠ term ]</code>, which matches the empty string if <code class="language-plaintext highlighter-rouge">term</code> would not
match.</li>
      <li><code class="language-plaintext highlighter-rouge">[ lookbehind = term ]</code>, which matches the empty string if <code class="language-plaintext highlighter-rouge">term</code> would match
beginning at any prior point on the line and ending at the current position.</li>
    </ul>
  </dd>
</dl>

<div id="a-special-production"></div>

<dl>
  <dt>A special production</dt>
  <dd>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">&lt;start-of-line&gt;</code>, which matches the empty string at the beginning of a line.</li>
      <li><code class="language-plaintext highlighter-rouge">&lt;end-of-input&gt;</code>, matches the empty string at the end of the input.</li>
    </ul>
  </dd>
</dl>

<div id="a-parenthesized-term"></div>

<dl>
  <dt>A parenthesized term</dt>
  <dd>
    <p>Matches its contents.</p>
  </dd>
</dl>

<div id="a-concatenation"></div>

<dl>
  <dt>A concatenation</dt>
  <dd>
    <p>Is <code class="language-plaintext highlighter-rouge">term-one term-two</code>, which matches <code class="language-plaintext highlighter-rouge">term-one</code> followed by <code class="language-plaintext highlighter-rouge">term-two</code>.</p>
  </dd>
</dl>

<div id="a-alternation"></div>

<dl>
  <dt>A alternation</dt>
  <dd>
    <p>Is <code class="language-plaintext highlighter-rouge">term-one | term-two</code>, which matches the <code class="language-plaintext highlighter-rouge">term-one</code> if possible, or
<code class="language-plaintext highlighter-rouge">term-two</code> otherwise.</p>
  </dd>
</dl>

<div id="a-quantified-term"></div>

<dl>
  <dt>A quantified term:</dt>
  <dd>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">term?</code>, which matches <code class="language-plaintext highlighter-rouge">(term | "")</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">term*</code>, which matches <code class="language-plaintext highlighter-rouge">(term term* | "")</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">term+</code>, which matches <code class="language-plaintext highlighter-rouge">(term term*)</code>.</li>
    </ul>
  </dd>
</dl>

<blockquote>
  <p>Note: Quantified terms are always greedy.</p>
</blockquote>

<p>The order of precedence is parenthesization, then quantification, then
concatenation, then alternation.</p>

<p>Some lines in a production definition might have a comment like:</p>

<pre>
production-a ::=
  production-b      # clarifying comment
</pre>

<p>These comments are meant to be informative only.
For instance a comment that says <code class="language-plaintext highlighter-rouge"># not followed by non-ws char</code> just means
that you should be aware that actual production rules will behave as described
even though it might not be obvious from the content of that particular
production alone.</p>

<div id="a-1-1-production-parameters"></div>
<h3 id="a11-production-parameters">A.1.1. Production Parameters</h3>

<p>Some productions have parameters in parentheses after the name, such as
<a href="#rule-line-prefix-spaces"><code class="language-plaintext highlighter-rouge">line-prefix-spaces(n,c)</code></a>.
A parameterized production is shorthand for a (infinite) series of productions,
each with a fixed value for each parameter.</p>

<p>For instance, this production:</p>

<pre>
production-a(n) ::= production-b(n)
</pre>

<p>Is shorthand for:</p>

<pre>
production-a(0) ::= production-b(0)
production-a(1) ::= production-b(1)
…
</pre>

<p>And this production:</p>

<pre>
production-a(n) ::=
  ( production-b(n+m) production-c(n+m) )+
</pre>

<p>Is shorthand for:</p>

<pre>
production-a(0) ::=
    ( production-b(0) production-c(0) )+
  | ( production-b(1) production-c(1) )+
  | …
production-a(1) ::=
    ( production-b(1) production-c(1) )+
  | ( production-b(2) production-c(2) )+
  | …
…
</pre>

<p>The parameters are as follows:</p>

<div id="indentation-n-or-m"></div>

<dl>
  <dt>Indentation: <code class="language-plaintext highlighter-rouge">n</code> or <code class="language-plaintext highlighter-rouge">m</code></dt>
  <dd>
    <p>May be any natural number, including zero. <code class="language-plaintext highlighter-rouge">n</code> may also be -1.</p>
  </dd>
</dl>

<div id="context-c"></div>

<dl>
  <dt>Context: <code class="language-plaintext highlighter-rouge">c</code></dt>
  <dd>
    <p>This parameter allows productions to tweak their behavior according to their
surrounding.
YAML supports two groups of <em>contexts</em>, distinguishing between <a href="#block-style-productions">block styles</a>
and <a href="#flow-style-productions">flow styles</a>.</p>
  </dd>
  <dd>
    <p>May be any of the following values:</p>
  </dd>
  <dd>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">BLOCK-IN</code> – inside block context</li>
      <li><code class="language-plaintext highlighter-rouge">BLOCK-OUT</code> – outside block context</li>
      <li><code class="language-plaintext highlighter-rouge">BLOCK-KEY</code> – inside block key context</li>
      <li><code class="language-plaintext highlighter-rouge">FLOW-IN</code> – inside flow context</li>
      <li><code class="language-plaintext highlighter-rouge">FLOW-OUT</code> – outside flow context</li>
      <li><code class="language-plaintext highlighter-rouge">FLOW-KEY</code> – inside flow key context</li>
    </ul>
  </dd>
  <dt>(Block) Chomping: <code class="language-plaintext highlighter-rouge">t</code></dt>
  <dd>
    <p>The <a href="#line-break-characters">line break</a> chomping behavior for flow scalars.
May be any of the following values:</p>
  </dd>
</dl>

<ul>
  <li><code class="language-plaintext highlighter-rouge">STRIP</code> – remove all trailing newlines</li>
  <li><code class="language-plaintext highlighter-rouge">CLIP</code> – remove all trailing newlines except the first</li>
  <li><code class="language-plaintext highlighter-rouge">KEEP</code> – retain all trailing newlines</li>
</ul>

<div id="a-1-2-production-naming-conventions"></div>
<h3 id="a12-production-naming-conventions">A.1.2. Production Naming Conventions</h3>

<p>To make it easier to follow production combinations, production names use a
prefix-style naming convention.
Each production is given a prefix based on the type of characters it begins and
ends with.</p>

<dl>
  <dt><code class="language-plaintext highlighter-rouge">e-</code></dt>
  <dd>
    <p>A production matching no characters.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">c-</code></dt>
  <dd>
    <p>A production starting and ending with a special character.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">b-</code></dt>
  <dd>
    <p>A production matching a single <a href="#line-break-characters">line break</a>.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">nb-</code></dt>
  <dd>
    <p>A production starting and ending with a non-<a href="#line-break-characters">break</a> character.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">s-</code></dt>
  <dd>
    <p>A production starting and ending with a <a href="#white-space-characters">white space</a> character.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">ns-</code></dt>
  <dd>
    <p>A production starting and ending with a non-<a href="#white-space-characters">space</a> character.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">l-</code></dt>
  <dd>
    <p>A production matching complete line(s).</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">X-Y-</code></dt>
  <dd>
    <p>A production starting with an <code class="language-plaintext highlighter-rouge">X-</code> character and ending with a <code class="language-plaintext highlighter-rouge">Y-</code> character,
where <code class="language-plaintext highlighter-rouge">X-</code> and <code class="language-plaintext highlighter-rouge">Y-</code> are any of the above prefixes.</p>
  </dd>
  <dt><code class="language-plaintext highlighter-rouge">X+</code>, <code class="language-plaintext highlighter-rouge">X-Y+</code></dt>
  <dd>
    <p>A production as above, with the additional property that the matched content
<a href="#indentation-spaces">indentation</a> level is greater than the specified <code class="language-plaintext highlighter-rouge">n</code> parameter.</p>
  </dd>
</dl>

<div id="a-2-document-stream-productions"></div>
<h2 id="a2-document-stream-productions">A.2. Document Stream Productions</h2>

<p>The YAML 1.3 syntax productions are presented here in a top down fashion.</p>

<div id="a-2-1-streams"></div>
<h3 id="a21-streams">A.2.1. Streams</h3>

<p>The starting production (<code class="language-plaintext highlighter-rouge">yaml-stream</code>) matches an entire YAML character
stream.</p>

<div id="rule-yaml-stream"></div>
<pre class="rule">[1]
yaml-stream ::=
  <a href="#rule-document-prefix">document-prefix</a>*
  <a href="#rule-any-document">any-document</a>?
  (
      (
        <a href="#rule-document-suffix">document-suffix</a>+
        <a href="#rule-document-prefix">document-prefix</a>*
        <a href="#rule-any-document">any-document</a>?
      )
    | <a href="#rule-byte-order-mark">byte-order-mark</a>
    | <a href="#rule-blanks-and-maybe-comment-and-end-of-line">blanks-and-maybe-comment-and-end-of-line</a>
    | <a href="#rule-explicit-document">explicit-document</a>
  )*
</pre>

<div id="rule-document-prefix"></div>
<pre class="rule">[2]
document-prefix ::=
  <a href="#rule-byte-order-mark">byte-order-mark</a>?
  <a href="#rule-blanks-and-maybe-comment-and-end-of-line">blanks-and-maybe-comment-and-end-of-line</a>*
</pre>

<div id="rule-document-suffix"></div>
<pre class="rule">[3]
document-suffix ::=
  <a href="#rule-document-end-indicator">document-end-indicator</a>
  <a href="#rule-comment-lines">comment-lines</a>
</pre>

<div id="rule-document-start-indicator"></div>
<pre class="rule">[4]
document-start-indicator ::=
  "---"
</pre>

<div id="rule-document-end-indicator"></div>
<pre class="rule">[5]
document-end-indicator ::=
  "..."                             # Not followed by <a href="#rule-non-ws">non-ws</a> char
</pre>

<div id="a-2-2-documents"></div>
<h3 id="a22-documents">A.2.2. Documents</h3>

<div id="rule-any-document"></div>
<pre class="rule">[6]
any-document ::=
    <a href="#rule-directives-and-document">directives-and-document</a>
  | <a href="#rule-start-indicator-and-document">start-indicator-and-document</a>
  | <a href="#rule-bare-document">bare-document</a>
</pre>

<div id="rule-directives-and-document"></div>
<pre class="rule">[7]
directives-and-document ::=
  <a href="#rule-directive-line">directive-line</a>+
  <a href="#rule-start-indicator-and-document">start-indicator-and-document</a>
</pre>

<div id="rule-start-indicator-and-document"></div>
<pre class="rule">[8]
start-indicator-and-document ::=
  <a href="#rule-document-start-indicator">document-start-indicator</a>
  (
      <a href="#rule-bare-document">bare-document</a>
    | (
        <a href="#rule-empty-node">empty-node</a>
        <a href="#rule-comment-lines">comment-lines</a>
      )
  )
</pre>

<div id="rule-bare-document"></div>
<pre class="rule">[9]
bare-document ::=
  <a href="#rule-block-node">block-node</a>(-1,BLOCK-IN)
  /* Excluding <a href="#rule-forbidden-content">forbidden-content</a> */
</pre>

<div id="rule-directive-line"></div>
<pre class="rule">[10]
directive-line ::=
  '%'
  (
      <a href="#rule-yaml-directive-line">yaml-directive-line</a>
    | <a href="#rule-tag-directive-line">tag-directive-line</a>
    | <a href="#rule-reserved-directive-line">reserved-directive-line</a>
  )
  <a href="#rule-comment-lines">comment-lines</a>
</pre>

<div id="rule-forbidden-content"></div>
<pre class="rule">[11]
forbidden-content ::=
  &lt;start-of-line&gt;
  (
      <a href="#rule-document-start-indicator">document-start-indicator</a>
    | <a href="#rule-document-end-indicator">document-end-indicator</a>
  )
  (
      <a href="#rule-line-break-character">line-break-character</a>
    | <a href="#rule-blank-character">blank-character</a>
    | &lt;end-of-input&gt;
  )
</pre>

<div id="a-2-2-1-block-nodes"></div>
<h4 id="a221-block-nodes">A.2.2.1. Block Nodes</h4>

<div id="rule-block-node"></div>
<pre class="rule">[12]
block-node(n,c) ::=
    <a href="#rule-block-node-in-a-block-node">block-node-in-a-block-node</a>(n,c)
  | <a href="#rule-flow-node-in-a-block-node">flow-node-in-a-block-node</a>(n)
</pre>

<p>XXX The following two should be moved into above</p>

<div id="rule-block-node-in-a-block-node"></div>
<pre class="rule">[13]
block-node-in-a-block-node(n,c) ::=
    <a href="#rule-block-scalar">block-scalar</a>(n,c)
  | <a href="#rule-block-collection">block-collection</a>(n,c)
</pre>

<div id="rule-flow-node-in-a-block-node"></div>
<pre class="rule">[14]
flow-node-in-a-block-node(n) ::=
  <a href="#rule-separation-characters">separation-characters</a>(n+1,FLOW-OUT)
  <a href="#rule-flow-node">flow-node</a>(n+1,FLOW-OUT)
  <a href="#rule-comment-lines">comment-lines</a>
</pre>

<div id="rule-block-collection"></div>
<pre class="rule">[15]
block-collection(n,c) ::=
  (
    <a href="#rule-separation-characters">separation-characters</a>(n+1,c)
    <a href="#rule-node-properties">node-properties</a>(n+1,c)
  )?
  <a href="#rule-comment-lines">comment-lines</a>
  (
      <a href="#rule-block-sequence-context">block-sequence-context</a>(n,c)
    | <a href="#rule-block-mapping">block-mapping</a>(n)
  )
</pre>

<div id="rule-block-sequence-context"></div>
<pre class="rule">[16]
block-sequence-context(n,BLOCK-OUT) ::= <a href="#rule-block-sequence">block-sequence</a>(n-1)
block-sequence-context(n,BLOCK-IN)  ::= <a href="#rule-block-sequence">block-sequence</a>(n)
</pre>

<div id="rule-block-scalar"></div>
<pre class="rule">[17]
block-scalar(n,c) ::=
  <a href="#rule-separation-characters">separation-characters</a>(n+1,c)
  (
    <a href="#rule-node-properties">node-properties</a>(n+1,c)
    <a href="#rule-separation-characters">separation-characters</a>(n+1,c)
  )?
  (
      <a href="#rule-block-literal-scalar">block-literal-scalar</a>(n)
    | <a href="#rule-block-folded-scalar">block-folded-scalar</a>(n)
  )
</pre>

<div id="a-2-2-2-block-mappings"></div>
<h4 id="a222-block-mappings">A.2.2.2. Block Mappings</h4>

<div id="rule-block-mapping"></div>
<pre class="rule">[18]
block-mapping(n) ::=
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n+1+m)
    <a href="#rule-block-mapping-entry">block-mapping-entry</a>(n+1+m)
  )+
</pre>

<div id="rule-block-mapping-entry"></div>
<pre class="rule">[19]
block-mapping-entry(n) ::=
    <a href="#rule-block-mapping-explicit-entry">block-mapping-explicit-entry</a>(n)
  | <a href="#rule-block-mapping-implicit-entry">block-mapping-implicit-entry</a>(n)
</pre>

<div id="rule-block-mapping-explicit-entry"></div>
<pre class="rule">[20]
block-mapping-explicit-entry(n) ::=
  <a href="#rule-block-mapping-explicit-key">block-mapping-explicit-key</a>(n)
  (
      <a href="#rule-block-mapping-explicit-value">block-mapping-explicit-value</a>(n)
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>

<div id="rule-block-mapping-explicit-key"></div>
<pre class="rule">[21]
block-mapping-explicit-key(n) ::=
  '?'                               # Not followed by <a href="#rule-non-ws">non-ws</a> char
  <a href="#rule-block-indented-node">block-indented-node</a>(n,BLOCK-OUT)
</pre>

<div id="rule-block-mapping-explicit-value"></div>
<pre class="rule">[22]
block-mapping-explicit-value(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  ':'                               # Not followed by <a href="#rule-non-ws">non-ws</a> char
  <a href="#rule-block-indented-node">block-indented-node</a>(n,BLOCK-OUT)
</pre>

<div id="rule-block-mapping-implicit-entry"></div>
<pre class="rule">[23]
block-mapping-implicit-entry(n) ::=
  (
      <a href="#rule-block-mapping-implicit-key">block-mapping-implicit-key</a>
    | <a href="#rule-empty-node">empty-node</a>
  )
  <a href="#rule-block-mapping-implicit-value">block-mapping-implicit-value</a>(n)
</pre>

<div id="rule-block-mapping-implicit-key"></div>
<pre class="rule">[24]
block-mapping-implicit-key ::=
    <a href="#rule-implicit-json-key">implicit-json-key</a>(BLOCK-KEY)
  | <a href="#rule-implicit-yaml-key">implicit-yaml-key</a>(BLOCK-KEY)
</pre>

<div id="rule-block-mapping-implicit-value"></div>
<pre class="rule">[25]
block-mapping-implicit-value(n) ::=
  ':'                               # Not followed by <a href="#rule-non-ws">non-ws</a> char
  (
      <a href="#rule-block-node">block-node</a>(n,BLOCK-OUT)
    | (
        <a href="#rule-empty-node">empty-node</a>
        <a href="#rule-comment-lines">comment-lines</a>
      )
  )
</pre>

<div id="rule-compact-mapping"></div>
<pre class="rule">[26]
compact-mapping(n) ::=
  <a href="#rule-block-mapping-entry">block-mapping-entry</a>(n)
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
    <a href="#rule-block-mapping-entry">block-mapping-entry</a>(n)
  )*
</pre>

<div id="a-2-2-3-block-sequences"></div>
<h4 id="a223-block-sequences">A.2.2.3. Block Sequences</h4>

<div id="rule-block-sequence"></div>
<pre class="rule">[27]
block-sequence(n) ::=
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n+1+m)
    <a href="#rule-block-sequence-entry">block-sequence-entry</a>(n+1+m)
  )+
</pre>

<div id="rule-block-sequence-entry"></div>
<pre class="rule">[28]
block-sequence-entry(n) ::=
  '-'
  [ lookahead ≠ <a href="#rule-non-space-character">non-space-character</a> ]
  <a href="#rule-block-indented-node">block-indented-node</a>(n,BLOCK-IN)
</pre>

<div id="rule-block-indented-node"></div>
<pre class="rule">[29]
block-indented-node(n,c) ::=
    (
      <a href="#rule-indentation-spaces">indentation-spaces</a>(m)
      (
          <a href="#rule-compact-sequence">compact-sequence</a>(n+1+m)
        | <a href="#rule-compact-mapping">compact-mapping</a>(n+1+m)
      )
    )
  | <a href="#rule-block-node">block-node</a>(n,c)
  | (
      <a href="#rule-empty-node">empty-node</a>
      <a href="#rule-comment-lines">comment-lines</a>
    )
</pre>

<div id="rule-compact-sequence"></div>
<pre class="rule">[30]
compact-sequence(n) ::=
  <a href="#rule-block-sequence-entry">block-sequence-entry</a>(n)
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
    <a href="#rule-block-sequence-entry">block-sequence-entry</a>(n)
  )*
</pre>

<div id="a-2-3-block-scalar-styles"></div>
<h3 id="a23-block-scalar-styles">A.2.3. Block Scalar Styles</h3>

<p>See <a href="#production-parameters">Production Parameters</a> for the definition of the <code class="language-plaintext highlighter-rouge">t</code> variable.</p>

<div id="a-2-3-1-literal-style"></div>
<h4 id="a231-literal-style">A.2.3.1. Literal Style</h4>

<div id="rule-block-literal-scalar"></div>
<pre class="rule">[31]
block-literal-scalar(n) ::=
  '|'
  <a href="#rule-block-scalar-indicators">block-scalar-indicators</a>(t)
  <a href="#rule-literal-scalar-content">literal-scalar-content</a>(n+m,t)
</pre>

<div id="rule-literal-scalar-content"></div>
<pre class="rule">[32]
literal-scalar-content(n,t) ::=
  (
    <a href="#rule-literal-scalar-line-content">literal-scalar-line-content</a>(n)
    <a href="#rule-literal-scalar-next-line">literal-scalar-next-line</a>(n)*
    <a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last</a>(t)
  )?
  <a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty</a>(n,t)
</pre>

<div id="rule-literal-scalar-line-content"></div>
<pre class="rule">[33]
literal-scalar-line-content(n) ::=
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-non-break-character">non-break-character</a>+
</pre>

<div id="rule-literal-scalar-next-line"></div>
<pre class="rule">[34]
literal-scalar-next-line(n) ::=
  <a href="#rule-break-as-line-feed">break-as-line-feed</a>
  <a href="#rule-literal-scalar-line-content">literal-scalar-line-content</a>(n)
</pre>

<div id="a-2-3-2-folded-style"></div>
<h4 id="a232-folded-style">A.2.3.2. Folded Style</h4>

<div id="rule-block-folded-scalar"></div>
<pre class="rule">[35]
block-folded-scalar(n) ::=
  '&gt;'
  <a href="#rule-block-scalar-indicators">block-scalar-indicators</a>(t)
  <a href="#rule-folded-scalar-content">folded-scalar-content</a>(n+m,t)
</pre>

<div id="rule-folded-scalar-content"></div>
<pre class="rule">[36]
folded-scalar-content(n,t) ::=
  (
    <a href="#rule-folded-scalar-lines-different-indentation">folded-scalar-lines-different-indentation</a>(n)
    <a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last</a>(t)
  )?
  <a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty</a>(n,t)
</pre>

<div id="rule-folded-scalar-lines-different-indentation"></div>
<pre class="rule">[37]
folded-scalar-lines-different-indentation(n) ::=
  <a href="#rule-folded-scalar-lines-same-indentation">folded-scalar-lines-same-indentation</a>(n)
  (
    <a href="#rule-break-as-line-feed">break-as-line-feed</a>
    <a href="#rule-folded-scalar-lines-same-indentation">folded-scalar-lines-same-indentation</a>(n)
  )*
</pre>

<div id="rule-folded-scalar-lines-same-indentation"></div>
<pre class="rule">[38]
folded-scalar-lines-same-indentation(n) ::=
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
  (
      <a href="#rule-folded-scalar-lines">folded-scalar-lines</a>(n)
    | <a href="#rule-folded-scalar-spaced-lines">folded-scalar-spaced-lines</a>(n)
  )
</pre>

<div id="rule-folded-scalar-lines"></div>
<pre class="rule">[39]
folded-scalar-lines(n) ::=
  <a href="#rule-folded-scalar-text">folded-scalar-text</a>(n)
  (
    <a href="#rule-folded-whitespace">folded-whitespace</a>(n,BLOCK-IN)
    <a href="#rule-folded-scalar-text">folded-scalar-text</a>(n)
  )*
</pre>

<div id="rule-folded-scalar-spaced-lines"></div>
<pre class="rule">[40]
folded-scalar-spaced-lines(n) ::=
  <a href="#rule-folded-scalar-spaced-text">folded-scalar-spaced-text</a>(n)
  (
    <a href="#rule-line-break-and-empty-lines">line-break-and-empty-lines</a>(n)
    <a href="#rule-folded-scalar-spaced-text">folded-scalar-spaced-text</a>(n)
  )*
</pre>

<div id="rule-folded-scalar-text"></div>
<pre class="rule">[41]
folded-scalar-text(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-non-space-character">non-space-character</a>
  <a href="#rule-non-break-character">non-break-character</a>*
</pre>

<div id="rule-line-break-and-empty-lines"></div>
<pre class="rule">[42]
line-break-and-empty-lines(n) ::=
  <a href="#rule-break-as-line-feed">break-as-line-feed</a>
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
</pre>

<div id="rule-folded-scalar-spaced-text"></div>
<pre class="rule">[43]
folded-scalar-spaced-text(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-blank-character">blank-character</a>
  <a href="#rule-non-break-character">non-break-character</a>*
</pre>

<div id="a-2-3-3-block-scalar-headers"></div>
<h4 id="a233-block-scalar-headers">A.2.3.3. Block Scalar Headers</h4>

<div id="rule-block-scalar-indicators"></div>
<pre class="rule">[44]
block-scalar-indicators(t) ::=
  (
      (
        <a href="#rule-block-scalar-indentation-indicator">block-scalar-indentation-indicator</a>
        <a href="#rule-block-scalar-chomping-indicator">block-scalar-chomping-indicator</a>(t)
      )
    | (
        <a href="#rule-block-scalar-chomping-indicator">block-scalar-chomping-indicator</a>(t)
        <a href="#rule-block-scalar-indentation-indicator">block-scalar-indentation-indicator</a>
      )
  )
  <a href="#rule-maybe-comment-and-end-of-line">maybe-comment-and-end-of-line</a>
</pre>

<div id="rule-block-scalar-indentation-indicator"></div>
<pre class="rule">[45]
block-scalar-indentation-indicator ::=
  <a href="#rule-decimal-digit-1-9">decimal-digit-1-9</a>
</pre>

<div id="rule-block-scalar-chomping-indicator"></div>
<pre class="rule">[46]
block-scalar-chomping-indicator(STRIP) ::= '-'
block-scalar-chomping-indicator(KEEP)  ::= '+'
block-scalar-chomping-indicator(CLIP)  ::= ""
</pre>

<div id="rule-block-scalar-chomp-last"></div>
<pre class="rule">[47]
block-scalar-chomp-last(STRIP) ::= <a href="#rule-break-non-content">break-non-content</a>  | &lt;end-of-input&gt;
block-scalar-chomp-last(CLIP)  ::= <a href="#rule-break-as-line-feed">break-as-line-feed</a> | &lt;end-of-input&gt;
block-scalar-chomp-last(KEEP)  ::= <a href="#rule-break-as-line-feed">break-as-line-feed</a> | &lt;end-of-input&gt;
</pre>

<div id="rule-block-scalar-chomp-empty"></div>
<pre class="rule">[48]
block-scalar-chomp-empty(n,STRIP) ::= <a href="#rule-line-strip-empty">line-strip-empty</a>(n)
block-scalar-chomp-empty(n,CLIP)  ::= <a href="#rule-line-strip-empty">line-strip-empty</a>(n)
block-scalar-chomp-empty(n,KEEP)  ::= <a href="#rule-line-keep-empty">line-keep-empty</a>(n)
</pre>

<div id="rule-line-strip-empty"></div>
<pre class="rule">[49]
line-strip-empty(n) ::=
  (
    <a href="#rule-indentation-spaces-less-or-equal">indentation-spaces-less-or-equal</a>(n)
    <a href="#rule-break-non-content">break-non-content</a>
  )*
  <a href="#rule-line-trail-comments">line-trail-comments</a>(n)?
</pre>

<div id="rule-line-keep-empty"></div>
<pre class="rule">[50]
line-keep-empty(n) ::=
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
  <a href="#rule-line-trail-comments">line-trail-comments</a>(n)?
</pre>

<div id="rule-line-trail-comments"></div>
<pre class="rule">[51]
line-trail-comments(n) ::=
  <a href="#rule-indentation-spaces-less-than">indentation-spaces-less-than</a>(n)
  <a href="#rule-comment-to-end-of-line">comment-to-end-of-line</a>
  <a href="#rule-break-or-end-of-input">break-or-end-of-input</a>
  <a href="#rule-blanks-and-maybe-comment-and-end-of-line">blanks-and-maybe-comment-and-end-of-line</a>*
</pre>

<div id="a-3-flow-style-productions"></div>
<h2 id="a3-flow-style-productions">A.3. Flow Style Productions</h2>

<div id="a-3-1-flow-nodes"></div>
<h3 id="a31-flow-nodes">A.3.1. Flow Nodes</h3>

<div id="rule-flow-node"></div>
<pre class="rule">[52]
flow-node(n,c) ::=
    <a href="#rule-alias-node">alias-node</a>
  | <a href="#rule-flow-content">flow-content</a>(n,c)
  | (
      <a href="#rule-node-properties">node-properties</a>(n,c)
      (
        (
          <a href="#rule-separation-characters">separation-characters</a>(n,c)
          <a href="#rule-flow-content">flow-content</a>(n,c)
        )
        | <a href="#rule-empty-node">empty-node</a>
      )
    )
</pre>

<div id="rule-flow-content"></div>
<pre class="rule">[53]
flow-content(n,c) ::=
    <a href="#rule-flow-yaml-content">flow-yaml-content</a>(n,c)
  | <a href="#rule-flow-json-content">flow-json-content</a>(n,c)
</pre>

<div id="rule-flow-yaml-content"></div>
<pre class="rule">[54]
flow-yaml-content(n,c) ::=
  <a href="#rule-flow-plain-scalar">flow-plain-scalar</a>(n,c)
</pre>

<div id="rule-flow-json-content"></div>
<pre class="rule">[55]
flow-json-content(n,c) ::=
    <a href="#rule-flow-sequence">flow-sequence</a>(n,c)
  | <a href="#rule-flow-mapping">flow-mapping</a>(n,c)
  | <a href="#rule-single-quoted-scalar">single-quoted-scalar</a>(n,c)
  | <a href="#rule-double-quoted-scalar">double-quoted-scalar</a>(n,c)
</pre>

<div id="a-3-1-1-flow-mappings"></div>
<h4 id="a311-flow-mappings">A.3.1.1. Flow Mappings</h4>

<div id="rule-flow-mapping"></div>
<pre class="rule">[56]
flow-mapping(n,c) ::=
  '{'
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  <a href="#rule-flow-mapping-context">flow-mapping-context</a>(n,c)?
  '}'
</pre>

<div id="rule-flow-mapping-entries"></div>
<pre class="rule">[57]
flow-mapping-entries(n,c) ::=
  <a href="#rule-flow-mapping-entry">flow-mapping-entry</a>(n,c)
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  (
    ','
    <a href="#rule-separation-characters">separation-characters</a>(n,c)?
    <a href="#rule-flow-mapping-entries">flow-mapping-entries</a>(n,c)?
  )?
</pre>

<div id="rule-flow-mapping-entry"></div>
<pre class="rule">[58]
flow-mapping-entry(n,c) ::=
    (
      '?'                           # Not followed by <a href="#rule-non-ws">non-ws</a> char
      <a href="#rule-separation-characters">separation-characters</a>(n,c)
      <a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry</a>(n,c)
    )
  | <a href="#rule-flow-mapping-implicit-entry">flow-mapping-implicit-entry</a>(n,c)
</pre>

<div id="rule-flow-mapping-explicit-entry"></div>
<pre class="rule">[59]
flow-mapping-explicit-entry(n,c) ::=
    <a href="#rule-flow-mapping-implicit-entry">flow-mapping-implicit-entry</a>(n,c)
  | (
      <a href="#rule-empty-node">empty-node</a>
      <a href="#rule-empty-node">empty-node</a>
    )
</pre>

<div id="rule-flow-mapping-implicit-entry"></div>
<pre class="rule">[60]
flow-mapping-implicit-entry(n,c) ::=
    <a href="#rule-flow-mapping-yaml-key-entry">flow-mapping-yaml-key-entry</a>(n,c)
  | <a href="#rule-flow-mapping-empty-key-entry">flow-mapping-empty-key-entry</a>(n,c)
  | <a href="#rule-flow-mapping-json-key-entry">flow-mapping-json-key-entry</a>(n,c)
</pre>

<div id="rule-flow-mapping-yaml-key-entry"></div>
<pre class="rule">[61]
flow-mapping-yaml-key-entry(n,c) ::=
  <a href="#rule-flow-yaml-node">flow-yaml-node</a>(n,c)
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)?
        <a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>

<div id="rule-flow-mapping-empty-key-entry"></div>
<pre class="rule">[62]
flow-mapping-empty-key-entry(n,c) ::=
  <a href="#rule-empty-node">empty-node</a>
  <a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value</a>(n,c)
</pre>

<div id="rule-flow-mapping-separate-value"></div>
<pre class="rule">[63]
flow-mapping-separate-value(n,c) ::=
  ':'
  [ lookahead ≠ <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c) ]
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)
        <a href="#rule-flow-node">flow-node</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>

<div id="rule-flow-mapping-json-key-entry"></div>
<pre class="rule">[64]
flow-mapping-json-key-entry(n,c) ::=
  <a href="#rule-flow-json-node">flow-json-node</a>(n,c)
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)?
        <a href="#rule-flow-mapping-adjacent-value">flow-mapping-adjacent-value</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>

<div id="rule-flow-mapping-adjacent-value"></div>
<pre class="rule">[65]
flow-mapping-adjacent-value(n,c) ::=
  ':'
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)?
        <a href="#rule-flow-node">flow-node</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>

<div id="rule-flow-pair"></div>
<pre class="rule">[66]
flow-pair(n,c) ::=
    (
      '?'                           # Not followed by <a href="#rule-non-ws">non-ws</a> char
      <a href="#rule-separation-characters">separation-characters</a>(n,c)
      <a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry</a>(n,c)
    )
  | <a href="#rule-flow-pair-entry">flow-pair-entry</a>(n,c)
</pre>

<div id="rule-flow-pair-entry"></div>
<pre class="rule">[67]
flow-pair-entry(n,c) ::=
    <a href="#rule-flow-pair-yaml-key-entry">flow-pair-yaml-key-entry</a>(n,c)
  | <a href="#rule-flow-mapping-empty-key-entry">flow-mapping-empty-key-entry</a>(n,c)
  | <a href="#rule-flow-pair-json-key-entry">flow-pair-json-key-entry</a>(n,c)
</pre>

<div id="rule-flow-pair-yaml-key-entry"></div>
<pre class="rule">[68]
flow-pair-yaml-key-entry(n,c) ::=
  <a href="#rule-implicit-yaml-key">implicit-yaml-key</a>(FLOW-KEY)
  <a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value</a>(n,c)
</pre>

<div id="rule-flow-pair-json-key-entry"></div>
<pre class="rule">[69]
flow-pair-json-key-entry(n,c) ::=
  <a href="#rule-implicit-json-key">implicit-json-key</a>(FLOW-KEY)
  <a href="#rule-flow-mapping-adjacent-value">flow-mapping-adjacent-value</a>(n,c)
</pre>

<div id="rule-implicit-yaml-key"></div>
<pre class="rule">[70]
implicit-yaml-key(c) ::=
  <a href="#rule-flow-yaml-node">flow-yaml-node</a>(0,c)
  <a href="#rule-separation-blanks">separation-blanks</a>?
  /* At most 1024 characters altogether */
</pre>

<div id="rule-implicit-json-key"></div>
<pre class="rule">[71]
implicit-json-key(c) ::=
  <a href="#rule-flow-json-node">flow-json-node</a>(0,c)
  <a href="#rule-separation-blanks">separation-blanks</a>?
  /* At most 1024 characters altogether */
</pre>

<div id="rule-flow-yaml-node"></div>
<pre class="rule">[72]
flow-yaml-node(n,c) ::=
    <a href="#rule-alias-node">alias-node</a>
  | <a href="#rule-flow-yaml-content">flow-yaml-content</a>(n,c)
  | (
      <a href="#rule-node-properties">node-properties</a>(n,c)
      (
          (
            <a href="#rule-separation-characters">separation-characters</a>(n,c)
            <a href="#rule-flow-yaml-content">flow-yaml-content</a>(n,c)
          )
        | <a href="#rule-empty-node">empty-node</a>
      )
    )
</pre>

<div id="rule-flow-json-node"></div>
<pre class="rule">[73]
flow-json-node(n,c) ::=
  (
    <a href="#rule-node-properties">node-properties</a>(n,c)
    <a href="#rule-separation-characters">separation-characters</a>(n,c)
  )?
  <a href="#rule-flow-json-content">flow-json-content</a>(n,c)
</pre>

<div id="a-3-1-2-flow-sequences"></div>
<h4 id="a312-flow-sequences">A.3.1.2. Flow Sequences</h4>

<div id="rule-flow-sequence"></div>
<pre class="rule">[74]
flow-sequence(n,c) ::=
  '['
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  <a href="#rule-flow-sequence-context">flow-sequence-context</a>(n,c)?
  ']'
</pre>

<div id="rule-flow-sequence-entries"></div>
<pre class="rule">[75]
flow-sequence-entries(n,c) ::=
  <a href="#rule-flow-sequence-entry">flow-sequence-entry</a>(n,c)
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  (
    ','
    <a href="#rule-separation-characters">separation-characters</a>(n,c)?
    <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,c)?
  )?
</pre>

<div id="rule-flow-sequence-entry"></div>
<pre class="rule">[76]
flow-sequence-entry(n,c) ::=
    <a href="#rule-flow-pair">flow-pair</a>(n,c)
  | <a href="#rule-flow-node">flow-node</a>(n,c)
</pre>

<div id="a-3-2-flow-scalar-styles"></div>
<h3 id="a32-flow-scalar-styles">A.3.2. Flow Scalar Styles</h3>

<div id="a-3-2-1-double-quoted-style"></div>
<h4 id="a321-double-quoted-style">A.3.2.1. Double-Quoted Style</h4>

<div id="rule-double-quoted-scalar"></div>
<pre class="rule">[77]
double-quoted-scalar(n,c) ::=
  '"'
  <a href="#rule-double-quoted-text">double-quoted-text</a>(n,c)
  '"'
</pre>

<div id="rule-double-quoted-text"></div>
<pre class="rule">[78]
double-quoted-text(n,BLOCK-KEY) ::= <a href="#rule-double-quoted-one-line">double-quoted-one-line</a>
double-quoted-text(n,FLOW-KEY)  ::= <a href="#rule-double-quoted-one-line">double-quoted-one-line</a>
double-quoted-text(n,FLOW-OUT)  ::= <a href="#rule-double-quoted-multi-line">double-quoted-multi-line</a>(n)
double-quoted-text(n,FLOW-IN)   ::= <a href="#rule-double-quoted-multi-line">double-quoted-multi-line</a>(n)
</pre>

<div id="rule-double-quoted-multi-line"></div>
<pre class="rule">[79]
double-quoted-multi-line(n) ::=
  <a href="#rule-double-quoted-first-line">double-quoted-first-line</a>
  (
      <a href="#rule-double-quoted-next-line">double-quoted-next-line</a>(n)
    | <a href="#rule-blank-character">blank-character</a>*
  )
</pre>

<div id="rule-double-quoted-one-line"></div>
<pre class="rule">[80]
double-quoted-one-line ::=
  <a href="#rule-non-break-double-quoted-character">non-break-double-quoted-character</a>*
</pre>

<div id="rule-double-quoted-first-line"></div>
<pre class="rule">[81]
double-quoted-first-line ::=
  (
    <a href="#rule-blank-character">blank-character</a>*
    <a href="#rule-non-space-double-quoted-character">non-space-double-quoted-character</a>
  )*
</pre>

<div id="rule-double-quoted-next-line"></div>
<pre class="rule">[82]
double-quoted-next-line(n) ::=
  (
      <a href="#rule-double-quoted-line-continuation">double-quoted-line-continuation</a>(n)
    | <a href="#rule-flow-folded-whitespace">flow-folded-whitespace</a>(n)
  )
  (
    <a href="#rule-non-space-double-quoted-character">non-space-double-quoted-character</a>
    <a href="#rule-double-quoted-first-line">double-quoted-first-line</a>
    (
        <a href="#rule-double-quoted-next-line">double-quoted-next-line</a>(n)
      | <a href="#rule-blank-character">blank-character</a>*
    )
  )?
</pre>

<div id="rule-non-space-double-quoted-character"></div>
<pre class="rule">[83]
non-space-double-quoted-character ::=
    <a href="#rule-non-break-double-quoted-character">non-break-double-quoted-character</a>
  - <a href="#rule-blank-character">blank-character</a>
</pre>

<div id="rule-non-break-double-quoted-character"></div>
<pre class="rule">[84]
non-break-double-quoted-character ::=
    <a href="#rule-double-quoted-scalar-escape-character">double-quoted-scalar-escape-character</a>
  | (
        <a href="#rule-json-character">json-character</a>
      - '\'
      - '"'
    )
</pre>

<div id="rule-double-quoted-line-continuation"></div>
<pre class="rule">[85]
double-quoted-line-continuation(n) ::=
  <a href="#rule-blank-character">blank-character</a>*
  '\'
  <a href="#rule-break-non-content">break-non-content</a>
  <a href="#rule-empty-line">empty-line</a>(n,FLOW-IN)*
  <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
</pre>

<div id="a-3-2-2-flow-collection-context"></div>
<h4 id="a322-flow-collection-context">A.3.2.2. Flow Collection Context</h4>

<div id="rule-flow-mapping-context"></div>
<pre class="rule">[86]
flow-mapping-context(n,FLOW-OUT)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-mapping-context(n,FLOW-IN)   ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-mapping-context(n,BLOCK-KEY) ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
flow-mapping-context(n,FLOW-KEY)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
</pre>

<div id="rule-flow-sequence-context"></div>
<pre class="rule">[87]
flow-sequence-context(n,FLOW-OUT)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-sequence-context(n,FLOW-IN)   ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-sequence-context(n,BLOCK-KEY) ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
flow-sequence-context(n,FLOW-KEY)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
</pre>

<div id="a-3-2-3-single-quoted-style"></div>
<h4 id="a323-single-quoted-style">A.3.2.3. Single-Quoted Style</h4>

<div id="rule-single-quoted-scalar"></div>
<pre class="rule">[88]
single-quoted-scalar(n,c) ::=
  "'"
  <a href="#rule-single-quoted-text">single-quoted-text</a>(n,c)
  "'"
</pre>

<div id="rule-single-quoted-text"></div>
<pre class="rule">[89]
single-quoted-text(BLOCK-KEY) ::= <a href="#rule-single-quoted-one-line">single-quoted-one-line</a>
single-quoted-text(FLOW-KEY)  ::= <a href="#rule-single-quoted-one-line">single-quoted-one-line</a>
single-quoted-text(FLOW-OUT)  ::= <a href="#rule-single-quoted-multi-line">single-quoted-multi-line</a>(n)
single-quoted-text(FLOW-IN)   ::= <a href="#rule-single-quoted-multi-line">single-quoted-multi-line</a>(n)
</pre>

<div id="rule-single-quoted-multi-line"></div>
<pre class="rule">[90]
single-quoted-multi-line(n) ::=
  <a href="#rule-single-quoted-first-line">single-quoted-first-line</a>
  (
      <a href="#rule-single-quoted-next-line">single-quoted-next-line</a>(n)
    | <a href="#rule-blank-character">blank-character</a>*
  )
</pre>

<div id="rule-single-quoted-one-line"></div>
<pre class="rule">[91]
single-quoted-one-line ::=
  <a href="#rule-non-break-single-quoted-character">non-break-single-quoted-character</a>*
</pre>

<div id="rule-single-quoted-first-line"></div>
<pre class="rule">[92]
single-quoted-first-line ::=
  (
    <a href="#rule-blank-character">blank-character</a>*
    <a href="#rule-non-space-single-quoted-character">non-space-single-quoted-character</a>
  )*
</pre>

<div id="rule-single-quoted-next-line"></div>
<pre class="rule">[93]
single-quoted-next-line(n) ::=
  <a href="#rule-flow-folded-whitespace">flow-folded-whitespace</a>(n)
  (
    <a href="#rule-non-space-single-quoted-character">non-space-single-quoted-character</a>
    <a href="#rule-single-quoted-first-line">single-quoted-first-line</a>
    (
        <a href="#rule-single-quoted-next-line">single-quoted-next-line</a>(n)
      | <a href="#rule-blank-character">blank-character</a>*
    )
  )?
</pre>

<div id="rule-non-space-single-quoted-character"></div>
<pre class="rule">[94]
non-space-single-quoted-character ::=
    <a href="#rule-non-break-single-quoted-character">non-break-single-quoted-character</a>
  - <a href="#rule-blank-character">blank-character</a>
</pre>

<div id="rule-non-break-single-quoted-character"></div>
<pre class="rule">[95]
non-break-single-quoted-character ::=
    <a href="#rule-single-quoted-escaped-single-quote">single-quoted-escaped-single-quote</a>
  | (
        <a href="#rule-json-character">json-character</a>
      - "'"
    )
</pre>

<div id="rule-single-quoted-escaped-single-quote"></div>
<pre class="rule">[96]
single-quoted-escaped-single-quote ::=
  "''"
</pre>

<div id="a-3-2-4-plain-style"></div>
<h4 id="a324-plain-style">A.3.2.4. Plain Style</h4>

<div id="rule-flow-plain-scalar"></div>
<pre class="rule">[97]
flow-plain-scalar(n,FLOW-OUT)  ::= <a href="#rule-plain-scalar-multi-line">plain-scalar-multi-line</a>(n,FLOW-OUT)
flow-plain-scalar(n,FLOW-IN)   ::= <a href="#rule-plain-scalar-multi-line">plain-scalar-multi-line</a>(n,FLOW-IN)
flow-plain-scalar(n,BLOCK-KEY) ::= <a href="#rule-plain-scalar-single-line">plain-scalar-single-line</a>(BLOCK-KEY)
flow-plain-scalar(n,FLOW-KEY)  ::= <a href="#rule-plain-scalar-single-line">plain-scalar-single-line</a>(FLOW-KEY)
</pre>

<div id="rule-plain-scalar-multi-line"></div>
<pre class="rule">[98]
plain-scalar-multi-line(n,c) ::=
  <a href="#rule-plain-scalar-single-line">plain-scalar-single-line</a>(c)
  <a href="#rule-plain-scalar-next-line">plain-scalar-next-line</a>(n,c)*
</pre>

<div id="rule-plain-scalar-single-line"></div>
<pre class="rule">[99]
plain-scalar-single-line(c) ::=
  <a href="#rule-plain-scalar-first-character">plain-scalar-first-character</a>(c)
  <a href="#rule-plain-scalar-line-characters">plain-scalar-line-characters</a>(c)
</pre>

<div id="rule-plain-scalar-next-line"></div>
<pre class="rule">[100]
plain-scalar-next-line(n,c) ::=
  <a href="#rule-flow-folded-whitespace">flow-folded-whitespace</a>(n)
  <a href="#rule-plain-scalar-characters">plain-scalar-characters</a>(c)
  <a href="#rule-plain-scalar-line-characters">plain-scalar-line-characters</a>(c)
</pre>

<div id="rule-plain-scalar-line-characters"></div>
<pre class="rule">[101]
plain-scalar-line-characters(c) ::=
  (
    <a href="#rule-blank-character">blank-character</a>*
    <a href="#rule-plain-scalar-characters">plain-scalar-characters</a>(c)
  )*
</pre>

<div id="rule-plain-scalar-first-character"></div>
<pre class="rule">[102]
plain-scalar-first-character(c) ::=
    (
        <a href="#rule-non-space-character">non-space-character</a>
      - '?'                         # Mapping key
      - ':'                         # Mapping value
      - '-'                         # Sequence entry
      - '{'                         # Mapping start
      - '}'                         # Mapping end
      - '['                         # Sequence start
      - ']'                         # Sequence end
      - ','                         # Entry separator
      - '#'                         # Comment
      - '&amp;'                         # Anchor
      - '*'                         # Alias
      - '!'                         # Tag
      - '|'                         # Literal scalar
      - '&gt;'                         # Folded scalar
      - "'"                         # Single quote
      - '"'                         # Double quote
      - '%'                         # Directive
      - '@'                         # Reserved
      - '`'                         # Reserved
    )
  | (
      ( '?' | ':' | '-' )
      [ lookahead = <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c) ]
    )
</pre>

<div id="rule-plain-scalar-characters"></div>
<pre class="rule">[103]
plain-scalar-characters(c) ::=
    (
        <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c)
      - ':'
      - '#'
    )
  | (
      [ lookbehind = <a href="#rule-non-space-character">non-space-character</a> ]
      '#'
    )
  | (
      ':'
      [ lookahead = <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c) ]
    )
</pre>

<div id="rule-non-space-plain-scalar-character"></div>
<pre class="rule">[104]
non-space-plain-scalar-character(FLOW-OUT)  ::= <a href="#rule-block-plain-scalar-character">block-plain-scalar-character</a>
non-space-plain-scalar-character(FLOW-IN)   ::= <a href="#rule-flow-plain-scalar-character">flow-plain-scalar-character</a>
non-space-plain-scalar-character(BLOCK-KEY) ::= <a href="#rule-block-plain-scalar-character">block-plain-scalar-character</a>
non-space-plain-scalar-character(FLOW-KEY)  ::= <a href="#rule-flow-plain-scalar-character">flow-plain-scalar-character</a>
</pre>

<div id="rule-block-plain-scalar-character"></div>
<pre class="rule">[105]
block-plain-scalar-character ::=
  <a href="#rule-non-space-character">non-space-character</a>
</pre>

<div id="rule-flow-plain-scalar-character"></div>
<pre class="rule">[106]
flow-plain-scalar-character ::=
    <a href="#rule-non-space-characters">non-space-characters</a>
  - <a href="#rule-flow-collection-indicators">flow-collection-indicators</a>
</pre>

<div id="a-3-3-other-nodes"></div>
<h3 id="a33-other-nodes">A.3.3. Other Nodes</h3>

<div id="rule-alias-node"></div>
<pre class="rule">[107]
alias-node ::=
  '*'
  <a href="#rule-anchor-name">anchor-name</a>
</pre>

<div id="rule-empty-node"></div>
<pre class="rule">[108]
empty-node ::=
  ""
</pre>

<div id="a-4-structural-productions"></div>
<h2 id="a4-structural-productions">A.4. Structural Productions</h2>

<div id="a-4-1-indentation-spaces"></div>
<h3 id="a41-indentation-spaces">A.4.1. Indentation Spaces</h3>

<div id="rule-indentation-spaces"></div>
<pre class="rule">[109]
indentation-spaces(0) ::=
  ""

# When n≥0
indentation-spaces(n+1) ::=
  <a href="#rule-space-character">space-character</a>
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
</pre>

<div id="rule-indentation-spaces-less-than"></div>
<pre class="rule">[110]
indentation-spaces-less-than(1) ::=
  ""

# When n≥1
indentation-spaces-less-than(n+1) ::=
    (
      <a href="#rule-space-character">space-character</a>
      <a href="#rule-indentation-spaces-less-than">indentation-spaces-less-than</a>(n)
    )
  | ""
</pre>

<div id="rule-indentation-spaces-less-or-equal"></div>
<pre class="rule">[111]
indentation-spaces-less-or-equal(0) ::=
  ""

# When n≥0
indentation-spaces-less-or-equal(n+1) ::=
    (
      <a href="#rule-space-character">space-character</a>
      <a href="#rule-indentation-spaces-less-or-equal">indentation-spaces-less-or-equal</a>(n)
    )
  | ""
</pre>

<div id="a-4-2-line-prefixes"></div>
<h3 id="a42-line-prefixes">A.4.2. Line Prefixes</h3>

<div id="rule-line-prefix-spaces"></div>
<pre class="rule">[112]
line-prefix-spaces(n,BLOCK-OUT) ::= <a href="#rule-indentation-spaces-exact">indentation-spaces-exact</a>(n)
line-prefix-spaces(n,BLOCK-IN)  ::= <a href="#rule-indentation-spaces-exact">indentation-spaces-exact</a>(n)
line-prefix-spaces(n,FLOW-OUT)  ::= <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
line-prefix-spaces(n,FLOW-IN)   ::= <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
</pre>

<div id="rule-indentation-spaces-exact"></div>
<pre class="rule">[113]
indentation-spaces-exact(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
</pre>

<div id="rule-indentation-spaces-plus-maybe-more"></div>
<pre class="rule">[114]
indentation-spaces-plus-maybe-more(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-separation-blanks">separation-blanks</a>?
</pre>

<div id="a-4-3-line-folding"></div>
<h3 id="a43-line-folding">A.4.3. Line Folding</h3>

<div id="rule-flow-folded-whitespace"></div>
<pre class="rule">[115]
flow-folded-whitespace(n) ::=
  <a href="#rule-separation-blanks">separation-blanks</a>?
  <a href="#rule-folded-whitespace">folded-whitespace</a>(n,FLOW-IN)
  <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
</pre>

<div id="rule-folded-whitespace"></div>
<pre class="rule">[116]
folded-whitespace(n,c) ::=
    (
      <a href="#rule-break-non-content">break-non-content</a>
      <a href="#rule-empty-line">empty-line</a>(n,c)+
    )
  | <a href="#rule-break-as-space">break-as-space</a>
</pre>

<div id="a-4-4-comments"></div>
<h3 id="a44-comments">A.4.4. Comments</h3>

<div id="rule-comment-lines"></div>
<pre class="rule">[117]
comment-lines ::=
  (
      <a href="#rule-maybe-comment-and-end-of-line">maybe-comment-and-end-of-line</a>
    | &lt;start-of-line&gt;
  )
  <a href="#rule-blanks-and-maybe-comment-and-end-of-line">blanks-and-maybe-comment-and-end-of-line</a>*
</pre>

<div id="rule-blanks-and-maybe-comment-and-end-of-line"></div>
<pre class="rule">[118]
blanks-and-maybe-comment-and-end-of-line ::=
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-comment-to-end-of-line">comment-to-end-of-line</a>?
  <a href="#rule-break-or-end-of-input">break-or-end-of-input</a>
</pre>

<div id="rule-maybe-comment-and-end-of-line"></div>
<pre class="rule">[119]
maybe-comment-and-end-of-line ::=
  (
    <a href="#rule-separation-blanks">separation-blanks</a>
    <a href="#rule-comment-to-end-of-line">comment-to-end-of-line</a>?
  )?
  <a href="#rule-break-or-end-of-input">break-or-end-of-input</a>
</pre>

<div id="rule-comment-to-end-of-line"></div>
<pre class="rule">[120]
comment-to-end-of-line ::=
  '#'
  <a href="#rule-non-break-character">non-break-character</a>*
</pre>

<div id="rule-break-or-end-of-input"></div>
<pre class="rule">[121]
break-or-end-of-input ::=
    <a href="#rule-break-non-content">break-non-content</a>
  | &lt;end-of-input&gt;
</pre>

<div id="a-4-5-empty-lines"></div>
<h3 id="a45-empty-lines">A.4.5. Empty Lines</h3>

<div id="rule-empty-line"></div>
<pre class="rule">[122]
empty-line(n,c) ::=
  (
      <a href="#rule-line-prefix-spaces">line-prefix-spaces</a>(n,c)
    | <a href="#rule-indentation-spaces-less-than">indentation-spaces-less-than</a>(n)
  )
  <a href="#rule-break-as-line-feed">break-as-line-feed</a>
</pre>

<div id="a-4-6-separation-lines-and-blanks"></div>
<h3 id="a46-separation-lines-and-blanks">A.4.6. Separation Lines and Blanks</h3>

<div id="rule-separation-characters"></div>
<pre class="rule">[123]
separation-characters(n,BLOCK-OUT) ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,BLOCK-IN)  ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,FLOW-OUT)  ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,FLOW-IN)   ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,BLOCK-KEY) ::= <a href="#rule-separation-blanks">separation-blanks</a>
separation-characters(n,FLOW-KEY)  ::= <a href="#rule-separation-blanks">separation-blanks</a>
</pre>

<div id="rule-separation-lines"></div>
<pre class="rule">[124]
separation-lines(n) ::=
    (
      <a href="#rule-comment-lines">comment-lines</a>
      <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
    )
  | <a href="#rule-separation-blanks">separation-blanks</a>
</pre>

<div id="rule-separation-blanks"></div>
<pre class="rule">[125]
separation-blanks ::=
    <a href="#rule-blank-character">blank-character</a>+
  | &lt;start-of-line&gt;
</pre>

<div id="a-4-7-directives"></div>
<h3 id="a47-directives">A.4.7. Directives</h3>

<p>A %YAML directive line.</p>

<div id="rule-yaml-directive-line"></div>
<pre class="rule">[126]
yaml-directive-line ::=
  "YAML"
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-yaml-version-number">yaml-version-number</a>
</pre>

<div id="rule-yaml-version-number"></div>
<pre class="rule">[127]
yaml-version-number ::=
  <a href="#rule-decimal-digit">decimal-digit</a>+
  '.'
  <a href="#rule-decimal-digit">decimal-digit</a>+
</pre>

<div id="rule-reserved-directive-line"></div>
<pre class="rule">[128]
reserved-directive-line ::=
  <a href="#rule-directive-name">directive-name</a>
  (
    <a href="#rule-separation-blanks">separation-blanks</a>
    <a href="#rule-directive-parameter">directive-parameter</a>
  )*
</pre>

<div id="rule-directive-name"></div>
<pre class="rule">[129]
directive-name ::=
  <a href="#rule-non-space-character">non-space-character</a>+
</pre>

<div id="rule-directive-parameter"></div>
<pre class="rule">[130]
directive-parameter ::=
  <a href="#rule-non-space-character">non-space-character</a>+
</pre>

<div id="rule-tag-directive-line"></div>
<pre class="rule">[131]
tag-directive-line ::=
  "TAG"
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-tag-handle">tag-handle</a>
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-tag-prefix">tag-prefix</a>
</pre>

<div id="rule-tag-handle"></div>
<pre class="rule">[132]
tag-handle ::=
    <a href="#rule-named-tag-handle">named-tag-handle</a>
  | <a href="#rule-secondary-tag-handle">secondary-tag-handle</a>
  | <a href="#rule-primary-tag-handle">primary-tag-handle</a>
</pre>

<div id="rule-named-tag-handle"></div>
<pre class="rule">[133]
named-tag-handle ::=
  '!'
  <a href="#rule-word-character">word-character</a>+
  '!'
</pre>

<div id="rule-secondary-tag-handle"></div>
<pre class="rule">[134]
secondary-tag-handle ::=
  "!!"
</pre>

<div id="rule-primary-tag-handle"></div>
<pre class="rule">[135]
primary-tag-handle ::=
  '!'
</pre>

<div id="rule-tag-prefix"></div>
<pre class="rule">[136]
tag-prefix ::=
    <a href="#rule-local-tag-prefix">local-tag-prefix</a>
  | <a href="#rule-global-tag-prefix">global-tag-prefix</a>
</pre>

<div id="rule-local-tag-prefix"></div>
<pre class="rule">[137]
local-tag-prefix ::=
  '!'
  <a href="#rule-uri-character">uri-character</a>*
</pre>

<div id="rule-global-tag-prefix"></div>
<pre class="rule">[138]
global-tag-prefix ::=
  <a href="#rule-tag-character">tag-character</a>
  <a href="#rule-uri-character">uri-character</a>*
</pre>

<div id="a-4-8-node-properties"></div>
<h3 id="a48-node-properties">A.4.8. Node Properties</h3>

<div id="rule-node-properties"></div>
<pre class="rule">[139]
node-properties(n,c) ::=
    (
      <a href="#rule-anchor-property">anchor-property</a>
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)
        <a href="#rule-tag-property">tag-property</a>
      )?
    )
  | (
      <a href="#rule-tag-property">tag-property</a>
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)
        <a href="#rule-anchor-property">anchor-property</a>
      )?
    )
</pre>

<div id="rule-anchor-property"></div>
<pre class="rule">[140]
anchor-property ::=
  '&amp;'
  <a href="#rule-anchor-name">anchor-name</a>
</pre>

<div id="rule-anchor-name"></div>
<pre class="rule">[141]
anchor-name ::=
  <a href="#rule-anchor-character">anchor-character</a>+
</pre>

<p>XXX Change to <code class="language-plaintext highlighter-rouge">anchor-character ::= flow-plain-scalar-character</code> ?</p>

<div id="rule-anchor-character"></div>
<pre class="rule">[142]
anchor-character ::=
    <a href="#rule-non-space-character">non-space-character</a>
  - <a href="#rule-flow-collection-indicators">flow-collection-indicators</a>
</pre>

<div id="rule-tag-property"></div>
<pre class="rule">[143]
tag-property ::=
    <a href="#rule-verbatim-tag">verbatim-tag</a>
  | <a href="#rule-shorthand-tag">shorthand-tag</a>
  | <a href="#rule-non-specific-tag">non-specific-tag</a>
</pre>

<div id="rule-verbatim-tag"></div>
<pre class="rule">[144]
verbatim-tag ::=
  "!&lt;"
  <a href="#rule-uri-character">uri-character</a>+
  '&gt;'
</pre>

<div id="rule-shorthand-tag"></div>
<pre class="rule">[145]
shorthand-tag ::=
  <a href="#rule-tag-handle">tag-handle</a>
  <a href="#rule-tag-character">tag-character</a>+
</pre>

<div id="rule-non-specific-tag"></div>
<pre class="rule">[146]
non-specific-tag ::=
  '!'
</pre>

<div id="a-5-character-productions"></div>
<h2 id="a5-character-productions">A.5. Character Productions</h2>

<div id="a-5-1-character-encoding"></div>
<h3 id="a51-character-encoding">A.5.1. Character Encoding</h3>

<div id="rule-byte-order-mark"></div>
<pre class="rule">[147]
byte-order-mark ::=
  xFEFF
</pre>

<div id="a-5-2-valid-character-sets"></div>
<h3 id="a52-valid-character-sets">A.5.2. Valid Character Sets</h3>

<p>All characters allowed in YAML.</p>

<div id="rule-yaml-character"></div>
<pre class="rule">[148]
yaml-character ::=
                                    # 8 bit
    x09                             # Tab
  | x0A                             # Line feed
  | x0D                             # Carriage return
  | [x20-x7E]                       # Printable ASCII
                                    # 16 bit
  | x85                             # Next line (NEL)
  | [xA0-xD7FF]                     # Basic multilingual plane (BMP)
  | [xE000-xFFFD]                   # Additional unicode areas
  | [x010000-x10FFFF]               # 32 bit
</pre>

<p>All characters allowed in JSON.</p>

<div id="rule-json-character"></div>
<pre class="rule">[149]
json-character ::=
    x09                             # Tab
  | [x20-x10FFFF]                   # Non-C0-control characters
</pre>

<div id="rule-non-space-character"></div>
<pre class="rule">[150]
non-space-character ::=
    <a href="#rule-non-break-character">non-break-character</a>
  - <a href="#rule-blank-character">blank-character</a>
</pre>

<div id="rule-non-break-character"></div>
<pre class="rule">[151]
non-break-character ::=
    <a href="#rule-yaml-character">yaml-character</a>
  - <a href="#rule-line-break-character">line-break-character</a>
  - <a href="#rule-byte-order-mark">byte-order-mark</a>
</pre>

<div id="rule-blank-character"></div>
<pre class="rule">[152]
blank-character ::=
    x20                             # Space
  | x09                             # Tab
</pre>

<div id="rule-space-character"></div>
<pre class="rule">[153]
space-character ::=
  x20
</pre>

<div id="a-5-3-line-break-characters"></div>
<h3 id="a53-line-break-characters">A.5.3. Line Break Characters</h3>

<div id="rule-break-as-space"></div>
<pre class="rule">[154]
break-as-space ::=
  <a href="#rule-line-break">line-break</a>
</pre>

<div id="rule-break-as-line-feed"></div>
<pre class="rule">[155]
break-as-line-feed ::=
  <a href="#rule-line-break">line-break</a>
</pre>

<div id="rule-break-non-content"></div>
<pre class="rule">[156]
break-non-content ::=
  <a href="#rule-line-break">line-break</a>
</pre>

<div id="rule-line-break"></div>
<pre class="rule">[157]
line-break ::=
    (
      x0D                           # Carriage return
      x0A                           # Line feed
    )
  | x0D
  | x0A
</pre>

<div id="rule-line-break-character"></div>
<pre class="rule">[158]
line-break-character ::=
    x0A
  | x0D
</pre>

<div id="a-5-4-indicator-characters"></div>
<h3 id="a54-indicator-characters">A.5.4. Indicator Characters</h3>

<div id="rule-flow-collection-indicators"></div>
<pre class="rule">[159]
flow-collection-indicators ::=
    '{'                             # Flow mapping start
  | '}'                             # Flow mapping end
  | '['                             # Flow sequence start
  | ']'                             # Flow sequence end
</pre>

<div id="a-5-5-miscellaneous-character-sets"></div>
<h3 id="a55-miscellaneous-character-sets">A.5.5. Miscellaneous Character Sets</h3>

<p>See <a href="#escaped-characters">Escaped Characters</a>.</p>

<div id="rule-double-quoted-scalar-escape-character"></div>
<pre class="rule">[160]
double-quoted-scalar-escape-character ::=
  '\'
  (
      '0'
    | 'a'
    | 'b'
    | 't' | x09
    | 'n'
    | 'v'
    | 'f'
    | 'r'
    | 'e'
    | x20
    | '"'
    | '/'
    | '\'
    | 'N'
    | '_'
    | 'L'
    | 'P'
    | ( 'x' <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{2} )
    | ( 'u' <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{4} )
    | ( 'U' <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{8} )
  )
</pre>

<div id="rule-tag-character"></div>
<pre class="rule">[161]
tag-character ::=
    <a href="#rule-uri-character">uri-character</a>
  - '!'
  - <a href="#rule-flow-collection-indicators">flow-collection-indicators</a>
</pre>

<div id="rule-uri-character"></div>
<pre class="rule">[162]
uri-character ::=
    (
      '%'
      <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{2}
    )
  | <a href="#rule-word-character">word-character</a>
  | '#'
  | ';'
  | '/'
  | '?'
  | ':'
  | '@'
  | '&amp;'
  | '='
  | '+'
  | '$'
  | ','
  | '_'
  | '.'
  | '!'
  | '~'
  | '*'
  | "'"
  | '('
  | ')'
  | '['
  | ']'
</pre>

<div id="rule-word-character"></div>
<pre class="rule">[163]
word-character ::=
    <a href="#rule-decimal-digit">decimal-digit</a>
  | <a href="#rule-ascii-alpha-character">ascii-alpha-character</a>
  | '-'
</pre>

<div id="rule-hexadecimal-digit"></div>
<pre class="rule">[164]
hexadecimal-digit ::=
    <a href="#rule-decimal-digit">decimal-digit</a>
  | [x41-x46]                       # A-F
  | [x61-x66]                       # <a href="#rule-a-f">a-f</a>
</pre>

<div id="rule-decimal-digit"></div>
<pre class="rule">[165]
decimal-digit ::=
  [x30-x39]                         # 0-9
</pre>

<div id="rule-decimal-digit-1-9"></div>
<pre class="rule">[166]
decimal-digit-1-9 ::=
  [x31-x39]                         # 1-9
</pre>

<div id="rule-ascii-alpha-character"></div>
<pre class="rule">[167]
ascii-alpha-character ::=
    [x41-x5A]                       # A-Z
  | [x61-x7A]                       # <a href="#rule-a-z">a-z</a>
</pre>

<h1 id="reference-links">Reference Links</h1>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:team" role="doc-endnote">
      <p><a href="ext/team">YAML Language Development Team</a> <a href="#fnref:team" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:unicode" role="doc-endnote">
      <p><a href="https://home.unicode.org">Unicode – The World Standard for Text and Emoji</a> <a href="#fnref:unicode" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:yaml-core" role="doc-endnote">
      <p><a href="https://sourceforge.net/projects/yaml/lists/yaml-core">YAML Core Mailing List</a> <a href="#fnref:yaml-core" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:sml-dev" role="doc-endnote">
      <p><a href="https://github.com/yaml/sml-dev-archive">SML-DEV Mailing List Archive</a> <a href="#fnref:sml-dev" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:denter" role="doc-endnote">
      <p><a href="https://metacpan.org/dist/Data-Denter/view/Denter.pod">Data::Denter - An (deprecated) alternative to Data::Dumper and Storable</a> <a href="#fnref:denter" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:1-1-spec" role="doc-endnote">
      <p><a href="https://yaml.org/spec/1.1/">YAML Ain’t Markup Language (YAML™) version 1.1</a> <a href="#fnref:1-1-spec" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:json" role="doc-endnote">
      <p><a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-404/">The JSON data interchange syntax</a> <a href="#fnref:json" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:pyyaml" role="doc-endnote">
      <p><a href="https://github.com/yaml/pyyaml">PyYAML - YAML parser and emitter for Python</a> <a href="#fnref:pyyaml" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:libyaml" role="doc-endnote">
      <p><a href="https://github.com/yaml/libyaml">LibYAML - A C library for parsing and emitting YAML</a> <a href="#fnref:libyaml" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:1-2-spec" role="doc-endnote">
      <p><a href="https://yaml.org/spec/1.2/">YAML Ain’t Markup Language (YAML™) version 1.2</a> <a href="#fnref:1-2-spec" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:rfc-2119" role="doc-endnote">
      <p><a href="https://datatracker.ietf.org/doc/html/rfc2119">Request for Comments Summary</a> <a href="#fnref:rfc-2119" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:digraph" role="doc-endnote">
      <p><a href="https://xlinux.nist.gov/dads/HTML/directedGraph.html">directed graph</a> <a href="#fnref:digraph" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:tag-uri" role="doc-endnote">
      <p><a href="https://datatracker.ietf.org/doc/html/rfc4151">The ‘tag’ URI Scheme</a> <a href="#fnref:tag-uri" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:c0-block" role="doc-endnote">
      <p><a href="https://en.wikipedia.org/wiki/C0_and_C1_control_codes">Wikipedia - C0 and C1 control codes</a> <a href="#fnref:c0-block" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:surrogates" role="doc-endnote">
      <p><a href="https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates">Wikipedia - Universal Character Set characters #Surrogates</a> <a href="#fnref:surrogates" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:uni-faq" role="doc-endnote">
      <p><a href="https://www.unicode.org/faq/utf_bom.html">UTF-8, UTF-16, UTF-32 &amp; BOM</a> <a href="#fnref:uni-faq" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:uri" role="doc-endnote">
      <p><a href="https://datatracker.ietf.org/doc/html/rfc3986">Uniform Resource Identifiers (URI)</a> <a href="#fnref:uri" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>


</main>

</body>

</html>
