<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta
  http-equiv="Content-Type"
  content="text/html; charset=UTF-8"
/>

<title>YAML Ain’t Markup Language (YAML™) revision 1.3.0</title>


  
    <link
  rel="stylesheet"
  type="text/css"
  href="/assets/css/style.css"
/>

  

  <link
  rel="stylesheet"
  type="text/css"

  href="../../spec.css"

/>


  <link
  rel="icon"
  href="/favicon.svg"
/>

</head>

<body class="status-">

<main id="content" class="main-content" role="main">



<h1 id="yaml-aint-markup-language-yaml-version-13">YAML Ain’t Markup Language (YAML™) version 1.3</h1>
<h2 class="subtitle" id="revision-130-2021-10-27">Revision 1.3.0 (2021-10-27)</h2>
<p>Copyright presently by YAML Language Development Team<sup id="fnref:team" role="doc-noteref"><a class="footnote" href="#fn:team" rel="footnote">1</a></sup> <br/>
Copyright 2001-2009 by Oren Ben-Kiki, Clark Evans, Ingy döt Net</p>
<p>This document may be freely copied, provided it is not modified.</p>
<p><strong>Status of this Document</strong></p>
<p>This is the <strong>YAML specification v1.3.0</strong>.<br/>
It defines the <strong>YAML 1.3 data language</strong>.</p>
<p>The YAML specification is often seen as overly complicated for something which<br/>
appears to be so simple.<br/>
Even though YAML often is used for software configuration, it has always been<br/>
and will continue to be a complete data serialization language.<br/>
Future YAML plans are focused on making the language and ecosystem more<br/>
powerful and reliable while simultaneously simplifying the development process<br/>
for implementers.</p>
<p>In addition to this specification, there is companion documentation intended to<br/>
guide YAML framework implementers and YAML language users.<br/>
This documentation can continue to evolve and expand continually between<br/>
published revisions of this specification.</p>
<p>See:</p>
<ul>
<li><a href="ext/resources">YAML Resources Index</a></li>
<li><a href="ext/glossary">YAML Vocabulary Glossary</a></li>
<li><a href="ext/changes">YAML Specification Changes</a></li>
<li><a href="ext/errata">YAML Specification Errata</a></li>
</ul>
<p><strong>Abstract</strong></p>
<p>YAML™ (rhymes with “camel”) is a human-friendly, cross language, Unicode based<br/>
data serialization language designed around the common native data types of<br/>
dynamic programming languages.<br/>
It is broadly useful for programming needs ranging from configuration files to<br/>
internet messaging to object persistence to data auditing and visualization.<br/>
Together with the Unicode standard for characters<sup id="fnref:unicode" role="doc-noteref"><a class="footnote" href="#fn:unicode" rel="footnote">2</a></sup>, this specification<br/>
provides all the information necessary to understand YAML version 1.3 and to<br/>
create programs that process YAML information.</p>
<p><strong id="toc-header">Contents</strong></p><ul id="markdown-toc"><li><a href="#chapter--introduction-to-yaml">Chapter 1. Introduction to YAML</a><ul><li><a href="#-goals">1.1. Goals</a></li><li><a href="#-yaml-history">1.2. YAML History</a></li><li><a href="#-terminology">1.3. Terminology</a></li></ul></li><li><a href="#chapter--language-overview">Chapter 2. Language Overview</a><ul><li><a href="#-collections">2.1. Collections</a></li><li><a href="#-structures">2.2. Structures</a></li><li><a href="#-scalars">2.3. Scalars</a></li><li><a href="#-tags">2.4. Tags</a></li><li><a href="#-full-length-example">2.5. Full Length Example</a></li><li><a href="#-processes-and-models">2.6. Processes and Models</a></li></ul></li><li><a href="#chapter--processes">Chapter 3. Processes</a><ul><li><a href="#-dump">3.1. Dump</a></li><li><a href="#-load">3.2. Load</a></li></ul></li><li><a href="#chapter--information-models">Chapter 4. Information Models</a><ul><li><a href="#-representation-graph">4.1. Representation Graph</a><ul><li><a href="#-nodes">4.1.1. Nodes</a></li><li><a href="#-tags-1">4.1.2. Tags</a></li><li><a href="#-node-comparison">4.1.3. Node Comparison</a></li></ul></li><li><a href="#-serialization-tree">4.2. Serialization Tree</a><ul><li><a href="#-mapping-key-order">4.2.1. Mapping Key Order</a></li><li><a href="#-anchors-and-aliases">4.2.2. Anchors and Aliases</a></li></ul></li><li><a href="#-presentation-stream">4.3. Presentation Stream</a><ul><li><a href="#-node-styles">4.3.1. Node Styles</a></li><li><a href="#-scalar-formats">4.3.2. Scalar Formats</a></li><li><a href="#-comments">4.3.3. Comments</a></li><li><a href="#-directives">4.3.4. Directives</a></li></ul></li></ul></li><li><a href="#chapter--loading-failure-points">Chapter 5. Loading Failure Points</a><ul><li><a href="#-well-formed-streams-and-identified-aliases">5.1. Well-Formed Streams and Identified Aliases</a></li><li><a href="#-resolved-tags">5.2. Resolved Tags</a></li><li><a href="#-recognized-and-valid-tags">5.3. Recognized and Valid Tags</a></li><li><a href="#-available-tags">5.4. Available Tags</a></li></ul></li><li><a href="#chapter--character-productions">Chapter 6. Character Productions</a><ul><li><a href="#-character-set">6.1. Character Set</a></li><li><a href="#-character-encodings">6.2. Character Encodings</a></li><li><a href="#-indicator-characters">6.3. Indicator Characters</a></li><li><a href="#-line-break-characters">6.4. Line Break Characters</a></li><li><a href="#-white-space-characters">6.5. White Space Characters</a></li><li><a href="#-miscellaneous-characters">6.6. Miscellaneous Characters</a></li><li><a href="#-escaped-characters">6.7. Escaped Characters</a></li></ul></li><li><a href="#chapter--structural-productions">Chapter 7. Structural Productions</a><ul><li><a href="#-indentation-spaces">7.1. Indentation Spaces</a></li><li><a href="#-separation-spaces">7.2. Separation Spaces</a></li><li><a href="#-line-prefixes">7.3. Line Prefixes</a></li><li><a href="#-empty-lines">7.4. Empty Lines</a></li><li><a href="#-line-folding">7.5. Line Folding</a></li><li><a href="#-comments-1">7.6. Comments</a></li><li><a href="#-separation-lines">7.7. Separation Lines</a></li><li><a href="#-directives-1">7.8. Directives</a><ul><li><a href="#-yaml-directives">7.8.1. “<code>YAML</code>” Directives</a></li><li><a href="#-tag-directives">7.8.2. “<code>TAG</code>” Directives</a><ul><li><a href="#-tag-handles">7.8.2.1. Tag Handles</a></li><li><a href="#-tag-prefixes">7.8.2.2. Tag Prefixes</a></li></ul></li></ul></li><li><a href="#-node-properties">7.9. Node Properties</a><ul><li><a href="#-node-tags">7.9.1. Node Tags</a></li><li><a href="#-node-anchors">7.9.2. Node Anchors</a></li></ul></li></ul></li><li><a href="#chapter--flow-style-productions">Chapter 8. Flow Style Productions</a><ul><li><a href="#-alias-nodes">8.1. Alias Nodes</a></li><li><a href="#-empty-nodes">8.2. Empty Nodes</a></li><li><a href="#-flow-scalar-styles">8.3. Flow Scalar Styles</a><ul><li><a href="#-double-quoted-style">8.3.1. Double-Quoted Style</a></li><li><a href="#-single-quoted-style">8.3.2. Single-Quoted Style</a></li><li><a href="#-plain-style">8.3.3. Plain Style</a></li></ul></li><li><a href="#-flow-collection-styles">8.4. Flow Collection Styles</a><ul><li><a href="#-flow-sequences">8.4.1. Flow Sequences</a></li><li><a href="#-flow-mappings">8.4.2. Flow Mappings</a></li></ul></li><li><a href="#-flow-nodes">8.5. Flow Nodes</a></li></ul></li><li><a href="#chapter--block-style-productions">Chapter 9. Block Style Productions</a><ul><li><a href="#-block-scalar-styles">9.1. Block Scalar Styles</a><ul><li><a href="#-block-scalar-headers">9.1.1. Block Scalar Headers</a><ul><li><a href="#-block-indentation-indicator">9.1.1.1. Block Indentation Indicator</a></li><li><a href="#-block-chomping-indicator">9.1.1.2. Block Chomping Indicator</a></li></ul></li><li><a href="#-literal-style">9.1.2. Literal Style</a></li><li><a href="#-folded-style">9.1.3. Folded Style</a></li></ul></li><li><a href="#-block-collection-styles">9.2. Block Collection Styles</a><ul><li><a href="#-block-sequences">9.2.1. Block Sequences</a></li><li><a href="#-block-mappings">9.2.2. Block Mappings</a></li><li><a href="#-block-nodes">9.2.3. Block Nodes</a></li></ul></li></ul></li><li><a href="#chapter--document-stream-productions">Chapter 10. Document Stream Productions</a><ul><li><a href="#-documents">10.1. Documents</a><ul><li><a href="#-document-prefix">10.1.1. Document Prefix</a></li><li><a href="#-document-markers">10.1.2. Document Markers</a></li><li><a href="#-bare-documents">10.1.3. Bare Documents</a></li><li><a href="#-explicit-documents">10.1.4. Explicit Documents</a></li><li><a href="#-directives-documents">10.1.5. Directives Documents</a></li></ul></li><li><a href="#-streams">10.2. Streams</a></li></ul></li><li><a href="#appendix-a-grammar">Appendix A. Grammar</a><ul><li><a href="#-production-syntax">A.1. Production Syntax</a><ul><li><a href="#-production-parameters">A.1.1. Production Parameters</a></li><li><a href="#-production-naming-conventions">A.1.2. Production Naming Conventions</a></li></ul></li><li><a href="#-document-stream-productions">A.2. Document Stream Productions</a><ul><li><a href="#-streams-1">A.2.1. Streams</a></li><li><a href="#-documents-1">A.2.2. Documents</a><ul><li><a href="#-block-nodes-1">A.2.2.1. Block Nodes</a></li><li><a href="#-block-mappings-1">A.2.2.2. Block Mappings</a></li><li><a href="#-block-sequences-1">A.2.2.3. Block Sequences</a></li></ul></li><li><a href="#-block-scalar-styles-1">A.2.3. Block Scalar Styles</a><ul><li><a href="#-literal-style-1">A.2.3.1. Literal Style</a></li><li><a href="#-folded-style-1">A.2.3.2. Folded Style</a></li><li><a href="#-block-scalar-headers-1">A.2.3.3. Block Scalar Headers</a></li></ul></li></ul></li><li><a href="#-flow-style-productions">A.3. Flow Style Productions</a><ul><li><a href="#-flow-nodes-1">A.3.1. Flow Nodes</a><ul><li><a href="#-flow-mappings-1">A.3.1.1. Flow Mappings</a></li><li><a href="#-flow-sequences-1">A.3.1.2. Flow Sequences</a></li></ul></li><li><a href="#-flow-scalar-styles-1">A.3.2. Flow Scalar Styles</a><ul><li><a href="#-double-quoted-style-1">A.3.2.1. Double-Quoted Style</a></li><li><a href="#-flow-collection-context">A.3.2.2. Flow Collection Context</a></li><li><a href="#-single-quoted-style-1">A.3.2.3. Single-Quoted Style</a></li><li><a href="#-plain-style-1">A.3.2.4. Plain Style</a></li></ul></li><li><a href="#-other-nodes">A.3.3. Other Nodes</a></li></ul></li><li><a href="#-structural-productions">A.4. Structural Productions</a><ul><li><a href="#-indentation-spaces-1">A.4.1. Indentation Spaces</a></li><li><a href="#-line-prefixes-1">A.4.2. Line Prefixes</a></li><li><a href="#-line-folding-1">A.4.3. Line Folding</a></li><li><a href="#-comments-2">A.4.4. Comments</a></li><li><a href="#-empty-lines-1">A.4.5. Empty Lines</a></li><li><a href="#-separation-lines-and-blanks">A.4.6. Separation Lines and Blanks</a></li><li><a href="#-directives-2">A.4.7. Directives</a></li><li><a href="#-node-properties-1">A.4.8. Node Properties</a></li></ul></li><li><a href="#-character-productions">A.5. Character Productions</a><ul><li><a href="#-character-encoding">A.5.1. Character Encoding</a></li><li><a href="#-valid-character-sets">A.5.2. Valid Character Sets</a></li><li><a href="#-line-ending-productions">A.5.3. Line Ending Productions</a></li><li><a href="#-indicator-characters-1">A.5.4. Indicator Characters</a></li><li><a href="#-miscellaneous-character-sets">A.5.5. Miscellaneous Character Sets</a></li></ul></li></ul></li><li><a href="#appendix--recommended-schemas">Appendix B. Recommended Schemas</a><ul><li><a href="#-failsafe-schema">B.1. Failsafe Schema</a><ul><li><a href="#-tags-2">B.1.1. Tags</a><ul><li><a href="#-generic-mapping">B.1.1.1. Generic Mapping</a></li><li><a href="#-generic-sequence">B.1.1.2. Generic Sequence</a></li><li><a href="#-generic-string">B.1.1.3. Generic String</a></li></ul></li><li><a href="#-tag-resolution">B.1.2. Tag Resolution</a></li></ul></li><li><a href="#-json-schema">B.2. JSON Schema</a><ul><li><a href="#-tags-3">B.2.1. Tags</a><ul><li><a href="#-null">B.2.1.1. Null</a></li><li><a href="#-boolean">B.2.1.2. Boolean</a></li><li><a href="#-integer">B.2.1.3. Integer</a></li><li><a href="#-floating-point">B.2.1.4. Floating Point</a></li></ul></li><li><a href="#-tag-resolution-1">B.2.2. Tag Resolution</a></li></ul></li><li><a href="#-core-schema">B.3. Core Schema</a><ul><li><a href="#-tags-4">B.3.1. Tags</a></li><li><a href="#-tag-resolution-2">B.3.2. Tag Resolution</a></li></ul></li><li><a href="#-other-schemas">B.4. Other Schemas</a></li></ul></li><li><a href="#reference-links">Reference Links</a></li></ul>
<section data-section-number="1"><h1 id="chapter--introduction-to-yaml">Chapter 1. Introduction to YAML</h1>
<p>YAML (a recursive acronym for “YAML Ain’t Markup Language”) is a data<br/>
serialization language designed to be human-friendly and work well with modern<br/>
programming languages for common everyday tasks.<br/>
This specification is both an introduction to the YAML language and the<br/>
concepts supporting it.<br/>
It is also a complete specification of the information needed to develop<br/>
<a href="#processes-and-models">applications</a> for processing YAML.</p>
<p>Open, interoperable and readily understandable tools have advanced computing<br/>
immensely.<br/>
YAML was designed from the start to be useful and friendly to people working<br/>
with data.<br/>
It uses Unicode <a href="#character-set">printable</a> characters, <a href="#indicator-characters">some</a> of which provide structural<br/>
information and the rest containing the data itself.<br/>
YAML achieves a unique cleanness by minimizing the amount of structural<br/>
characters and allowing the data to show itself in a natural and meaningful<br/>
way.<br/>
For example, <a href="#indentation-spaces">indentation</a> may be used for structure, <a href="#flow-mappings">colons</a> separate<br/>
<a href="#mapping">key/value pairs</a> and <a href="#block-sequences">dashes</a> are used to create “bulleted” <a href="#sequence">lists</a>.</p>
<p>There are many kinds of <a href="#dump">data structures</a>, but they can all be adequately<br/>
<a href="#representation-graph">represented</a> with three basic primitives: <a href="#mapping">mappings</a> (hashes/dictionaries),<br/>
<a href="#sequence">sequences</a> (arrays/lists) and <a href="#scalars">scalars</a> (strings/numbers).<br/>
YAML leverages these primitives and adds a simple typing system and <a href="#anchors-and-aliases">aliasing</a><br/>
mechanism to form a complete language for <a href="#serializing-the-representation-graph">serializing</a> any <a href="#representing-native-data-structures">native data<br/>
structure</a>.<br/>
While most programming languages can use YAML for data serialization, YAML<br/>
excels in working with those languages that are fundamentally built around the<br/>
three basic primitives.<br/>
These include common dynamic languages such as JavaScript, Perl, PHP, Python<br/>
and Ruby.</p>
<p>There are hundreds of different languages for programming, but only a handful<br/>
of languages for storing and transferring data.<br/>
Even though its potential is virtually boundless, YAML was specifically created<br/>
to work well for common use cases such as: configuration files, log files,<br/>
interprocess messaging, cross-language data sharing, object persistence and<br/>
debugging of complex data structures.<br/>
When data is easy to view and understand, programming becomes a simpler task.</p>
<section data-section-number="1"><h2 id="-goals">1.1. Goals</h2>
<p>The design goals for YAML are, in decreasing priority:</p>
<ol>
<li>YAML should be easily readable by humans.</li>
<li>YAML data should be portable between programming languages.</li>
<li>YAML should match the <a href="#representing-native-data-structures">native data structures</a> of dynamic languages.</li>
<li>YAML should have a consistent model to support generic tools.</li>
<li>YAML should support one-pass processing.</li>
<li>YAML should be expressive and extensible.</li>
<li>YAML should be easy to implement and use.</li>
</ol>
</section><section data-section-number="2"><h2 id="-yaml-history">1.2. YAML History</h2>
<p>The YAML 1.0 specification was published in early 2004 by by Clark Evans, Oren<br/>
Ben-Kiki, and Ingy döt Net after 3 years of collaborative design work through<br/>
the yaml-core mailing list<sup id="fnref:yaml-core" role="doc-noteref"><a class="footnote" href="#fn:yaml-core" rel="footnote">3</a></sup>.<br/>
The project was initially rooted in Clark and Oren’s work on the<br/>
SML-DEV<sup id="fnref:sml-dev" role="doc-noteref"><a class="footnote" href="#fn:sml-dev" rel="footnote">4</a></sup> mailing list (for simplifying XML) and Ingy’s plain text<br/>
serialization module<sup id="fnref:denter" role="doc-noteref"><a class="footnote" href="#fn:denter" rel="footnote">5</a></sup> for Perl.<br/>
The language took a lot of inspiration from many other technologies and formats<br/>
that preceded it.</p>
<p>The first YAML framework was written in Perl in 2001 and Ruby was the first<br/>
language to ship a YAML framework as part of its core language distribution in<br/>
2003.</p>
<p>The YAML 1.1<sup id="fnref:1-1-spec" role="doc-noteref"><a class="footnote" href="#fn:1-1-spec" rel="footnote">6</a></sup> specification was published in 2005.<br/>
Around this time, the developers became aware of JSON<sup id="fnref:json" role="doc-noteref"><a class="footnote" href="#fn:json" rel="footnote">7</a></sup>.<br/>
By sheer coincidence, JSON was almost a complete subset of YAML (both<br/>
syntactically and semantically).</p>
<p>In 2006, Kyrylo Simonov produced PyYAML<sup id="fnref:pyyaml" role="doc-noteref"><a class="footnote" href="#fn:pyyaml" rel="footnote">8</a></sup> and LibYAML<sup id="fnref:libyaml" role="doc-noteref"><a class="footnote" href="#fn:libyaml" rel="footnote">9</a></sup>.<br/>
A lot of the YAML frameworks in various programming languages are built over<br/>
LibYAML and many others have looked to PyYAML as a solid reference for their<br/>
implementations.</p>
<p>The YAML 1.2<sup id="fnref:1-2-spec" role="doc-noteref"><a class="footnote" href="#fn:1-2-spec" rel="footnote">10</a></sup> specification was published in 2009.<br/>
Its primary focus was making YAML a strict superset of JSON.<br/>
It also removed many of the problematic implicit typing recommendations.</p>
<p>Since the release of the 1.2 specification, YAML adoption has continued to<br/>
grow, and many large-scale projects use it as their primary interface language.<br/>
In 2020, the new <a href="ext/team">YAML language design team</a> began meeting regularly<br/>
to discuss improvements to the YAML language and specification; to better meet<br/>
the needs and expectations of its users and use cases.</p>
<p>The YAML 1.2.2 specification, published in October 2021, was the first step in<br/>
YAML’s rejuvenated development journey.<br/>
YAML is now more popular than it has ever been, but there is a long list of<br/>
things that need to be addressed for it to reach its full potential.<br/>
The YAML design team is focused on making YAML as good as possible.</p>
</section><section data-section-number="3"><h2 id="-terminology">1.3. Terminology</h2>
<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,<br/>
“SHOULD NOT”, “RECOMMENDED”,  “MAY”, and “OPTIONAL” in this document are to be<br/>
interpreted as described in RFC 2119<sup id="fnref:rfc-2119" role="doc-noteref"><a class="footnote" href="#fn:rfc-2119" rel="footnote">11</a></sup>.</p>
<p>The rest of this document is arranged as follows.<br/>
Chapter <a href="#language-overview">2</a> provides a short preview of the main YAML features.<br/>
Chapter <a href="#processes-and-models">3</a> describes the YAML information model and the processes for<br/>
converting from and to this model and the YAML text format.<br/>
The bulk of the document, chapters <a href="#syntax-conventions">4</a>, <a href="#character-productions">5</a>, <a href="#structural-productions">6</a>, <a href="#flow-style-productions">7</a>, <a href="#block-style-productions">8</a> and <a href="#document-stream-productions">9</a>, formally<br/>
define this text format.<br/>
Finally, chapter <a href="#recommended-schemas">10</a> recommends basic YAML schemas.</p>
</section></section><section data-section-number="2"><h1 id="chapter--language-overview">Chapter 2. Language Overview</h1>
<p>This section provides a quick glimpse into the expressive power of YAML.<br/>
It is not expected that the first-time reader grok all of the examples.<br/>
Rather, these selections are used as motivation for the remainder of the<br/>
specification.</p>
<section data-section-number="1"><h2 id="-collections">2.1. Collections</h2>
<p>YAML’s <a href="#block-collection-styles">block collections</a> use <a href="#indentation-spaces">indentation</a> for scope and begin each entry on<br/>
its own line.<br/>
<a href="#block-sequences">Block sequences</a> indicate each entry with a dash and space (“<code>- </code>”).<br/>
<a href="#mapping">Mappings</a> use a colon and space (“<code>: </code>”) to mark each <a href="#mapping">key/value pair</a>.<br/>
<a href="#comments">Comments</a> begin with an octothorpe (also called a “hash”, “sharp”, “pound” or<br/>
“number sign” - “<code>#</code>”).</p>
<div class="example" id="example-sequence-of-scalars">
<p><strong>Example 2.1. Sequence of Scalars (ball players)</strong></p>
<pre class="example">
- Mark McGwire
- Sammy Sosa
- Ken Griffey
</pre>
</div>
<div class="example" id="example-mapping-scalars-to-scalars">
<p><strong>Example 2.2. Mapping Scalars to Scalars (player statistics)</strong></p>
<pre class="example">
hr:  65    # Home runs
avg: 0.278 # Batting average
rbi: 147   # Runs Batted In
</pre>
</div>
<div class="example" id="example-mapping-scalars-to-sequences">
<p><strong>Example 2.3. Mapping Scalars to Sequences (ball clubs in each league)</strong></p>
<pre class="example">
american:
- Boston Red Sox
- Detroit Tigers
- New York Yankees
national:
- New York Mets
- Chicago Cubs
- Atlanta Braves
</pre>
</div>
<div class="example" id="example-sequence-of-mappings">
<p><strong>Example 2.4. Sequence of Mappings (players’ statistics)</strong></p>
<pre class="example">
-
  name: Mark McGwire
  hr:   65
  avg:  0.278
-
  name: Sammy Sosa
  hr:   63
  avg:  0.288
</pre>
</div>
<p>YAML also has <a href="#flow-style-productions">flow styles</a>, using explicit <a href="#indicator-characters">indicators</a> rather than<br/>
<a href="#indentation-spaces">indentation</a> to denote scope.<br/>
The <a href="#flow-sequences">flow sequence</a> is written as a <a href="#flow-collection-styles">comma</a> separated list within <a href="#flow-sequences">square</a><br/>
<a href="#flow-sequences">brackets</a>.<br/>
In a similar manner, the <a href="#flow-mappings">flow mapping</a> uses <a href="#flow-mappings">curly</a> <a href="#flow-mappings">braces</a>.</p>
<div class="example" id="example-sequence-of-sequences">
<p><strong>Example 2.5. Sequence of Sequences</strong></p>
<pre class="example">
- [name        , hr, avg  ]
- [Mark McGwire, 65, 0.278]
- [Sammy Sosa  , 63, 0.288]
</pre>
</div>
<div class="example" id="example-mapping-of-mappings">
<p><strong>Example 2.6. Mapping of Mappings</strong></p>
<pre class="example">
Mark McGwire: {hr: 65, avg: 0.278}
Sammy Sosa: {
    hr: 63,
    avg: 0.288,
 }
</pre>
</div>
</section><section data-section-number="2"><h2 id="-structures">2.2. Structures</h2>
<p>YAML uses three dashes (“<code>---</code>”) to separate <a href="#directives">directives</a> from <a href="#documents">document</a><br/>
<a href="#nodes">content</a>.<br/>
This also serves to signal the start of a document if no <a href="#directives">directives</a> are<br/>
present.<br/>
Three dots ( “<code>...</code>”) indicate the end of a document without starting a new<br/>
one, for use in communication channels.</p>
<div class="example" id="example-two-documents-in-a-stream">
<p><strong>Example 2.7. Two Documents in a Stream (each with a leading comment)</strong></p>
<pre class="example">
# Ranking of 1998 home runs
---
- Mark McGwire
- Sammy Sosa
- Ken Griffey

# Team ranking
---
- Chicago Cubs
- St Louis Cardinals
</pre>
</div>
<div class="example" id="example-play-by-play-feed-from-a-game">
<p><strong>Example 2.8. Play by Play Feed from a Game</strong></p>
<pre class="example">
---
time: 20:03:20
player: Sammy Sosa
action: strike (miss)
...
---
time: 20:03:47
player: Sammy Sosa
action: grand slam
...
</pre>
</div>
<p>Repeated <a href="#nodes">nodes</a> (objects) are first <a href="#anchors-and-aliases">identified</a> by an <a href="#anchors-and-aliases">anchor</a> (marked with<br/>
the ampersand - “<code>&amp;</code>”) and are then <a href="#anchors-and-aliases">aliased</a> (referenced with an asterisk -<br/>
“<code>*</code>”) thereafter.</p>
<div class="example" id="example-single-document-with-two-comments">
<p><strong>Example 2.9. Single Document with Two Comments</strong></p>
<pre class="example">
---
hr: # 1998 hr ranking
- Mark McGwire
- Sammy Sosa
# 1998 rbi ranking
rbi:
- Sammy Sosa
- Ken Griffey
</pre>
</div>
<div class="example" id="example-node-for-sammy-sosa-appears-twice-in-this-document">
<p><strong>Example 2.10. Node for “<code>Sammy Sosa</code>” appears twice in this document</strong></p>
<pre class="example">
---
hr:
- Mark McGwire
# Following node labeled SS
- &amp;SS Sammy Sosa
rbi:
- *SS # Subsequent occurrence
- Ken Griffey
</pre>
</div>
<p>A question mark and space (“<code>? </code>”) indicate a complex <a href="#mapping">mapping</a> <a href="#nodes">key</a>.<br/>
Within a <a href="#block-collection-styles">block collection</a>, <a href="#mapping">key/value pairs</a> can start immediately following<br/>
the <a href="#block-sequences">dash</a>, <a href="#flow-mappings">colon</a> or <a href="#flow-mappings">question mark</a>.</p>
<div class="example" id="example-mapping-between-sequences">
<p><strong>Example 2.11. Mapping between Sequences</strong></p>
<pre class="example">
? - Detroit Tigers
  - Chicago cubs
: - 2001-07-23

? [ New York Yankees,
    Atlanta Braves ]
: [ 2001-07-02, 2001-08-12,
    2001-08-14 ]
</pre>
</div>
<div class="example" id="example-compact-nested-mapping">
<p><strong>Example 2.12. Compact Nested Mapping</strong></p>
<pre class="example">
---
# Products purchased
- item    : Super Hoop
  quantity: 1
- item    : Basketball
  quantity: 4
- item    : Big Shoes
  quantity: 1
</pre>
</div>
</section><section data-section-number="3"><h2 id="-scalars">2.3. Scalars</h2>
<p><a href="#scalar">Scalar content</a> can be written in <a href="#scalars">block</a> notation, using a <a href="#literal-style">literal style</a><br/>
(indicated by “<code>|</code>”) where all <a href="#line-break-characters">line breaks</a> are significant.<br/>
Alternatively, they can be written with the <a href="#folded-style">folded style</a> (denoted by “<code>&gt;</code>”)<br/>
where each <a href="#line-break-characters">line break</a> is <a href="#line-folding">folded</a> to a <a href="#white-space-characters">space</a> unless it ends an <a href="#empty-lines">empty</a> or a<br/>
<a href="#example-more-indented-lines">more-indented</a> line.</p>
<div class="example" id="example-in-literals-newlines-are-preserved">
<p><strong>Example 2.13. In literals, newlines are preserved</strong></p>
<pre class="example">
# ASCII Art
--- |
  \//||\/||
  // ||  ||__
</pre>
</div>
<div class="example" id="example-in-the-folded-scalars-newlines-become-spaces">
<p><strong>Example 2.14. In the folded scalars, newlines become spaces</strong></p>
<pre class="example">
--- &gt;
  Mark McGwire's
  year was crippled
  by a knee injury.
</pre>
</div>
<div class="example" id="example-folded-newlines-are-preserved-for-more-indented-and-blank-lines">
<p><strong>Example 2.15. Folded newlines are preserved for “more indented” and blank
lines</strong></p>
<pre class="example">
--- &gt;
 Sammy Sosa completed another
 fine season with great stats.

   63 Home Runs
   0.288 Batting Average

 What a year!
</pre>
</div>
<div class="example" id="example-indentation-determines-scope">
<p><strong>Example 2.16. Indentation determines scope</strong></p>
<pre class="example">
name: Mark McGwire
accomplishment: &gt;
  Mark set a major league
  home run record in 1998.
stats: |
  65 Home Runs
  0.278 Batting Average
</pre>
</div>
<p>YAML’s <a href="#flow-scalar-styles">flow scalars</a> include the <a href="#plain-style">plain style</a> (most examples thus far) and<br/>
two quoted styles.<br/>
The <a href="#double-quoted-style">double-quoted style</a> provides <a href="#escaped-characters">escape sequences</a>.<br/>
The <a href="#single-quoted-style">single-quoted style</a> is useful when <a href="#escaped-characters">escaping</a> is not needed.<br/>
All <a href="#flow-scalar-styles">flow scalars</a> can span multiple lines; <a href="#line-break-characters">line breaks</a> are always <a href="#line-folding">folded</a>.</p>
<div class="example" id="example-quoted-scalars">
<p><strong>Example 2.17. Quoted Scalars</strong></p>
<pre class="example">
unicode: "Sosa did fine.\u263A"
control: "\b1998\t1999\t2000\n"
hex esc: "\x0d\x0a is \r\n"

single: '"Howdy!" he cried.'
quoted: ' # Not a ''comment''.'
tie-fighter: '|\-*-/|'
</pre>
</div>
<div class="example" id="example-multi-line-flow-scalars">
<p><strong>Example 2.18. Multi-line Flow Scalars</strong></p>
<pre class="example">
plain:
  This unquoted scalar
  spans many lines.

quoted: "So does this
  quoted scalar.\n"
</pre>
</div>
</section><section data-section-number="4"><h2 id="-tags">2.4. Tags</h2>
<p>In YAML, <a href="#resolved-tags">untagged nodes</a> are given a type depending on the <a href="#processes-and-models">application</a>.<br/>
The examples in this specification generally use the <code>seq</code>, <code>map</code> and <code>str</code><br/>
types from the <a href="#failsafe-schema">fail safe schema</a>.<br/>
A few examples also use the <code>int</code>, <code>float</code> and <code>null</code> types from the <a href="#json-schema">JSON<br/>
schema</a>.</p>
<div class="example" id="example-integers">
<p><strong>Example 2.19. Integers</strong></p>
<pre class="example">
canonical: 12345
decimal: +12345
octal: 0o14
hexadecimal: 0xC
</pre>
</div>
<div class="example" id="example-floating-point">
<p><strong>Example 2.20. Floating Point</strong></p>
<pre class="example">
canonical: 1.23015e+3
exponential: 12.3015e+02
fixed: 1230.15
negative infinity: -.inf
not a number: .nan
</pre>
</div>
<div class="example" id="example-miscellaneous">
<p><strong>Example 2.21. Miscellaneous</strong></p>
<pre class="example">
null:
booleans: [ true, false ]
string: '012345'
</pre>
</div>
<div class="example" id="example-timestamps">
<p><strong>Example 2.22. Timestamps</strong></p>
<pre class="example">
canonical: 2001-12-15T02:59:43.1Z
iso8601: 2001-12-14t21:59:43.10-05:00
spaced: 2001-12-14 21:59:43.10 -5
date: 2002-12-14
</pre>
</div>
<p>Explicit typing is denoted with a <a href="#tags">tag</a> using the exclamation point (“<code>!</code>”)<br/>
symbol.<br/>
<a href="#tags">Global tags</a> are URIs and may be specified in a <a href="#tag-shorthands">tag shorthand</a> notation using<br/>
a <a href="#tag-handles">handle</a>.<br/>
<a href="#processes-and-models">Application</a>-specific <a href="#tags">local tags</a> may also be used.</p>
<div class="example" id="example-various-explicit-tags">
<p><strong>Example 2.23. Various Explicit Tags</strong></p>
<pre class="example">
---
not-date: !!str 2002-04-28

picture: !!binary |
 R0lGODlhDAAMAIQAAP//9/X
 17unp5WZmZgAAAOfn515eXv
 Pz7Y6OjuDg4J+fn5OTk6enp
 56enmleECcgggoBADs=

application specific tag: !something |
 The semantics of the tag
 above may be different for
 different documents.
</pre>
</div>
<div class="example" id="example-global-tags">
<p><strong>Example 2.24. Global Tags</strong></p>
<pre class="example">
%TAG ! tag:clarkevans.com,2002:
--- !shape
  # Use the ! handle for presenting
  # tag:clarkevans.com,2002:circle
- !circle
  center: &amp;ORIGIN {x: 73, y: 129}
  radius: 7
- !line
  start: *ORIGIN
  finish: { x: 89, y: 102 }
- !label
  start: *ORIGIN
  color: 0xFFEEBB
  text: Pretty vector drawing.
</pre>
</div>
<div class="example" id="example-unordered-sets">
<p><strong>Example 2.25. Unordered Sets</strong></p>
<pre class="example">
# Sets are represented as a
# Mapping where each key is
# associated with a null value
--- !!set
? Mark McGwire
? Sammy Sosa
? Ken Griffey
</pre>
</div>
<div class="example" id="example-ordered-mappings">
<p><strong>Example 2.26. Ordered Mappings</strong></p>
<pre class="example">
# Ordered maps are represented as
# A sequence of mappings, with
# each mapping having one key
--- !!omap
- Mark McGwire: 65
- Sammy Sosa: 63
- Ken Griffey: 58
</pre>
</div>
</section><section data-section-number="5"><h2 id="-full-length-example">2.5. Full Length Example</h2>
<p>Below are two full-length examples of YAML.<br/>
The first is a sample invoice; the second is a sample log file.</p>
<div class="example" id="example-invoice">
<p><strong>Example 2.27. Invoice</strong></p>
<pre class="example">
--- !&lt;tag:clarkevans.com,2002:invoice&gt;
invoice: 34843
date   : 2001-01-23
bill-to: &amp;id001
  given  : Chris
  family : Dumars
  address:
    lines: |
      458 Walkman Dr.
      Suite #292
    city    : Royal Oak
    state   : MI
    postal  : 48046
ship-to: *id001
product:
- sku         : BL394D
  quantity    : 4
  description : Basketball
  price       : 450.00
- sku         : BL4438H
  quantity    : 1
  description : Super Hoop
  price       : 2392.00
tax  : 251.42
total: 4443.52
comments:
  Late afternoon is best.
  Backup contact is Nancy
  Billsmer @ 338-4338.
</pre>
</div>
<div class="example" id="example-log-file">
<p><strong>Example 2.28. Log File</strong></p>
<pre class="example">
---
Time: 2001-11-23 15:01:42 -5
User: ed
Warning:
  This is an error message
  for the log file
---
Time: 2001-11-23 15:02:31 -5
User: ed
Warning:
  A slightly different error
  message.
---
Date: 2001-11-23 15:03:17 -5
User: ed
Fatal:
  Unknown variable "bar"
Stack:
- file: TopClass.py
  line: 23
  code: |
    x = MoreObject("345\n")
- file: MoreClass.py
  line: 58
  code: |-
    foo = bar
</pre>
</div>
</section><section data-section-number="6"><h2 id="-processes-and-models">2.6. Processes and Models</h2>
<p>YAML is both a text format and a method for <a href="#presenting-the-serialization-tree">presenting</a> any <a href="#representing-native-data-structures">native data<br/>
structure</a> in this format.<br/>
Therefore, this specification defines two concepts: a class of data objects<br/>
called YAML <a href="#representation-graph">representations</a> and a syntax for <a href="#presenting-the-serialization-tree">presenting</a> YAML<br/>
<a href="#representation-graph">representations</a> as a series of characters, called a YAML <a href="#streams">stream</a>.</p>
<p>A YAML <em>processor</em> is a tool for converting information between these<br/>
complementary views.<br/>
It is assumed that a YAML processor does its work on behalf of another module,<br/>
called an <em>application</em>.<br/>
This chapter describes the information structures a YAML processor must provide<br/>
to or obtain from the application.</p>
<p>YAML information is used in two ways: for machine processing and for human<br/>
consumption.<br/>
The challenge of reconciling these two perspectives is best done in three<br/>
distinct translation stages: <a href="#representation-graph">representation</a>, <a href="#serialization-tree">serialization</a> and<br/>
<a href="#presentation-stream">presentation</a>.<br/>
<a href="#representation-graph">Representation</a> addresses how YAML views <a href="#representing-native-data-structures">native data structures</a> to achieve<br/>
portability between programming environments.<br/>
<a href="#serialization-tree">Serialization</a> concerns itself with turning a YAML <a href="#representation-graph">representation</a> into a<br/>
serial form, that is, a form with sequential access constraints.<br/>
<a href="#presentation-stream">Presentation</a> deals with the formatting of a YAML <a href="#serialization-tree">serialization</a> as a series<br/>
of characters in a human-friendly manner.</p>
</section></section><section data-section-number="3"><h1 id="chapter--processes">Chapter 3. Processes</h1>
<p>Translating between <a href="#representing-native-data-structures">native data structures</a> and a character <a href="#streams">stream</a> is done<br/>
in several logically distinct stages, each with a well defined input and output<br/>
data model, as shown in the following diagram:</p>
<p><strong>Figure 3.1. Processing Overview</strong></p>
<p><img alt="Processing Overview" src="img/overview2.svg"/></p>
<p>A YAML processor need not expose the <a href="#serialization-tree">serialization</a> or <a href="#representation-graph">representation</a><br/>
stages.<br/>
It may translate directly between <a href="#representing-native-data-structures">native data structures</a> and a character<br/>
<a href="#streams">stream</a> (<a href="#dump">dump</a> and <a href="#load">load</a> in the diagram above).<br/>
However, such a direct translation should take place so that the <a href="#representing-native-data-structures">native data<br/>
structures</a> are <a href="#constructing-native-data-structures">constructed</a> only from information available in the<br/>
<a href="#representation-graph">representation</a>.<br/>
In particular, <a href="#mapping">mapping key order</a>, <a href="#comments">comments</a> and <a href="#tag-handles">tag handles</a> should not be<br/>
referenced during <a href="#constructing-native-data-structures">construction</a>.</p>
<section data-section-number="1"><h2 id="-dump">3.1. Dump</h2>
<p><em>Dumping</em> native data structures to a character <a href="#streams">stream</a> is done using the<br/>
following three stages:</p>
<div id="representing-native-data-structures"></div>
<dl>
<dt>Representing Native Data Structures</dt>
<dd>
<p>YAML <em>represents</em> any <em>native data structure</em> using three <a href="#nodes">node kinds</a>:<br/>
<a href="#sequence">sequence</a> - an ordered series of entries; <a href="#mapping">mapping</a> - an unordered association<br/>
of <a href="#node-comparison">unique</a> <a href="#nodes">keys</a> to <a href="#nodes">values</a>; and <a href="#scalar">scalar</a> - any datum with opaque structure<br/>
presentable as a series of Unicode characters.</p>
</dd>
<dd>
<p>Combined, these primitives generate directed graph structures.<br/>
These primitives were chosen because they are both powerful and familiar: the<br/>
<a href="#sequence">sequence</a> corresponds to a Perl array and a Python list, the <a href="#mapping">mapping</a><br/>
corresponds to a Perl hash table and a Python dictionary.<br/>
The <a href="#scalar">scalar</a> represents strings, integers, dates and other atomic data types.</p>
</dd>
<dd>
<p>Each YAML <a href="#nodes">node</a> requires, in addition to its <a href="#nodes">kind</a> and <a href="#nodes">content</a>, a <a href="#tags">tag</a><br/>
specifying its data type.<br/>
Type specifiers are either <a href="#tags">global</a> URIs or are <a href="#tags">local</a> in scope to a single<br/>
<a href="#processes-and-models">application</a>.<br/>
For example, an integer is represented in YAML with a <a href="#scalar">scalar</a> plus the <a href="#tags">global<br/>
tag</a> “<code>tag:yaml.org,2002:int</code>”.<br/>
Similarly, an invoice object, particular to a given organization, could be<br/>
represented as a <a href="#mapping">mapping</a> together with the <a href="#tags">local tag</a> “<code>!invoice</code>”.<br/>
This simple model can represent any data structure independent of programming<br/>
language.</p>
</dd>
</dl>
<div id="serializing-the-representation-graph"></div>
<dl>
<dt>Serializing the Representation Graph</dt>
<dd>
<p>For sequential access mediums, such as an event callback API, a YAML<br/>
<a href="#representation-graph">representation</a> must be <em>serialized</em> to an ordered tree.<br/>
Since in a YAML <a href="#representation-graph">representation</a>, <a href="#nodes">mapping keys</a> are unordered and <a href="#nodes">nodes</a> may<br/>
be referenced more than once (have more than one incoming “arrow”), the<br/>
serialization process is required to impose an <a href="#mapping-key-order">ordering</a> on the <a href="#nodes">mapping keys</a><br/>
and to replace the second and subsequent references to a given <a href="#nodes">node</a> with<br/>
place holders called <a href="#anchors-and-aliases">aliases</a>.<br/>
YAML does not specify how these <em>serialization details</em> are chosen.<br/>
It is up to the YAML <a href="#processes-and-models">processor</a> to come up with human-friendly <a href="#mapping-key-order">key order</a> and<br/>
<a href="#anchors-and-aliases">anchor</a> names, possibly with the help of the <a href="#processes-and-models">application</a>.<br/>
The result of this process, a YAML <a href="#serialization-tree">serialization tree</a>, can then be traversed<br/>
to produce a series of event calls for one-pass processing of YAML data.</p>
</dd>
</dl>
<div id="presenting-the-serialization-tree"></div>
<dl>
<dt>Presenting the Serialization Tree</dt>
<dd>
<p>The final output process is <em>presenting</em> the YAML <a href="#serialization-tree">serializations</a> as a<br/>
character <a href="#streams">stream</a> in a human-friendly manner.<br/>
To maximize human readability, YAML offers a rich set of stylistic options<br/>
which go far beyond the minimal functional needs of simple data storage.<br/>
Therefore the YAML <a href="#processes-and-models">processor</a> is required to introduce various <em>presentation<br/>
details</em> when creating the <a href="#streams">stream</a>, such as the choice of <a href="#node-styles">node styles</a>, how<br/>
to <a href="#scalar-formats">format scalar content</a>, the amount of <a href="#indentation-spaces">indentation</a>, which <a href="#tag-handles">tag handles</a> to<br/>
use, the <a href="#node-tags">node tags</a> to leave <a href="#resolved-tags">unspecified</a>, the set of <a href="#directives">directives</a> to provide<br/>
and possibly even what <a href="#comments">comments</a> to add.<br/>
While some of this can be done with the help of the <a href="#processes-and-models">application</a>, in general<br/>
this process should be guided by the preferences of the user.</p>
</dd>
</dl>
</section><section data-section-number="2"><h2 id="-load">3.2. Load</h2>
<p><em>Loading</em> <a href="#representing-native-data-structures">native data structures</a> from a character <a href="#streams">stream</a> is done using the<br/>
following three stages:</p>
<div id="parsing-the-presentation-stream"></div>
<dl>
<dt>Parsing the Presentation Stream</dt>
<dd>
<p><em>Parsing</em> is the inverse process of <a href="#presentation-stream">presentation</a>, it takes a <a href="#streams">stream</a> of<br/>
characters and produces a <a href="#serialization-tree">serialization tree</a>.<br/>
Parsing discards all the <a href="#presenting-the-serialization-tree">details</a> introduced in the <a href="#presentation-stream">presentation</a> process,<br/>
reporting only the <a href="#serialization-tree">serialization tree</a>.<br/>
Parsing can fail due to <a href="#well-formed-streams-and-identified-aliases">ill-formed</a> input.</p>
</dd>
</dl>
<div id="composing-the-representation-graph"></div>
<dl>
<dt>Composing the Representation Graph</dt>
<dd>
<p><em>Composing</em> takes a <a href="#serialization-tree">serialization tree</a> and produces a <a href="#representation-graph">representation graph</a>.<br/>
Composing discards all the <a href="#presenting-the-serialization-tree">details</a> introduced in the <a href="#serialization-tree">serialization</a> process,<br/>
producing only the <a href="#representation-graph">representation graph</a>.<br/>
Composing can fail due to any of several reasons, detailed <a href="#loading-failure-points">below</a>.</p>
</dd>
</dl>
<div id="constructing-native-data-structures"></div>
<dl>
<dt>Constructing Native Data Structures</dt>
<dd>
<p>The final input process is <em>constructing</em> <a href="#representing-native-data-structures">native data structures</a> from the<br/>
YAML <a href="#representation-graph">representation</a>.<br/>
Construction must be based only on the information available in the<br/>
<a href="#representation-graph">representation</a> and not on additional <a href="#serialization-tree">serialization</a> or <a href="#presenting-the-serialization-tree">presentation<br/>
details</a> such as <a href="#comments">comments</a>, <a href="#directives">directives</a>, <a href="#mapping">mapping key order</a>, <a href="#node-styles">node styles</a>,<br/>
<a href="#scalar-formats">scalar content format</a>, <a href="#indentation-spaces">indentation</a> levels etc.<br/>
Construction can fail due to the <a href="#available-tags">unavailability</a> of the required <a href="#representing-native-data-structures">native data<br/>
types</a>.</p>
</dd>
</dl>
</section></section><section data-section-number="4"><h1 id="chapter--information-models">Chapter 4. Information Models</h1>
<p>This section specifies the formal details of the results of the above<br/>
processes.<br/>
To maximize data portability between programming languages and implementations,<br/>
users of YAML should be mindful of the distinction between <a href="#serialization-tree">serialization</a> or<br/>
<a href="#presentation-stream">presentation</a> properties and those which are part of the YAML<br/>
<a href="#representation-graph">representation</a>.<br/>
Thus, while imposing a <a href="#mapping-key-order">order</a> on <a href="#nodes">mapping keys</a> is necessary for flattening<br/>
YAML <a href="#representation-graph">representations</a> to a sequential access medium, this <a href="#serializing-the-representation-graph">serialization<br/>
detail</a> must not be used to convey <a href="#processes-and-models">application</a> level information.<br/>
In a similar manner, while <a href="#indentation-spaces">indentation</a> technique and a choice of a <a href="#node-styles">node<br/>
style</a> are needed for the human readability, these <a href="#presenting-the-serialization-tree">presentation details</a> are<br/>
neither part of the YAML <a href="#serialization-tree">serialization</a> nor the YAML <a href="#representation-graph">representation</a>.<br/>
By carefully separating properties needed for <a href="#serialization-tree">serialization</a> and<br/>
<a href="#presentation-stream">presentation</a>, YAML <a href="#representation-graph">representations</a> of <a href="#processes-and-models">application</a> information will be<br/>
consistent and portable between various programming environments.</p>
<p>The following diagram summarizes the three <em>information models</em>.<br/>
Full arrows denote composition, hollow arrows denote inheritance, “<code>1</code>” and<br/>
“<code>*</code>” denote “one” and “many” relationships.<br/>
A single “<code>+</code>” denotes <a href="#serialization-tree">serialization</a> details, a double “<code>++</code>” denotes<br/>
<a href="#presentation-stream">presentation</a> details.</p>
<p><strong>Figure 4.1. Information Models</strong></p>
<p><img alt="Information Models" src="img/model2.svg"/></p>
<section data-section-number="1"><h2 id="-representation-graph">4.1. Representation Graph</h2>
<p>YAML’s <em>representation</em> of <a href="#representing-native-data-structures">native data structure</a> is a rooted, connected,<br/>
directed graph of <a href="#tags">tagged</a> <a href="#nodes">nodes</a>.<br/>
By “directed graph” we mean a set of <a href="#nodes">nodes</a> and directed edges (“arrows”),<br/>
where each edge connects one <a href="#nodes">node</a> to another (see a formal directed graph<br/>
definition<sup id="fnref:digraph" role="doc-noteref"><a class="footnote" href="#fn:digraph" rel="footnote">12</a></sup>).<br/>
All the <a href="#nodes">nodes</a> must be reachable from the <em>root node</em> via such edges.<br/>
Note that the YAML graph may include cycles and a <a href="#nodes">node</a> may have more than one<br/>
incoming edge.</p>
<p><a href="#nodes">Nodes</a> that are defined in terms of other <a href="#nodes">nodes</a> are <a href="#collections">collections</a>; <a href="#nodes">nodes</a><br/>
that are independent of any other <a href="#nodes">nodes</a> are <a href="#scalars">scalars</a>.<br/>
YAML supports two <a href="#nodes">kinds</a> of <a href="#mapping">collection nodes</a>: <a href="#sequence">sequences</a> and <a href="#mapping">mappings</a>.<br/>
<a href="#mapping">Mapping nodes</a> are somewhat tricky because their <a href="#nodes">keys</a> are unordered and must<br/>
be <a href="#node-comparison">unique</a>.</p>
<p><strong>Figure 4.2. Representation Model</strong></p>
<p><img alt="Representation Model" src="img/represent2.svg"/></p>
<section data-section-number="1"><h3 id="-nodes">4.1.1. Nodes</h3>
<p>A YAML <em>node</em> <a href="#representation-graph">represents</a> a single <a href="#representing-native-data-structures">native data structure</a>.<br/>
Such nodes have <em>content</em> of one of three <em>kinds</em>: scalar, sequence or mapping.<br/>
In addition, each node has a <a href="#tags">tag</a> which serves to restrict the set of possible<br/>
values the content can have.</p>
<div id="scalar"></div>
<dl>
<dt>Scalar</dt>
<dd>
<p>The content of a <em>scalar</em> node is an opaque datum that can be <a href="#presenting-the-serialization-tree">presented</a> as a<br/>
series of zero or more Unicode characters.</p>
</dd>
</dl>
<div id="sequence"></div>
<dl>
<dt>Sequence</dt>
<dd>
<p>The content of a <em>sequence</em> node is an ordered series of zero or more nodes.<br/>
In particular, a sequence may contain the same node more than once.<br/>
It could even contain itself.</p>
</dd>
</dl>
<div id="mapping"></div>
<dl>
<dt>Mapping</dt>
<dd>
<p>The content of a <em>mapping</em> node is an unordered set of <em>key/value</em> node<br/>
<em>pairs</em>, with the restriction that each of the keys is <a href="#node-comparison">unique</a>.<br/>
YAML places no further restrictions on the nodes.<br/>
In particular, keys may be arbitrary nodes, the same node may be used as the<br/>
value of several key/value pairs and a mapping could even contain itself as a<br/>
key or a value.</p>
</dd>
</dl>
</section><section data-section-number="2"><h3 id="-tags-1">4.1.2. Tags</h3>
<p>YAML <a href="#representation-graph">represents</a> type information of <a href="#representing-native-data-structures">native data structures</a> with a simple<br/>
identifier, called a <em>tag</em>.<br/>
<em>Global tags</em> are URIs and hence globally unique across all <a href="#processes-and-models">applications</a>.<br/>
The “<code>tag:</code>” URI scheme<sup id="fnref:tag-uri" role="doc-noteref"><a class="footnote" href="#fn:tag-uri" rel="footnote">13</a></sup> is recommended for all global YAML tags.<br/>
In contrast, <em>local tags</em> are specific to a single <a href="#processes-and-models">application</a>.<br/>
Local tags start with “<code>!</code>”, are not URIs and are not expected to be globally<br/>
unique.<br/>
YAML provides a “<code>TAG</code>” directive to make tag notation less verbose; it also<br/>
offers easy migration from local to global tags.<br/>
To ensure this, local tags are restricted to the URI character set and use URI<br/>
character <a href="#escaped-characters">escaping</a>.</p>
<p>YAML does not mandate any special relationship between different tags that<br/>
begin with the same substring.<br/>
Tags ending with URI fragments (containing “<code>#</code>”) are no exception; tags that<br/>
share the same base URI but differ in their fragment part are considered to be<br/>
different, independent tags.<br/>
By convention, fragments are used to identify different “variants” of a tag,<br/>
while “<code>/</code>” is used to define nested tag “namespace” hierarchies.<br/>
However, this is merely a convention and each tag may employ its own rules.<br/>
For example, Perl tags may use “<code>::</code>” to express namespace hierarchies, Java<br/>
tags may use “<code>.</code>”, etc.</p>
<p>YAML tags are used to associate meta information with each <a href="#nodes">node</a>.<br/>
In particular, each tag must specify the expected <a href="#nodes">node kind</a> (<a href="#scalar">scalar</a>,<br/>
<a href="#sequence">sequence</a> or <a href="#mapping">mapping</a>).<br/>
<a href="#scalar">Scalar</a> tags must also provide a mechanism for converting <a href="#scalar-formats">formatted content</a><br/>
to a <a href="#canonical-form">canonical form</a> for supporting <a href="#equality">equality</a> testing.<br/>
Furthermore, a tag may provide additional information such as the set of<br/>
allowed <a href="#nodes">content</a> values for validation, a mechanism for <a href="#tag-resolution">tag resolution</a> or<br/>
any other data that is applicable to all of the tag’s <a href="#nodes">nodes</a>.</p>
</section><section data-section-number="3"><h3 id="-node-comparison">4.1.3. Node Comparison</h3>
<p>Since YAML <a href="#mapping">mappings</a> require <a href="#nodes">key</a> uniqueness, <a href="#representation-graph">representations</a> must include<br/>
a mechanism for testing the equality of <a href="#nodes">nodes</a>.<br/>
This is non-trivial since YAML allows various ways to <a href="#scalar-formats">format scalar content</a>.<br/>
For example, the integer eleven can be written as “<code>0o13</code>” (octal) or “<code>0xB</code>”<br/>
(hexadecimal).<br/>
If both notations are used as <a href="#nodes">keys</a> in the same <a href="#mapping">mapping</a>, only a YAML<br/>
<a href="#processes-and-models">processor</a> which recognizes integer <a href="#scalar-formats">formats</a> would correctly flag the<br/>
duplicate <a href="#nodes">key</a> as an error.</p>
<div id="canonical-form"></div>
<dl>
<dt>Canonical Form</dt>
<dd>
<p>YAML supports the need for <a href="#scalar">scalar</a> equality by requiring that every <a href="#scalar">scalar</a><br/>
<a href="#tags">tag</a> must specify a mechanism for producing the <em>canonical form</em> of any<br/>
<a href="#scalar-formats">formatted content</a>.<br/>
This form is a Unicode character string which also <a href="#presenting-the-serialization-tree">presents</a> the same<br/>
<a href="#nodes">content</a> and can be used for equality testing.</p>
</dd>
</dl>
<div id="equality"></div>
<dl>
<dt>Equality</dt>
<dd>
<p>Two <a href="#nodes">nodes</a> must have the same <a href="#tags">tag</a> and <a href="#nodes">content</a> to be <em>equal</em>.<br/>
Since each <a href="#tags">tag</a> applies to exactly one <a href="#nodes">kind</a>, this implies that the two<br/>
<a href="#nodes">nodes</a> must have the same <a href="#nodes">kind</a> to be equal.</p>
</dd>
<dd>
<p>Two <a href="#scalars">scalars</a> are equal only when their <a href="#tags">tags</a> and canonical forms are equal<br/>
character-by-character.<br/>
Equality of <a href="#collections">collections</a> is defined recursively.</p>
</dd>
<dd>
<p>Two <a href="#sequence">sequences</a> are equal only when they have the same <a href="#tags">tag</a> and length and<br/>
each <a href="#nodes">node</a> in one <a href="#sequence">sequence</a> is equal to the corresponding <a href="#nodes">node</a> in the other<br/>
<a href="#sequence">sequence</a>.</p>
</dd>
<dd>
<p>Two <a href="#mapping">mappings</a> are equal only when they have the same <a href="#tags">tag</a> and an equal set of<br/>
<a href="#nodes">keys</a> and each <a href="#nodes">key</a> in this set is associated with equal <a href="#nodes">values</a> in both<br/>
<a href="#mapping">mappings</a>.</p>
</dd>
<dd>
<p>Different URI schemes may define different rules for testing the equality of<br/>
URIs.<br/>
Since a YAML <a href="#processes-and-models">processor</a> cannot be reasonably expected to be aware of them all,<br/>
it must resort to a simple character-by-character comparison of <a href="#tags">tags</a> to<br/>
ensure consistency.<br/>
This also happens to be the comparison method defined by the “<code>tag:</code>” URI<br/>
scheme.<br/>
<a href="#tags">Tags</a> in a YAML stream must therefore be <a href="#presenting-the-serialization-tree">presented</a> in a canonical way so<br/>
that such comparison would yield the correct results.</p>
</dd>
<dd>
<p>If a node has itself as a descendant (via an alias), then determining the<br/>
equality of that node is implementation-defined.</p>
</dd>
<dd>
<p>A YAML <a href="#processes-and-models">processor</a> may treat equal <a href="#scalars">scalars</a> as if they were identical.</p>
</dd>
</dl>
<div id="uniqueness"></div>
<dl>
<dt>Uniqueness</dt>
<dd>
<p>A <a href="#mapping">mapping’s</a> <a href="#nodes">keys</a> are <em>unique</em> if no two keys are equal to each other.<br/>
Obviously, identical nodes are always considered equal.</p>
</dd>
</dl>
</section></section><section data-section-number="2"><h2 id="-serialization-tree">4.2. Serialization Tree</h2>
<p>To express a YAML <a href="#representation-graph">representation</a> using a serial API, it is necessary to<br/>
impose an <a href="#mapping-key-order">order</a> on <a href="#nodes">mapping keys</a> and employ <a href="#alias-nodes">alias nodes</a> to indicate a<br/>
subsequent occurrence of a previously encountered <a href="#nodes">node</a>.<br/>
The result of this process is a <em>serialization tree</em>, where each <a href="#nodes">node</a> has an<br/>
ordered set of children.<br/>
This tree can be traversed for a serial event-based API.<br/>
<a href="#constructing-native-data-structures">Construction</a> of <a href="#representing-native-data-structures">native data structures</a> from the serial interface should not<br/>
use <a href="#mapping-key-order">key order</a> or <a href="#anchors-and-aliases">anchor names</a> for the preservation of <a href="#processes-and-models">application</a> data.</p>
<p><strong>Figure 4.3. Serialization Model</strong></p>
<p><img alt="Serialization Model" src="img/serialize2.svg"/></p>
<section data-section-number="1"><h3 id="-mapping-key-order">4.2.1. Mapping Key Order</h3>
<p>In the <a href="#representation-graph">representation</a> model, <a href="#nodes">mapping keys</a> do not have an order.<br/>
To <a href="#serializing-the-representation-graph">serialize</a> a <a href="#mapping">mapping</a>, it is necessary to impose an <em>ordering</em> on its<br/>
<a href="#nodes">keys</a>.<br/>
This order is a <a href="#serializing-the-representation-graph">serialization detail</a> and should not be used when <a href="#composing-the-representation-graph">composing</a><br/>
the <a href="#representation-graph">representation graph</a> (and hence for the preservation of <a href="#processes-and-models">application</a><br/>
data).<br/>
In every case where <a href="#nodes">node</a> order is significant, a <a href="#sequence">sequence</a> must be used.<br/>
For example, an ordered <a href="#mapping">mapping</a> can be <a href="#representation-graph">represented</a> as a <a href="#sequence">sequence</a> of<br/>
<a href="#mapping">mappings</a>, where each <a href="#mapping">mapping</a> is a single <a href="#mapping">key/value pair</a>.<br/>
YAML provides convenient <a href="#example-flow-mapping-adjacent-values">compact notation</a> for this case.</p>
</section><section data-section-number="2"><h3 id="-anchors-and-aliases">4.2.2. Anchors and Aliases</h3>
<p>In the <a href="#representation-graph">representation graph</a>, a <a href="#nodes">node</a> may appear in more than one<br/>
<a href="#collections">collection</a>.<br/>
When <a href="#serializing-the-representation-graph">serializing</a> such data, the first occurrence of the <a href="#nodes">node</a> is<br/>
<em>identified</em> by an <em>anchor</em>.<br/>
Each subsequent occurrence is <a href="#serializing-the-representation-graph">serialized</a> as an <a href="#alias-nodes">alias node</a> which refers back<br/>
to this anchor.<br/>
Otherwise, anchor names are a <a href="#serializing-the-representation-graph">serialization detail</a> and are discarded once<br/>
<a href="#composing-the-representation-graph">composing</a> is completed.<br/>
When <a href="#composing-the-representation-graph">composing</a> a <a href="#representation-graph">representation graph</a> from <a href="#serializing-the-representation-graph">serialized</a> events, an alias<br/>
event refers to the most recent event in the <a href="#serialization-tree">serialization</a> having the<br/>
specified anchor.<br/>
Therefore, anchors need not be unique within a <a href="#serialization-tree">serialization</a>.<br/>
In addition, an anchor need not have an alias node referring to it.</p>
</section></section><section data-section-number="3"><h2 id="-presentation-stream">4.3. Presentation Stream</h2>
<p>A YAML <em>presentation</em> is a <a href="#streams">stream</a> of Unicode characters making use of<br/>
<a href="#node-styles">styles</a>, <a href="#scalar-formats">scalar content formats</a>, <a href="#comments">comments</a>, <a href="#directives">directives</a> and other<br/>
<a href="#presenting-the-serialization-tree">presentation details</a> to <a href="#presenting-the-serialization-tree">present</a> a YAML <a href="#serialization-tree">serialization</a> in a human readable<br/>
way.<br/>
YAML allows several <a href="#serialization-tree">serialization trees</a> to be contained in the same YAML<br/>
presentation stream, as a series of <a href="#documents">documents</a> separated by <a href="#document-markers">markers</a>.</p>
<p><strong>Figure 4.4. Presentation Model</strong></p>
<p><img alt="Presentation Model" src="img/present2.svg"/></p>
<section data-section-number="1"><h3 id="-node-styles">4.3.1. Node Styles</h3>
<p>Each <a href="#nodes">node</a> is presented in some <em>style</em>, depending on its <a href="#nodes">kind</a>.<br/>
The node style is a <a href="#presenting-the-serialization-tree">presentation detail</a> and is not reflected in the<br/>
<a href="#serialization-tree">serialization tree</a> or <a href="#representation-graph">representation graph</a>.<br/>
There are two groups of styles.<br/>
<a href="#block-style-productions">Block styles</a> use <a href="#indentation-spaces">indentation</a> to denote structure.<br/>
In contrast, <a href="#flow-style-productions">flow styles</a> rely on explicit <a href="#indicator-characters">indicators</a>.</p>
<p>YAML provides a rich set of <em>scalar styles</em>.<br/>
<a href="#block-scalar-styles">Block scalar</a> styles include the <a href="#literal-style">literal style</a> and the <a href="#folded-style">folded style</a>.<br/>
<a href="#flow-scalar-styles">Flow scalar</a> styles include the <a href="#plain-style">plain style</a> and two quoted styles, the<br/>
<a href="#single-quoted-style">single-quoted style</a> and the <a href="#double-quoted-style">double-quoted style</a>.<br/>
These styles offer a range of trade-offs between expressive power and<br/>
readability.</p>
<p>Normally, <a href="#block-sequences">block sequences</a> and <a href="#mapping">mappings</a> begin on the next line.<br/>
In some cases, YAML also allows nested <a href="#scalars">block</a> <a href="#collections">collections</a> to start in-line<br/>
for a more <a href="#example-flow-mapping-adjacent-values">compact notation</a>.<br/>
In addition, YAML provides a <a href="#example-flow-mapping-adjacent-values">compact notation</a> for <a href="#flow-mappings">flow mappings</a> with a<br/>
single <a href="#mapping">key/value pair</a>, nested inside a <a href="#flow-sequences">flow sequence</a>.<br/>
These allow for a natural “ordered mapping” notation.</p>
<p><strong>Figure 4.5. Kind/Style Combinations</strong></p>
<p><img alt="Kind/Style Combinations" src="img/styles2.svg"/></p>
</section><section data-section-number="2"><h3 id="-scalar-formats">4.3.2. Scalar Formats</h3>
<p>YAML allows <a href="#scalars">scalars</a> to be <a href="#presenting-the-serialization-tree">presented</a> in several <em>formats</em>.<br/>
For example, the integer “<code>11</code>” might also be written as “<code>0xB</code>”.<br/>
<a href="#tags">Tags</a> must specify a mechanism for converting the formatted content to a<br/>
<a href="#canonical-form">canonical form</a> for use in <a href="#equality">equality</a> testing.<br/>
Like <a href="#node-styles">node style</a>, the format is a <a href="#presenting-the-serialization-tree">presentation detail</a> and is not reflected<br/>
in the <a href="#serialization-tree">serialization tree</a> and <a href="#representation-graph">representation graph</a>.</p>
</section><section data-section-number="3"><h3 id="-comments">4.3.3. Comments</h3>
<p><a href="#comments">Comments</a> are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not have any effect on the<br/>
<a href="#serialization-tree">serialization tree</a> or <a href="#representation-graph">representation graph</a>.<br/>
In particular, comments are not associated with a particular <a href="#nodes">node</a>.<br/>
The usual purpose of a comment is to communicate between the human maintainers<br/>
of a file.<br/>
A typical example is comments in a configuration file.<br/>
Comments must not appear inside <a href="#scalars">scalars</a>, but may be interleaved with such<br/>
<a href="#scalars">scalars</a> inside <a href="#collections">collections</a>.</p>
</section><section data-section-number="4"><h3 id="-directives">4.3.4. Directives</h3>
<p>Each <a href="#documents">document</a> may be associated with a set of <a href="#directives">directives</a>.<br/>
A directive has a name and an optional sequence of parameters.<br/>
Directives are instructions to the YAML <a href="#processes-and-models">processor</a> and like all other<br/>
<a href="#presenting-the-serialization-tree">presentation details</a> are not reflected in the YAML <a href="#serialization-tree">serialization tree</a> or<br/>
<a href="#representation-graph">representation graph</a>.<br/>
This version of YAML defines two directives, “<code>YAML</code>” and “<code>TAG</code>”.<br/>
All other directives are <a href="#directives">reserved</a> for future versions of YAML.</p>
</section></section></section><section data-section-number="5"><h1 id="chapter--loading-failure-points">Chapter 5. Loading Failure Points</h1>
<p>The process of <a href="#load">loading</a> <a href="#representing-native-data-structures">native data structures</a> from a YAML <a href="#streams">stream</a> has<br/>
several potential <em>failure points</em>.<br/>
The character <a href="#streams">stream</a> may be <a href="#well-formed-streams-and-identified-aliases">ill-formed</a>, <a href="#anchors-and-aliases">aliases</a> may be <a href="#well-formed-streams-and-identified-aliases">unidentified</a>,<br/>
<a href="#resolved-tags">unspecified tags</a> may be <a href="#resolved-tags">unresolvable</a>, <a href="#tags">tags</a> may be <a href="#recognized-and-valid-tags">unrecognized</a>, the<br/>
<a href="#nodes">content</a> may be <a href="#recognized-and-valid-tags">invalid</a>, <a href="#mapping">mapping</a> <a href="#nodes">keys</a> may not be <a href="#node-comparison">unique</a> and a native<br/>
type may be <a href="#available-tags">unavailable</a>.<br/>
Each of these failures results with an incomplete loading.</p>
<p>A <em>partial representation</em> need not <a href="#resolved-tags">resolve</a> the <a href="#tags">tag</a> of each <a href="#nodes">node</a> and the<br/>
<a href="#canonical-form">canonical form</a> of <a href="#scalar-formats">formatted scalar content</a> need not be available.<br/>
This weaker representation is useful for cases of incomplete knowledge of the<br/>
types used in the <a href="#documents">document</a>.</p>
<p>In contrast, a <em>complete representation</em> specifies the <a href="#tags">tag</a> of each <a href="#nodes">node</a> and<br/>
provides the <a href="#canonical-form">canonical form</a> of <a href="#scalar-formats">formatted scalar content</a>, allowing for<br/>
<a href="#equality">equality</a> testing.<br/>
A complete representation is required in order to <a href="#constructing-native-data-structures">construct</a> <a href="#representing-native-data-structures">native data<br/>
structures</a>.</p>
<p><strong>Figure 5.1. Loading Failure Points</strong></p>
<p><img alt="Loading Failure Points" src="img/validity2.svg"/></p>
<section data-section-number="1"><h2 id="-well-formed-streams-and-identified-aliases">5.1. Well-Formed Streams and Identified Aliases</h2>
<p>A <a href="#example-stream">well-formed</a> character <a href="#streams">stream</a> must match the BNF productions specified in<br/>
the following chapters.<br/>
Successful loading also requires that each <a href="#anchors-and-aliases">alias</a> shall refer to a previous<br/>
<a href="#nodes">node</a> <a href="#anchors-and-aliases">identified</a> by the <a href="#anchors-and-aliases">anchor</a>.<br/>
A YAML <a href="#processes-and-models">processor</a> should reject <em>ill-formed streams</em> and <em>unidentified<br/>
aliases</em>.<br/>
A YAML <a href="#processes-and-models">processor</a> may recover from syntax errors, possibly by ignoring certain<br/>
parts of the input, but it must provide a mechanism for reporting such errors.</p>
</section><section data-section-number="2"><h2 id="-resolved-tags">5.2. Resolved Tags</h2>
<p>Typically, most <a href="#tags">tags</a> are not explicitly specified in the character <a href="#streams">stream</a>.<br/>
During <a href="#parsing-the-presentation-stream">parsing</a>, <a href="#nodes">nodes</a> lacking an explicit <a href="#tags">tag</a> are given a <em>non-specific<br/>
tag</em>: “<code>!</code>” for non-<a href="#plain-style">plain scalars</a> and “<code>?</code>” for all other <a href="#nodes">nodes</a>.<br/>
<a href="#composing-the-representation-graph">Composing</a> a <a href="#loading-failure-points">complete representation</a> requires each such non-specific tag to<br/>
be <em>resolved</em> to a <em>specific tag</em>, be it a <a href="#tags">global tag</a> or a <a href="#tags">local tag</a>.</p>
<p>Resolving the <a href="#tags">tag</a> of a <a href="#nodes">node</a> must only depend on the following three<br/>
parameters: (1) the non-specific tag of the <a href="#nodes">node</a>, (2) the path leading from<br/>
the <a href="#representation-graph">root</a> to the <a href="#nodes">node</a> and (3) the <a href="#nodes">content</a> (and hence the <a href="#nodes">kind</a>) of the<br/>
<a href="#nodes">node</a>.<br/>
When a <a href="#nodes">node</a> has more than one occurrence (using <a href="#anchors-and-aliases">aliases</a>), tag resolution<br/>
must depend only on the path to the first (<a href="#anchors-and-aliases">anchored</a>) occurrence of the<br/>
<a href="#nodes">node</a>.</p>
<p>Note that resolution must not consider <a href="#presenting-the-serialization-tree">presentation details</a> such as<br/>
<a href="#comments">comments</a>, <a href="#indentation-spaces">indentation</a> and <a href="#node-styles">node style</a>.<br/>
Also, resolution must not consider the <a href="#nodes">content</a> of any other <a href="#nodes">node</a>, except<br/>
for the <a href="#nodes">content</a> of the <a href="#mapping">key nodes</a> directly along the path leading from the<br/>
<a href="#representation-graph">root</a> to the resolved <a href="#nodes">node</a>.<br/>
Finally, resolution must not consider the <a href="#nodes">content</a> of a sibling <a href="#nodes">node</a> in a<br/>
<a href="#collections">collection</a> or the <a href="#nodes">content</a> of the <a href="#nodes">value node</a> associated with a <a href="#mapping">key node</a><br/>
being resolved.</p>
<p>These rules ensure that tag resolution can be performed as soon as a <a href="#nodes">node</a> is<br/>
first encountered in the <a href="#streams">stream</a>, typically before its <a href="#nodes">content</a> is <a href="#parsing-the-presentation-stream">parsed</a>.<br/>
Also, tag resolution only requires referring to a relatively small number of<br/>
previously parsed <a href="#nodes">nodes</a>.<br/>
Thus, in most cases, tag resolution in one-pass <a href="#processes-and-models">processors</a> is both possible<br/>
and practical.</p>
<p>YAML <a href="#processes-and-models">processors</a> should resolve <a href="#nodes">nodes</a> having the “<code>!</code>” non-specific tag as<br/>
“<code>tag:yaml.org,2002:seq</code>”, “<code>tag:yaml.org,2002:map</code>” or<br/>
“<code>tag:yaml.org,2002:str</code>” depending on their <a href="#nodes">kind</a>.<br/>
This <em>tag resolution convention</em> allows the author of a YAML character <a href="#streams">stream</a><br/>
to effectively “disable” the tag resolution process.<br/>
By explicitly specifying a “<code>!</code>” non-specific <a href="#node-tags">tag property</a>, the <a href="#nodes">node</a> would<br/>
then be resolved to a “vanilla” <a href="#sequence">sequence</a>, <a href="#mapping">mapping</a> or string, according to<br/>
its <a href="#nodes">kind</a>.</p>
<p><a href="#processes-and-models">Application</a> specific tag resolution rules should be restricted to resolving<br/>
the “<code>?</code>” non-specific tag, most commonly to resolving <a href="#plain-style">plain scalars</a>.<br/>
These may be matched against a set of regular expressions to provide automatic<br/>
resolution of integers, floats, timestamps and similar types.<br/>
An <a href="#processes-and-models">application</a> may also match the <a href="#nodes">content</a> of <a href="#mapping">mapping nodes</a> against sets<br/>
of expected <a href="#nodes">keys</a> to automatically resolve points, complex numbers and similar<br/>
types.<br/>
Resolved <a href="#sequence">sequence node</a> types such as the “ordered mapping” are also possible.</p>
<p>That said, tag resolution is specific to the <a href="#processes-and-models">application</a>.<br/>
YAML <a href="#processes-and-models">processors</a> should therefore provide a mechanism allowing the<br/>
<a href="#processes-and-models">application</a> to override and expand these default tag resolution rules.</p>
<p>If a <a href="#documents">document</a> contains <em>unresolved tags</em>, the YAML <a href="#processes-and-models">processor</a> is unable to<br/>
<a href="#composing-the-representation-graph">compose</a> a <a href="#loading-failure-points">complete representation</a> graph.<br/>
In such a case, the YAML <a href="#processes-and-models">processor</a> may <a href="#composing-the-representation-graph">compose</a> a <a href="#loading-failure-points">partial representation</a>,<br/>
based on each <a href="#nodes">node’s kind</a> and allowing for non-specific tags.</p>
</section><section data-section-number="3"><h2 id="-recognized-and-valid-tags">5.3. Recognized and Valid Tags</h2>
<p>To be <em>valid</em>, a <a href="#nodes">node</a> must have a <a href="#tags">tag</a> which is <em>recognized</em> by the YAML<br/>
<a href="#processes-and-models">processor</a> and its <a href="#nodes">content</a> must satisfy the constraints imposed by this<br/>
<a href="#tags">tag</a>.<br/>
If a <a href="#documents">document</a> contains a <a href="#nodes">scalar node</a> with an <em>unrecognized tag</em> or <em>invalid<br/>
content</em>, only a <a href="#loading-failure-points">partial representation</a> may be <a href="#composing-the-representation-graph">composed</a>.<br/>
In contrast, a YAML <a href="#processes-and-models">processor</a> can always <a href="#composing-the-representation-graph">compose</a> a <a href="#loading-failure-points">complete<br/>
representation</a> for an unrecognized or an invalid <a href="#collections">collection</a>, since<br/>
<a href="#collections">collection</a> <a href="#equality">equality</a> does not depend upon knowledge of the <a href="#mapping">collection’s</a><br/>
data type.<br/>
However, such a <a href="#loading-failure-points">complete representation</a> cannot be used to <a href="#constructing-native-data-structures">construct</a> a<br/>
<a href="#representing-native-data-structures">native data structure</a>.</p>
</section><section data-section-number="4"><h2 id="-available-tags">5.4. Available Tags</h2>
<p>In a given processing environment, there need not be an <em>available</em> native type<br/>
corresponding to a given <a href="#tags">tag</a>.<br/>
If a <a href="#tags">node’s tag</a> is <em>unavailable</em>, a YAML <a href="#processes-and-models">processor</a> will not be able to<br/>
<a href="#constructing-native-data-structures">construct</a> a <a href="#representing-native-data-structures">native data structure</a> for it.<br/>
In this case, a <a href="#loading-failure-points">complete representation</a> may still be <a href="#composing-the-representation-graph">composed</a> and an<br/>
<a href="#processes-and-models">application</a> may wish to use this <a href="#representation-graph">representation</a> directly.</p>
</section></section><section data-section-number="6"><h1 id="chapter--character-productions">Chapter 6. Character Productions</h1>
<section data-section-number="1"><h2 id="-character-set">6.1. Character Set</h2>
<p>To ensure readability, YAML <a href="#streams">streams</a> use only the <em>printable</em> subset of the<br/>
Unicode character set.<br/>
The allowed character range explicitly excludes the C0 control block<sup id="fnref:c0-block" role="doc-noteref"><a class="footnote" href="#fn:c0-block" rel="footnote">14</a></sup><br/>
<code>x00-x1F</code> (except for TAB <code>x09</code>, LF <code>x0A</code> and CR <code>x0D</code> which are allowed), DEL<br/>
<code>x7F</code>, the C1 control block <code>x80-x9F</code> (except for NEL <code>x85</code> which is allowed),<br/>
the surrogate block<sup id="fnref:surrogates" role="doc-noteref"><a class="footnote" href="#fn:surrogates" rel="footnote">15</a></sup> <code>xD800-xDFFF</code>, <code>xFFFE</code> and <code>xFFFF</code>.</p>
<p>On input, a YAML <a href="#processes-and-models">processor</a> must accept all characters in this printable<br/>
subset.</p>
<p>On output, a YAML <a href="#processes-and-models">processor</a> must only produce only characters in this<br/>
printable subset.<br/>
<sup class="rule-link"><a href="#rule-yaml-character">?</a></sup><br/>
Characters outside this set must be <a href="#presenting-the-serialization-tree">presented</a> using <a href="#escaped-characters">escape</a> sequences.<br/>
In addition, any allowed characters known to be non-printable should also be<br/>
<a href="#escaped-characters">escaped</a>.</p>
<blockquote>
<p>Note: This isn’t mandatory since a full implementation would require<br/>
extensive character property tables.</p>
</blockquote>
<p>To ensure <a href="#yaml-directives">JSON compatibility</a>, YAML <a href="#processes-and-models">processors</a> must allow all non-C0<br/>
characters inside <a href="#double-quoted-style">quoted scalars</a>.<br/>
<sup class="rule-link"><a href="#rule-json-character">?</a></sup><br/>
To ensure readability, non-printable characters should be <a href="#escaped-characters">escaped</a> on output,<br/>
even inside such <a href="#scalars">scalars</a>.</p>
<blockquote>
<p>Note: JSON <a href="#double-quoted-style">quoted scalars</a> cannot span multiple lines or contain <a href="#white-space-characters">tabs</a>, but<br/>
YAML <a href="#double-quoted-style">quoted scalars</a> can.</p>
</blockquote>
</section><section data-section-number="2"><h2 id="-character-encodings">6.2. Character Encodings</h2>
<p>All characters mentioned in this specification are Unicode code points.<br/>
Each such code point is written as one or more bytes depending on the<br/>
<em>character encoding</em> used.<br/>
Note that in UTF-16, characters above <code>xFFFF</code> are written as four bytes, using<br/>
a surrogate pair.</p>
<p>The character encoding is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to<br/>
convey <a href="#nodes">content</a> information.</p>
<p>On input, a YAML <a href="#processes-and-models">processor</a> must support the UTF-8 and UTF-16 character<br/>
encodings.<br/>
For <a href="#yaml-directives">JSON compatibility</a>, the UTF-32 encodings must also be supported.</p>
<p>If a character <a href="#streams">stream</a> begins with a <em>byte order mark</em>, the character encoding<br/>
will be taken to be as indicated by the byte order mark.<br/>
Otherwise, the <a href="#streams">stream</a> must begin with an ASCII character.<br/>
This allows the encoding to be deduced by the pattern of null (<code>x00</code>)<br/>
characters.</p>
<p>Byte order marks may appear at the start of any <a href="#documents">document</a>, however all<br/>
<a href="#documents">documents</a> in the same <a href="#streams">stream</a> must use the same character encoding.</p>
<p>To allow for <a href="#yaml-directives">JSON compatibility</a>, byte order marks are also allowed inside<br/>
<a href="#double-quoted-style">quoted scalars</a>.<br/>
For readability, such <a href="#nodes">content</a> byte order marks should be <a href="#escaped-characters">escaped</a> on output.</p>
<p>The encoding can therefore be deduced by matching the first few bytes of the<br/>
<a href="#streams">stream</a> with the following table rows (in order):</p>
<table>
<thead>
<tr>
<th> </th>
<th>Byte0</th>
<th>Byte1</th>
<th>Byte2</th>
<th>Byte3</th>
<th>Encoding</th>
</tr>
</thead>
<tbody>
<tr>
<td>Explicit BOM</td>
<td>x00</td>
<td>x00</td>
<td>xFE</td>
<td>xFF</td>
<td>UTF-32BE</td>
</tr>
<tr>
<td>ASCII first character</td>
<td>x00</td>
<td>x00</td>
<td>x00</td>
<td>any</td>
<td>UTF-32BE</td>
</tr>
<tr>
<td>Explicit BOM</td>
<td>xFF</td>
<td>xFE</td>
<td>x00</td>
<td>x00</td>
<td>UTF-32LE</td>
</tr>
<tr>
<td>ASCII first character</td>
<td>any</td>
<td>x00</td>
<td>x00</td>
<td>x00</td>
<td>UTF-32LE</td>
</tr>
<tr>
<td>Explicit BOM</td>
<td>xFE</td>
<td>xFF</td>
<td> </td>
<td> </td>
<td>UTF-16BE</td>
</tr>
<tr>
<td>ASCII first character</td>
<td>x00</td>
<td>any</td>
<td> </td>
<td> </td>
<td>UTF-16BE</td>
</tr>
<tr>
<td>Explicit BOM</td>
<td>xFF</td>
<td>xFE</td>
<td> </td>
<td> </td>
<td>UTF-16LE</td>
</tr>
<tr>
<td>ASCII first character</td>
<td>any</td>
<td>x00</td>
<td> </td>
<td> </td>
<td>UTF-16LE</td>
</tr>
<tr>
<td>Explicit BOM</td>
<td>xEF</td>
<td>xBB</td>
<td>xBF</td>
<td> </td>
<td>UTF-8</td>
</tr>
<tr>
<td>Default</td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td>UTF-8</td>
</tr>
</tbody>
</table>
<p>The recommended output encoding is UTF-8.<br/>
If another encoding is used, it is recommended that an explicit byte order mark<br/>
be used, even if the first <a href="#streams">stream</a> character is ASCII.</p>
<p>For more information about the byte order mark and the Unicode character<br/>
encoding schemes see the Unicode FAQ<sup id="fnref:uni-faq" role="doc-noteref"><a class="footnote" href="#fn:uni-faq" rel="footnote">16</a></sup>.</p>
<p>In the examples, byte order mark characters are displayed as “<code>⇔</code>”.</p>
<div class="example" id="example-byte-order-mark">
<p><strong>Example 6.1. Byte Order Mark</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">⇔</mark># Comment only.

</pre>
</td>
<td class="side-by-side">
<pre>
# This stream contains no
# documents, only comments.
</pre>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-byte-order-mark">byte-order-mark</a></code></li>
</ul>
</div>
</div>
<div class="example" id="example-invalid-byte-order-mark">
<p><strong>Example 6.2. Invalid Byte Order Mark</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
- Invalid use of BOM
<mark class="legend-1">⇔</mark>
- Inside a document.
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
 A <mark class="legend-1">BOM</mark> must not appear
 inside a document.
</pre>
</td>
</tr>
</table>
</div>
</section><section data-section-number="3"><h2 id="-indicator-characters">6.3. Indicator Characters</h2>
<p><em>Indicators</em> are characters that have special semantics.</p>
<p>”<code>-</code>” (<code>x2D</code>, hyphen) denotes a <a href="#block-sequences">block sequence</a> entry.</p>
<p>”<code>?</code>” (<code>x3F</code>, question mark) denotes a <a href="#nodes">mapping key</a>.</p>
<p>”<code>:</code>” (<code>x3A</code>, colon) denotes a <a href="#mapping">mapping value</a>.</p>
<div class="example" id="example-block-structure-indicators">
<p><strong>Example 6.3. Block Structure Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
sequence<mark class="legend-3">:</mark>
<mark class="legend-1">-</mark> one
<mark class="legend-1">-</mark> two
mapping<mark class="legend-3">:</mark>
  <mark class="legend-2">?</mark> sky
  <mark class="legend-3">:</mark> blue
  sea <mark class="legend-3">:</mark> green
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"mapping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sky"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">sequence entry indicator</code></li>
<li><code class="legend-2">mapping key</code></li>
<li><code class="legend-3">mapping value</code></li>
</ul>
</div>
</div>
<p>”<code>,</code>” (<code>x2C</code>, comma) ends a <a href="#flow-collection-styles">flow collection</a> entry.</p>
<p>”<code>[</code>” (<code>x5B</code>, left bracket) starts a <a href="#flow-sequences">flow sequence</a>.</p>
<p>”<code>]</code>” (<code>x5D</code>, right bracket) ends a <a href="#flow-sequences">flow sequence</a>.</p>
<p>”<code>{</code>” (<code>x7B</code>, left brace) starts a <a href="#flow-mappings">flow mapping</a>.</p>
<p>”<code>}</code>” (<code>x7D</code>, right brace) ends a <a href="#flow-mappings">flow mapping</a>.</p>
<div class="example" id="example-flow-collection-indicators">
<p><strong>Example 6.4. Flow Collection Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
sequence: <mark class="legend-1">[</mark> one<mark class="legend-3">,</mark> two<mark class="legend-3">,</mark> <mark class="legend-1">]</mark>
mapping: <mark class="legend-2">{</mark> sky: blue<mark class="legend-3">,</mark> sea: green <mark class="legend-2">}</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w"> </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"mapping"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"sky"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w"> </span><span class="nl">"sea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">sequence start, sequence end</code></li>
<li><code class="legend-2">mapping start, mapping end</code></li>
<li><code class="legend-3">collection entry</code></li>
</ul>
</div>
</div>
<p>”<code>#</code>” (<code>x23</code>, octothorpe, hash, sharp, pound, number sign) denotes a <a href="#comments">comment</a>.</p>
<div class="example" id="example-comment-indicator">
<p><strong>Example 6.5. Comment Indicator</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">#</mark> Comment only.

</pre>
</td>
<td class="side-by-side">
<pre>
# This stream contains no
# documents, only comments.
</pre>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">comment</code></li>
</ul>
</div>
</div>
<p>”<code>&amp;</code>” (<code>x26</code>, ampersand) denotes a <a href="#anchors-and-aliases">node’s anchor property</a>.</p>
<p>”<code>*</code>” (<code>x2A</code>, asterisk) denotes an <a href="#alias-nodes">alias node</a>.</p>
<p>The “<code>!</code>” (<code>x21</code>, exclamation) is used for specifying <a href="#node-tags">node tags</a>.<br/>
It is used to denote <a href="#tag-handles">tag handles</a> used in <a href="#tag-directives">tag directives</a> and <a href="#node-tags">tag<br/>
properties</a>; to denote <a href="#tags">local tags</a>; and as the <a href="#resolved-tags">non-specific tag</a> for<br/>
non-<a href="#plain-style">plain scalars</a>.</p>
<div class="example" id="example-node-property-indicators">
<p><strong>Example 6.6. Node Property Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
anchored: <mark class="legend-1">!</mark>local <mark class="legend-2">&amp;</mark>anchor value
alias: <mark class="legend-3">*</mark>anchor
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"anchored"</span><span class="p">:</span><span class="w"> </span><span class="err">!local</span><span class="w"> </span><span class="err">&amp;A</span><span class="mi">1</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="err">*A</span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">tag</code></li>
<li><code class="legend-2">anchor</code></li>
<li><code class="legend-3">alias</code></li>
</ul>
</div>
</div>
<p>”<code>|</code>” (<code>7C</code>, vertical bar) denotes a <a href="#literal-style">literal block scalar</a>.</p>
<p>”<code>&gt;</code>” (<code>x3E</code>, greater than) denotes a <a href="#block-folding">folded block scalar</a>.</p>
<div class="example" id="example-block-scalar-indicators">
<p><strong>Example 6.7. Block Scalar Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
literal: <mark class="legend-1">|</mark>
  some
  text
folded: <mark class="legend-2">&gt;</mark>
  some
  text
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"literal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some</span><span class="se">\n</span><span class="s2">text</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"folded"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some text</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">literal</code></li>
<li><code class="legend-2">folded</code></li>
</ul>
</div>
</div>
<p>”<code>'</code>” (<code>x27</code>, apostrophe, single quote) surrounds a <a href="#single-quoted-style">single-quoted flow<br/>
scalar</a>.</p>
<p>”<code>"</code>” (<code>x22</code>, double quote) surrounds a <a href="#double-quoted-style">double-quoted flow scalar</a>.</p>
<div class="example" id="example-quoted-scalar-indicators">
<p><strong>Example 6.8. Quoted Scalar Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
single: <mark class="legend-1">'</mark>text<mark class="legend-1">'</mark>
double: <mark class="legend-2">"</mark>text<mark class="legend-2">"</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"single"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"double"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">single quote</code></li>
<li><code class="legend-2">double quote</code></li>
</ul>
</div>
</div>
<p>”<code>%</code>” (<code>x25</code>, percent) denotes a <a href="#directives">directive</a> line.</p>
<div class="example" id="example-directive-indicator">
<p><strong>Example 6.9. Directive Indicator</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">%</mark>YAML 1.3
--- text
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"text"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">directive</code></li>
</ul>
</div>
</div>
<p>The “<code>@</code>” (<code>x40</code>, at) and “<code>`</code>” (<code>x60</code>, grave accent) are<br/>
<em>reserved</em> for future use.</p>
<div class="example" id="example-invalid-use-of-reserved-indicators">
<p><strong>Example 6.10. Invalid use of Reserved Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
commercial-at: <mark class="legend-1">@</mark>text
grave-accent: <mark class="legend-1">`</mark>text
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
 <mark class="legend-1">Reserved indicators</mark> can't
 start a plain scalar.
</pre>
</td>
</tr>
</table>
</div>
<p>The “<code>[</code>”, “<code>]</code>”, “<code>{</code>”, “<code>}</code>” and “<code>,</code>” indicators denote structure in <a href="#flow-collection-styles">flow<br/>
collections</a>.<br/>
They are therefore forbidden in some cases, to avoid ambiguity in several<br/>
constructs.<br/>
This is handled on a case-by-case basis by the relevant productions.</p>
</section><section data-section-number="4"><h2 id="-line-break-characters">6.4. Line Break Characters</h2>
<p>The line feed (<code>x0A</code>) and carriage return (<code>0x0D</code>) are line break characters.</p>
<p>All other characters, including the form feed (<code>x0C</code>), are considered to be<br/>
non-break characters.<br/>
Note that these include the <em>non-ASCII line breaks</em>: next line (<code>x85</code>), line<br/>
separator (<code>x2028</code>) and paragraph separator (<code>x2029</code>).</p>
<p><a href="#yaml-directives">YAML version 1.1</a> did support the above non-ASCII line break characters;<br/>
however, JSON does not.<br/>
Hence, to ensure <a href="#yaml-directives">JSON compatibility</a>, YAML treats them as non-break characters<br/>
as of version 1.2.<br/>
YAML 1.3 <a href="#processes-and-models">processors</a> <a href="#parsing-the-presentation-stream">parsing</a> a <a href="#yaml-directives">version 1.1</a> <a href="#documents">document</a> should therefore<br/>
treat these line breaks as non-break characters, with an appropriate warning.</p>
<p>Line breaks are interpreted differently by different systems and have multiple<br/>
widely used formats.</p>
<p>Line breaks inside <a href="#scalar">scalar content</a> must be <em>normalized</em> by the YAML<br/>
<a href="#processes-and-models">processor</a>.<br/>
Each such line break must be <a href="#parsing-the-presentation-stream">parsed</a> into a single line feed character.<br/>
The original line break format is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used<br/>
to convey <a href="#nodes">content</a> information.</p>
<p>Outside <a href="#scalar">scalar content</a>, YAML allows any line break to be used to terminate<br/>
lines.</p>
<p>On output, a YAML <a href="#processes-and-models">processor</a> is free to emit line breaks using whatever<br/>
convention is most appropriate.</p>
<p>In the examples, line breaks are sometimes displayed using the “<code>↓</code>” glyph for<br/>
clarity.</p>
<div class="example" id="example-line-break-characters">
<p><strong>Example 6.11. Line Break Characters</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
|
  Line break (no glyph)
  Line break (glyphed)<mark class="legend-1">↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Line break (no glyph)</span><span class="se">\n</span><span class="s2">Line break (glyphed)</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-line-break">line-break</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="5"><h2 id="-white-space-characters">6.5. White Space Characters</h2>
<p>YAML recognizes two <em>white space</em> characters: <em>space</em> and <em>tab</em>.</p>
<p>The rest of the (<a href="#character-set">printable</a>) non-<a href="#line-break-characters">break</a> characters are considered to be<br/>
non-space characters.</p>
<p>In the examples, tab characters are displayed as the glyph “<code>→</code>”.<br/>
Space characters are sometimes displayed as the glyph “<code>·</code>” for clarity.</p>
<div class="example" id="example-tabs-and-spaces">
<p><strong>Example 6.12. Tabs and Spaces</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Tabs and spaces
quoted:<mark class="legend-1">·</mark>"Quoted <mark class="legend-2">→</mark>"
block:<mark class="legend-2">→</mark>|
<mark class="legend-1">··</mark>void main() {
<mark class="legend-1">··</mark><mark class="legend-2">→</mark>printf("Hello, world!\n");
<mark class="legend-1">··</mark>}
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"quoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quoted </span><span class="se">\t</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"void main()
    {</span><span class="se">\n\t</span><span class="s2">printf(</span><span class="se">\"</span><span class="s2">Hello, world!</span><span class="se">\\</span><span class="s2">n</span><span class="se">\"</span><span class="s2">);</span><span class="se">\n</span><span class="s2">}</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">space</code></li>
<li><code class="legend-2">tab</code></li>
</ul>
</div>
</div>
</section><section data-section-number="6"><h2 id="-miscellaneous-characters">6.6. Miscellaneous Characters</h2>
<p>The YAML syntax productions make use of the following additional character<br/>
classes:</p>
<ul>
<li>A decimal digit for numbers.</li>
<li>A hexadecimal digit for <a href="#escaped-characters">escape sequences</a>.</li>
<li>ASCII letter (alphabetic) characters.</li>
<li>Word (alphanumeric) characters for identifiers.</li>
<li>URI characters for <a href="#tags">tags</a>, as defined in the URI specification<sup id="fnref:uri" role="doc-noteref"><a class="footnote" href="#fn:uri" rel="footnote">17</a></sup>.</li>
</ul>
<p>By convention, any URI characters other than the allowed printable ASCII<br/>
characters are first <em>encoded</em> in UTF-8 and then each byte is <em>escaped</em> using<br/>
the “<code>%</code>” character.<br/>
The YAML <a href="#processes-and-models">processor</a> must not expand such escaped characters.<br/>
<a href="#tags">Tag</a> characters must be preserved and compared exactly as <a href="#presenting-the-serialization-tree">presented</a> in the<br/>
YAML <a href="#streams">stream</a>, without any processing.</p>
<p>The “<code>!</code>” character is used to indicate the end of a <a href="#tag-handles">named tag handle</a>; hence<br/>
its use in <a href="#tag-shorthands">tag shorthands</a> is restricted.<br/>
In addition, such <a href="#tag-shorthands">shorthands</a> must not contain the “<code>[</code>”, “<code>]</code>”, “<code>{</code>”, “<code>}</code>”<br/>
and “<code>,</code>” characters.<br/>
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.</p>
</section><section data-section-number="7"><h2 id="-escaped-characters">6.7. Escaped Characters</h2>
<p>All non-<a href="#character-set">printable</a> characters must be <em>escaped</em>.<br/>
YAML escape sequences use the “<code>\</code>” notation common to most modern computer<br/>
languages.<br/>
Each escape sequence must be <a href="#parsing-the-presentation-stream">parsed</a> into the appropriate Unicode character.<br/>
The original escape sequence is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to<br/>
convey <a href="#nodes">content</a> information.</p>
<p>Note that escape sequences are only interpreted in <a href="#double-quoted-style">double-quoted scalars</a>.<br/>
In all other <a href="#node-styles">scalar styles</a>, the “<code>\</code>” character has no special meaning and<br/>
non-<a href="#character-set">printable</a> characters are not available.</p>
<p>YAML escape sequences are a superset of C’s escape sequences:</p>
<table>
<thead>
<tr>
<th>Escape</th>
<th>Character</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\0</code></td>
<td>Null (<code>x00</code>)</td>
</tr>
<tr>
<td><code>\a</code></td>
<td>Bell (<code>x07</code>)</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>Backspace (<code>x08</code>)</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>Horizontal Tabulation (<code>x09</code>)</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>New Line (<code>x0A</code>)</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>Vertical Tabulation (<code>x0B</code>)</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>Form Feed (<code>x0C</code>)</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>Carriage Return (<code>x0D</code>)</td>
</tr>
<tr>
<td><code>\e</code></td>
<td>Escape (<code>x1B</code>)</td>
</tr>
<tr>
<td><code>\ </code></td>
<td>Space (<code>x20</code>)</td>
</tr>
<tr>
<td><code>\"</code></td>
<td>Quotation Mark (<code>x22</code>)</td>
</tr>
<tr>
<td><code>\/</code></td>
<td>Solidus (<code>x22</code>)</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>Reverse Solidus (<code>x22</code>)</td>
</tr>
<tr>
<td><code>\N</code></td>
<td>Next Line (<code>x85</code>)</td>
</tr>
<tr>
<td><code>\_</code></td>
<td>No-Break Space (<code>x85</code>)</td>
</tr>
<tr>
<td><code>\L</code></td>
<td>Line Separator (<code>x2028</code>)</td>
</tr>
<tr>
<td><code>\P</code></td>
<td>Paragraph Separator (<code>x2029</code>)</td>
</tr>
</tbody>
</table>
<p>An escaped tab character (<code>x09</code>) evaluates to a tab character.</p>
<p>The <code>\x</code>, <code>\u</code>, and <code>\U</code> escape sequences are followed by two, four, and eight<br/>
hexadecimal digits respectively.<br/>
Those digits are interpreted as a Unicode code point.<br/>
The value of the escape is the character at that code point.</p>
<div class="example" id="example-escaped-characters">
<p><strong>Example 6.13. Escaped Characters</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- "Fun with <mark class="legend-1">\\</mark>"
- "<mark class="legend-1">\"</mark> <mark class="legend-1">\a</mark> <mark class="legend-1">\b</mark> <mark class="legend-1">\e</mark> <mark class="legend-1">\f</mark>"
- "<mark class="legend-1">\n</mark> <mark class="legend-1">\r</mark> <mark class="legend-1">\t</mark> <mark class="legend-1">\v</mark> <mark class="legend-1">\0</mark>"
- "<mark class="legend-1">\ </mark> <mark class="legend-1">\_</mark> <mark class="legend-1">\N</mark> <mark class="legend-1">\L</mark> <mark class="legend-1">\P</mark> \
  <mark class="legend-1">\x41</mark> <mark class="legend-1">\u0041</mark> <mark class="legend-1">\U00000041</mark>"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"Fun with </span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\"</span><span class="s2"> </span><span class="se">\u</span><span class="s2">0007 </span><span class="se">\b</span><span class="s2"> </span><span class="se">\u</span><span class="s2">001b </span><span class="se">\f</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\n</span><span class="s2"> </span><span class="se">\r</span><span class="s2"> </span><span class="se">\t</span><span class="s2"> </span><span class="se">\u</span><span class="s2">000b </span><span class="se">\u</span><span class="s2">0000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\u</span><span class="s2">0020 </span><span class="se">\u</span><span class="s2">00a0 </span><span class="se">\u</span><span class="s2">0085 </span><span class="se">\u</span><span class="s2">2028 </span><span class="se">\u</span><span class="s2">2029 A A A"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-double-quoted-scalar-escape-character">double-quoted-scalar-escape-character</a></code></li>
</ul>
</div>
</div>
<div class="example" id="example-invalid-escaped-characters">
<p><strong>Example 6.14. Invalid Escaped Characters</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
Bad escapes:
  "\<mark class="legend-1">c</mark>
  \x<mark class="legend-2">q-</mark>"
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- <mark class="legend-1">c</mark> is an invalid escaped character.
- <mark class="legend-2">q</mark> and <mark class="legend-2">-</mark> are invalid hex digits.
</pre>
</td>
</tr>
</table>
</div>
</section></section><section data-section-number="7"><h1 id="chapter--structural-productions">Chapter 7. Structural Productions</h1>
<section data-section-number="1"><h2 id="-indentation-spaces">7.1. Indentation Spaces</h2>
<p>In YAML <a href="#block-style-productions">block styles</a>, structure is determined by <em>indentation</em>.<br/>
In general, indentation is defined as a zero or more <a href="#white-space-characters">space</a> characters at the<br/>
start of a line.<br/>
<sup class="rule-link"><a href="#rule-indentation-spaces">?</a></sup></p>
<p>To maintain portability, <a href="#white-space-characters">tab</a> characters must not be used in indentation,<br/>
since different systems treat <a href="#white-space-characters">tabs</a> differently.<br/>
Note that most modern editors may be configured so that pressing the <a href="#white-space-characters">tab</a> key<br/>
results in the insertion of an appropriate number of <a href="#white-space-characters">spaces</a>.</p>
<p>The amount of indentation is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to<br/>
convey <a href="#nodes">content</a> information.</p>
<p>A <a href="#block-style-productions">block style</a> construct is terminated when encountering a line which is less<br/>
indented than the construct.<br/>
The productions use the notation “<code>indentation-spaces-less-than(n)</code>” and<br/>
“<code>indentation-spaces-less-or-equal(n)</code>” to express this.</p>
<p>Each <a href="#nodes">node</a> must be indented further than its parent <a href="#nodes">node</a>.<br/>
All sibling <a href="#nodes">nodes</a> must use the exact same indentation level.<br/>
However the <a href="#nodes">content</a> of each sibling <a href="#nodes">node</a> may be further indented<br/>
independently.</p>
<div class="example" id="example-indentation-spaces">
<p><strong>Example 7.1. Indentation Spaces</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-3">··</mark># Leading comment line spaces are
<mark class="legend-3">···</mark># neither content nor indentation.
<mark class="legend-3">····</mark>
Not indented:
<mark class="legend-1">·</mark>By one space: |
<mark class="legend-1">····</mark>By four
<mark class="legend-1">····</mark><mark class="legend-2">··</mark>spaces
<mark class="legend-1">·</mark>Flow style: [    # Leading spaces
<mark class="legend-1">··</mark><mark class="legend-3">·</mark>By two,        # in flow style
<mark class="legend-1">··</mark>Also by two,    # are neither
<mark class="legend-1">··</mark>→Still by two   # content nor
<mark class="legend-1">··</mark><mark class="legend-3">··</mark>]             # indentation.
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"Not indented"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"By one space"</span><span class="p">:</span><span class="w"> </span><span class="s2">"By four</span><span class="se">\n</span><span class="s2">  spaces</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Flow style"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"By two"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Also by two"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Still by two"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
<li><code class="legend-2">Content</code></li>
<li><code class="legend-3">Neither content nor indentation</code></li>
</ul>
</div>
</div>
<p>The “<code>-</code>”, “<code>?</code>” and “<code>:</code>” characters used to denote <a href="#block-collection-styles">block collection</a> entries<br/>
are perceived by people to be part of the indentation.<br/>
This is handled on a case-by-case basis by the relevant productions.</p>
<div class="example" id="example-indentation-indicators">
<p><strong>Example 7.2. Indentation Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1"><mark class="legend-3">?</mark></mark>·a
<mark class="legend-1"><mark class="legend-3">:</mark><mark class="legend-2">·</mark><mark class="legend-3">-</mark></mark>→b
<mark class="legend-1"><mark class="legend-2">··</mark><mark class="legend-3">-</mark><mark class="legend-2">··</mark><mark class="legend-3">-</mark></mark>→c
<mark class="legend-1"><mark class="legend-2">·····</mark><mark class="legend-3">-</mark></mark>·d
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"a"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="w"> </span><span class="s2">"c"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"d"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">Total Indentation</code></li>
<li><code class="legend-2"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
<li><code class="legend-3">Indicator as indentation</code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h2 id="-separation-spaces">7.2. Separation Spaces</h2>
<p>Outside <a href="#indentation-spaces">indentation</a> and <a href="#scalar">scalar content</a>, YAML uses <a href="#white-space-characters">white space</a> characters<br/>
for <em>separation</em> between tokens within a line.<br/>
Note that such <a href="#white-space-characters">white space</a> may safely include <a href="#white-space-characters">tab</a> characters.</p>
<p>Separation spaces are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey<br/>
<a href="#nodes">content</a> information.</p>
<div class="example" id="example-separation-spaces">
<p><strong>Example 7.3. Separation Spaces</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
-<mark class="legend-1">·</mark>foo:<mark class="legend-1">→·</mark>bar
- -<mark class="legend-1">·</mark>baz
  -<mark class="legend-1">→</mark>baz
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"baz"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-separation-blanks">separation-blanks</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="3"><h2 id="-line-prefixes">7.3. Line Prefixes</h2>
<p>Inside <a href="#scalar">scalar content</a>, each line begins with a non-<a href="#nodes">content</a> <em>line prefix</em>.<br/>
This prefix always includes the <a href="#indentation-spaces">indentation</a>.<br/>
For <a href="#flow-scalar-styles">flow scalar styles</a> it additionally includes all leading <a href="#white-space-characters">white space</a>,<br/>
which may contain <a href="#white-space-characters">tab</a> characters.</p>
<p>Line prefixes are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey<br/>
<a href="#nodes">content</a> information.</p>
<div class="example" id="example-line-prefixes">
<p><strong>Example 7.4. Line Prefixes</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
plain: text
<mark class="legend-1"><mark class="legend-3">·</mark>·</mark>lines
quoted: "text
<mark class="legend-1"><mark class="legend-3">·</mark>·→</mark>lines"
block: |
<mark class="legend-2"><mark class="legend-3">··</mark></mark>text
<mark class="legend-2"><mark class="legend-3">··</mark></mark>·→lines
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"plain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text lines"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text lines"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text</span><span class="se">\n</span><span class="s2"> </span><span class="se">\t</span><span class="s2">lines</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-indentation-spaces-exact">indentation-spaces-exact(n)</a></code></li>
<li><code class="legend-3"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="4"><h2 id="-empty-lines">7.4. Empty Lines</h2>
<p>An <em>empty line</em> line consists of the non-<a href="#nodes">content</a> <a href="#tag-prefixes">prefix</a> followed by a <a href="#line-break-characters">line<br/>
break</a>.</p>
<p>The semantics of empty lines depend on the <a href="#node-styles">scalar style</a> they appear in.<br/>
This is handled on a case-by-case basis by the relevant productions.</p>
<div class="example" id="example-empty-lines">
<p><strong>Example 7.5. Empty Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
Folding:
  "Empty line
<mark class="legend-1">···→</mark>
  as a line feed"
Chomping: |
  Clipped empty lines
<mark class="legend-1">·</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"Folding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Empty line</span><span class="se">\n</span><span class="s2">as a line feed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Chomping"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clipped empty lines</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-empty-line">empty-line(n,c)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="5"><h2 id="-line-folding">7.5. Line Folding</h2>
<p><em>Line folding</em> allows long lines to be broken for readability, while retaining<br/>
the semantics of the original long line.<br/>
If a <a href="#line-break-characters">line break</a> is followed by an <a href="#empty-lines">empty line</a>, it is <em>trimmed</em>; the first<br/>
<a href="#line-break-characters">line break</a> is discarded and the rest are retained as <a href="#nodes">content</a>.</p>
<p>Otherwise (the following line is not <a href="#empty-lines">empty</a>), the <a href="#line-break-characters">line break</a> is converted to<br/>
a single <a href="#white-space-characters">space</a> (<code>x20</code>).</p>
<p>A folded non-<a href="#empty-lines">empty line</a> may end with either of the above <a href="#line-break-characters">line breaks</a>.</p>
<div class="example" id="example-line-folding">
<p><strong>Example 7.6. Line Folding</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;-
  trimmed<mark class="legend-1">↓</mark>
<mark class="legend-1">··↓</mark>
<mark class="legend-1">·↓</mark>
<mark class="legend-1">↓</mark>
  as<mark class="legend-2">↓</mark>
  space
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"trimmed</span><span class="se">\n\n\n</span><span class="s2">as space"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-trimmed">trimmed</a></code></li>
<li><code class="legend-2"><a href="#rule-break-as-space">break-as-space</a></code></li>
</ul>
</div>
</div>
<p>The above rules are common to both the <a href="#block-folding">folded block style</a> and the <a href="#flow-scalar-styles">scalar<br/>
flow styles</a>.<br/>
Folding does distinguish between these cases in the following way:</p>
<div id="block-folding"></div>
<dl>
<dt>Block Folding</dt>
<dd>
<p>In the <a href="#block-folding">folded block style</a>, the final <a href="#line-break-characters">line break</a> and trailing <a href="#empty-lines">empty lines</a><br/>
are subject to <a href="#block-chomping-indicator">chomping</a> and are never folded.<br/>
In addition, folding does not apply to <a href="#line-break-characters">line breaks</a> surrounding text lines<br/>
that contain leading <a href="#white-space-characters">white space</a>.<br/>
Note that such a <a href="#example-more-indented-lines">more-indented</a> line may consist only of such leading <a href="#white-space-characters">white<br/>
space</a>.</p>
</dd>
<dd>
<p>The combined effect of the <em>block line folding</em> rules is that each “paragraph”<br/>
is interpreted as a line, <a href="#empty-lines">empty lines</a> are interpreted as a line feed and the<br/>
formatting of <a href="#example-more-indented-lines">more-indented</a> lines is preserved.</p>
</dd>
</dl>
<div class="example" id="example-block-folding">
<p><strong>Example 7.7. Block Folding</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;
<mark class="legend-2">··</mark>foo<mark class="legend-3">·</mark><mark class="legend-1">↓</mark>
<mark class="legend-1">·↓</mark>
<mark class="legend-2">··</mark><mark class="legend-3">→·</mark>bar<mark class="legend-1">↓</mark>
<mark class="legend-1">↓</mark>
<mark class="legend-2">··</mark>baz↓
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo </span><span class="se">\n\n\t</span><span class="s2"> bar</span><span class="se">\n\n</span><span class="s2">baz</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-folded-whitespace">folded-whitespace(n,c)</a></code></li>
<li><code class="legend-2">Non-content spaces</code></li>
<li><code class="legend-3">Content spaces</code></li>
</ul>
</div>
</div>
<div id="flow-folding"></div>
<dl>
<dt>Flow Folding</dt>
<dd>
<p>Folding in <a href="#flow-style-productions">flow styles</a> provides more relaxed semantics.<br/>
<a href="#flow-style-productions">Flow styles</a> typically depend on explicit <a href="#indicator-characters">indicators</a> rather than<br/>
<a href="#indentation-spaces">indentation</a> to convey structure.<br/>
Hence spaces preceding or following the text in a line are a <a href="#presenting-the-serialization-tree">presentation<br/>
detail</a> and must not be used to convey <a href="#nodes">content</a> information.<br/>
Once all such spaces have been discarded, all <a href="#line-break-characters">line breaks</a> are folded without<br/>
exception.</p>
</dd>
<dd>
<p>The combined effect of the <em>flow line folding</em> rules is that each “paragraph”<br/>
is interpreted as a line, <a href="#empty-lines">empty lines</a> are interpreted as line feeds and text<br/>
can be freely <a href="#example-more-indented-lines">more-indented</a> without affecting the <a href="#nodes">content</a> information.</p>
</dd>
</dl>
<div class="example" id="example-flow-folding">
<p><strong>Example 7.8. Flow Folding</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
"<mark class="legend-1">↓</mark>
<mark class="legend-1"><mark class="legend-2">··</mark></mark>foo<mark class="legend-1"><mark class="legend-2">·</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">·</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">··→·</mark></mark>bar<mark class="legend-1">↓</mark>
<mark class="legend-1">↓</mark>
<mark class="legend-1"><mark class="legend-2">··</mark></mark>baz<mark class="legend-1">↓</mark> "
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">" foo</span><span class="se">\n</span><span class="s2">bar</span><span class="se">\n</span><span class="s2">baz "</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-folded-whitespace">flow-folded-whitespace(n)</a></code></li>
<li><code class="legend-2">Non-content spaces</code></li>
</ul>
</div>
</div>
</section><section data-section-number="6"><h2 id="-comments-1">7.6. Comments</h2>
<p>An explicit <em>comment</em> is marked by a “<code>#</code>” indicator.<br/>
Comments are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey <a href="#nodes">content</a><br/>
information.</p>
<p>Comments must be <a href="#separation-spaces">separated</a> from other tokens by <a href="#white-space-characters">white space</a> characters.</p>
<blockquote>
<p>Note: To ensure <a href="#yaml-directives">JSON compatibility</a>, YAML <a href="#processes-and-models">processors</a> must allow for the<br/>
omission of the final comment <a href="#line-break-characters">line break</a> of the input <a href="#streams">stream</a>.<br/>
However, as this confuses many tools, YAML <a href="#processes-and-models">processors</a> should terminate the<br/>
<a href="#streams">stream</a> with an explicit <a href="#line-break-characters">line break</a> on output.</p>
</blockquote>
<div class="example" id="example-separated-comment">
<p><strong>Example 7.9. Separated Comment</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
key:<mark class="legend-3">····<mark class="legend-1"># Comment</mark><mark class="legend-2">↓</mark></mark>
  value<mark class="legend-2"><mark class="legend-3"><i>eof</i></mark></mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-comment-content">comment-content</a></code></li>
<li><code class="legend-2"><a href="#rule-line-ending">line-ending</a></code></li>
<li><code class="legend-3"><a href="#rule-comment-line">comment-line</a></code></li>
</ul>
</div>
</div>
<p>Outside <a href="#scalar">scalar content</a>, comments may appear on a line of their own,<br/>
independent of the <a href="#indentation-spaces">indentation</a> level.<br/>
Note that outside <a href="#scalar">scalar content</a>, a line containing only <a href="#white-space-characters">white space</a><br/>
characters is taken to be a comment line.</p>
<div class="example" id="example-comment-lines">
<p><strong>Example 7.10. Comment Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-2">··<mark class="legend-1"># Comment↓</mark></mark>
<mark class="legend-2">···<mark class="legend-1">↓</mark></mark>
<mark class="legend-1"><mark class="legend-2">↓</mark></mark>
</pre>
</td>
<td class="side-by-side">
<pre>
# This stream contains no
# documents, only comments.
</pre>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-comment-line">comment-line</a></code></li>
<li><code class="legend-2"><a href="#rule-comment-line">comment-line</a></code></li>
</ul>
</div>
</div>
<p>In most cases, when a line may end with a comment, YAML allows it to be<br/>
followed by additional comment lines.<br/>
The only exception is a comment ending a <a href="#block-scalar-headers">block scalar header</a>.</p>
<div class="example" id="example-multi-line-comments">
<p><strong>Example 7.11. Multi-Line Comments</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
key:<mark class="legend-1"><mark class="legend-3">····# Comment↓</mark></mark>
<mark class="legend-2"><mark class="legend-3">········# lines↓</mark></mark>
  value<mark class="legend-1"><mark class="legend-3">↓</mark></mark>
<mark class="legend-2"><mark class="legend-3">↓</mark></mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-comment-line">comment-line</a></code></li>
<li><code class="legend-2"><a href="#rule-comment-line">comment-line</a></code></li>
<li><code class="legend-3"><a href="#rule-comment-lines">comment-lines</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="7"><h2 id="-separation-lines">7.7. Separation Lines</h2>
<p><a href="#example-single-pair-explicit-entry">Implicit keys</a> are restricted to a single line.<br/>
In all other cases, YAML allows tokens to be separated by multi-line (possibly<br/>
empty) <a href="#comments">comments</a>.</p>
<p>Note that structures following multi-line comment separation must be properly<br/>
<a href="#indentation-spaces">indented</a>, even though there is no such restriction on the separation<br/>
<a href="#comments">comment</a> lines themselves.</p>
<div class="example" id="example-separation-spaces">
<p><strong>Example 7.12. Separation Spaces</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
{<mark class="legend-1">·</mark>first:<mark class="legend-1">·</mark>Sammy,<mark class="legend-1">·</mark>last:<mark class="legend-1">·</mark>Sosa<mark class="legend-1">·</mark>}:<mark class="legend-2">↓</mark>
<mark class="legend-2"># Statistics:</mark>
<mark class="legend-2"><mark class="legend-3">··</mark></mark>hr:<mark class="legend-2">··# Home runs</mark>
<mark class="legend-2"><mark class="legend-3">···</mark>··</mark>65
<mark class="legend-3">··</mark>avg:<mark class="legend-2">·# Average</mark>
<mark class="legend-2"><mark class="legend-3">···</mark></mark>0.278
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sammy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sosa"</span><span class="w"> </span><span class="p">}</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"hr"</span><span class="p">:</span><span class="w"> </span><span class="mi">65</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avg"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.278</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-separation-blanks">separation-blanks</a></code></li>
<li><code class="legend-2"><a href="#rule-separation-lines">separation-lines(n)</a></code></li>
<li><code class="legend-3"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="8"><h2 id="-directives-1">7.8. Directives</h2>
<p><em>Directives</em> are instructions to the YAML <a href="#processes-and-models">processor</a>.<br/>
This specification defines two directives, “<code>YAML</code>” and “<code>TAG</code>”, and <em>reserves</em><br/>
all other directives for future use.<br/>
There is no way to define private directives.<br/>
This is intentional.</p>
<p>Directives are a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey <a href="#nodes">content</a><br/>
information.</p>
<p>Each directive is specified on a separate non-<a href="#indentation-spaces">indented</a> line starting with the<br/>
“<code>%</code>” indicator, followed by the directive name and a list of parameters.<br/>
The semantics of these parameters depends on the specific directive.<br/>
A YAML <a href="#processes-and-models">processor</a> should ignore unknown directives with an appropriate<br/>
warning.</p>
<div class="example" id="example-reserved-directives">
<p><strong>Example 7.13. Reserved Directives</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%<mark class="legend-1"><mark class="legend-2">FOO</mark>  <mark class="legend-3">bar</mark> <mark class="legend-3">baz</mark></mark> # Should be ignored
               # with a warning.
--- "foo"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-reserved-directive-line">reserved-directive-line</a></code></li>
<li><code class="legend-2"><a href="#rule-directive-name">directive-name</a></code></li>
<li><code class="legend-3"><a href="#rule-directive-parameter">directive-parameter</a></code></li>
</ul>
</div>
</div>
<section data-section-number="1"><h3 id="-yaml-directives">7.8.1. “<code>YAML</code>” Directives</h3>
<p>The “<code>YAML</code>” directive specifies the version of YAML the <a href="#documents">document</a> conforms<br/>
to.<br/>
This specification defines version “<code>1.3</code>”, including recommendations for <em>YAML<br/>
1.1 processing</em>.</p>
<p>A version 1.3 YAML <a href="#processes-and-models">processor</a> must accept <a href="#documents">documents</a> with an explicit “<code>%YAML
1.3</code>” directive, as well as <a href="#documents">documents</a> lacking a “<code>YAML</code>” directive.<br/>
Such <a href="#documents">documents</a> are assumed to conform to the 1.3 version specification.<br/>
<a href="#documents">Documents</a> with a “<code>YAML</code>” directive specifying a higher minor version (e.g.<br/>
“<code>%YAML 1.3</code>”) should be processed with an appropriate warning.<br/>
<a href="#documents">Documents</a> with a “<code>YAML</code>” directive specifying a higher major version (e.g.<br/>
“<code>%YAML 2.0</code>”) should be rejected with an appropriate error message.</p>
<p>A version 1.3 YAML <a href="#processes-and-models">processor</a> must also accept <a href="#documents">documents</a> with an explicit<br/>
“<code>%YAML 1.1</code>” directive.<br/>
Note that version 1.3 is mostly a superset of version 1.1, defined for the<br/>
purpose of ensuring <em>JSON compatibility</em>.<br/>
Hence a version 1.3 <a href="#processes-and-models">processor</a> should process version 1.1 <a href="#documents">documents</a> as if<br/>
they were version 1.3, giving a warning on points of incompatibility (handling<br/>
of <a href="#line-break-characters">non-ASCII line breaks</a>, as described <a href="#line-break-characters">above</a>).</p>
<div class="example" id="example-yaml-directive">
<p><strong>Example 7.14. “<code>YAML</code>” directive</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%<mark class="legend-1">YAML <mark class="legend-2">1.3</mark></mark> # Attempt parsing
           # with a warning
---
"foo"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-yaml-directive-line">yaml-directive-line</a></code></li>
<li><code class="legend-2"><a href="#rule-yaml-version-number">yaml-version-number</a></code></li>
</ul>
</div>
</div>
<p>It is an error to specify more than one “<code>YAML</code>” directive for the same<br/>
document, even if both occurrences give the same version number.</p>
<div class="example" id="example-invalid-repeated-yaml-directive">
<p><strong>Example 7.15. Invalid Repeated YAML directive</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
%YAML 1.3
%<mark class="legend-1">YAML</mark> 1.2
foo
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
The <mark class="legend-1">YAML</mark> directive must only be
given at most once per document.
</pre>
</td>
</tr>
</table>
</div>
</section><section data-section-number="2"><h3 id="-tag-directives">7.8.2. “<code>TAG</code>” Directives</h3>
<p>The “<code>TAG</code>” directive establishes a <a href="#tag-shorthands">tag shorthand</a> notation for specifying<br/>
<a href="#node-tags">node tags</a>.<br/>
Each “<code>TAG</code>” directive associates a <a href="#tag-handles">handle</a> with a <a href="#tag-prefixes">prefix</a>.<br/>
This allows for compact and readable <a href="#tags">tag</a> notation.</p>
<div class="example" id="example-tag-directive">
<p><strong>Example 7.16. “<code>TAG</code>” directive</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%<mark class="legend-1">TAG <mark class="legend-2">!yaml!</mark> <mark class="legend-3">tag:yaml.org,2002:</mark></mark>
---
!yaml!str "foo"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"foo"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-tag-directive-line">tag-directive-line</a></code></li>
<li><code class="legend-2"><a href="#rule-tag-handle">tag-handle</a></code></li>
<li><code class="legend-3"><a href="#rule-tag-prefix">tag-prefix</a></code></li>
</ul>
</div>
</div>
<p>It is an error to specify more than one “<code>TAG</code>” directive for the same <a href="#tag-handles">handle</a><br/>
in the same document, even if both occurrences give the same <a href="#tag-prefixes">prefix</a>.</p>
<div class="example" id="example-invalid-repeated-tag-directive">
<p><strong>Example 7.17. Invalid Repeated TAG directive</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
%TAG ! !foo
%TAG <mark class="legend-1">!</mark> !foo
bar
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
The TAG directive must only
be given at most once per
<mark class="legend-1">handle</mark> in the same document.
</pre>
</td>
</tr>
</table>
</div>
<section data-section-number="1"><h4 id="-tag-handles">7.8.2.1. Tag Handles</h4>
<p>The <em>tag handle</em> exactly matches the prefix of the affected <a href="#tag-shorthands">tag shorthand</a>.<br/>
There are three tag handle variants:</p>
<div id="primary-handle"></div>
<dl>
<dt>Primary Handle</dt>
<dd>
<p>The <em>primary tag handle</em> is a single “<code>!</code>” character.<br/>
This allows using the most compact possible notation for a single “primary”<br/>
name space.<br/>
By default, the prefix associated with this handle is “<code>!</code>”.<br/>
Thus, by default, <a href="#tag-shorthands">shorthands</a> using this handle are interpreted as <a href="#tags">local<br/>
tags</a>.</p>
</dd>
<dd>
<p>It is possible to override the default behavior by providing an explicit<br/>
“<code>TAG</code>” directive, associating a different prefix for this handle.<br/>
This provides smooth migration from using <a href="#tags">local tags</a> to using <a href="#tags">global tags</a><br/>
by the simple addition of a single “<code>TAG</code>” directive.</p>
</dd>
</dl>
<div class="example" id="example-primary-tag-handle">
<p><strong>Example 7.18. Primary Tag Handle</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Private
<mark class="legend-1">!</mark>foo "bar"
...
# Global
%TAG <mark class="legend-1">!</mark> tag:example.com,2000:app/
---
<mark class="legend-1">!</mark>foo "bar"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;!foo&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="err">!&lt;tag:example.com,</span><span class="mi">2000</span><span class="err">:app/foo&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-primary-tag-handle">primary-tag-handle</a></code></li>
</ul>
</div>
</div>
<div id="secondary-handle"></div>
<dl>
<dt>Secondary Handle</dt>
<dd>
<p>The <em>secondary tag handle</em> is written as “<code>!!</code>”.<br/>
This allows using a compact notation for a single “secondary” name space.<br/>
By default, the prefix associated with this handle is “<code>tag:yaml.org,2002:</code>”.</p>
</dd>
<dd>
<p>It is possible to override this default behavior by providing an explicit<br/>
“<code>TAG</code>” directive associating a different prefix for this handle.</p>
</dd>
</dl>
<div class="example" id="example-secondary-tag-handle">
<p><strong>Example 7.19. Secondary Tag Handle</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG <mark class="legend-1">!!</mark> tag:example.com,2000:app/
---
<mark class="legend-1">!!</mark>int 1 - 3 # Interval, not integer
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;tag:example.com,</span><span class="mi">2000</span><span class="err">:app/int&gt;</span><span class="w"> </span><span class="s2">"1 - 3"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-secondary-tag-handle">secondary-tag-handle</a></code></li>
</ul>
</div>
</div>
<div id="named-handles"></div>
<dl>
<dt>Named Handles</dt>
<dd>
<p>A <em>named tag handle</em> surrounds a non-empty name with “<code>!</code>” characters.<br/>
A handle name must not be used in a <a href="#tag-shorthands">tag shorthand</a> unless an explicit “<code>TAG</code>”<br/>
directive has associated some prefix with it.</p>
</dd>
<dd>
<p>The name of the handle is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to<br/>
convey <a href="#nodes">content</a> information.<br/>
In particular, the YAML <a href="#processes-and-models">processor</a> need not preserve the handle name once<br/>
<a href="#parsing-the-presentation-stream">parsing</a> is completed.</p>
</dd>
</dl>
<div class="example" id="example-tag-handles">
<p><strong>Example 7.20. Tag Handles</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG <mark class="legend-1">!e!</mark> tag:example.com,2000:app/
---
<mark class="legend-1">!e!</mark>foo "bar"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;tag:example.com,</span><span class="mi">2000</span><span class="err">:app/foo&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-named-tag-handle">named-tag-handle</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h4 id="-tag-prefixes">7.8.2.2. Tag Prefixes</h4>
<p>There are two <em>tag prefix</em> variants:</p>
<div id="local-tag-prefix"></div>
<dl>
<dt>Local Tag Prefix</dt>
<dd>
<p>If the prefix begins with a “<code>!</code>” character, <a href="#tag-shorthands">shorthands</a> using the <a href="#tag-handles">handle</a><br/>
are expanded to a <a href="#tags">local tag</a>.<br/>
Note that such a <a href="#tags">tag</a> is intentionally not a valid URI and its semantics are<br/>
specific to the <a href="#processes-and-models">application</a>.<br/>
In particular, two <a href="#documents">documents</a> in the same <a href="#streams">stream</a> may assign different<br/>
semantics to the same <a href="#tags">local tag</a>.</p>
</dd>
</dl>
<div class="example" id="example-local-tag-prefix">
<p><strong>Example 7.21. Local Tag Prefix</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG !m! <mark class="legend-1">!my-</mark>
--- # Bulb here
!m!light fluorescent
...
%TAG !m! <mark class="legend-1">!my-</mark>
--- # Color here
!m!light green
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!&lt;!my-light&gt;</span><span class="w"> </span><span class="s2">"fluorescent"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="err">!&lt;!my-light&gt;</span><span class="w"> </span><span class="s2">"green"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-local-tag-prefix">local-tag-prefix</a></code></li>
</ul>
</div>
</div>
<div id="global-tag-prefix"></div>
<dl>
<dt>Global Tag Prefix</dt>
<dd>
<p>If the prefix begins with a character other than “<code>!</code>”, it must be a valid URI<br/>
prefix, and should contain at least the scheme.<br/>
<a href="#tag-shorthands">Shorthands</a> using the associated <a href="#tag-handles">handle</a> are expanded to globally unique URI<br/>
tags and their semantics is consistent across <a href="#processes-and-models">applications</a>.<br/>
In particular, every <a href="#documents">document</a> in every <a href="#streams">stream</a> must assign the same<br/>
semantics to the same <a href="#tags">global tag</a>.</p>
</dd>
</dl>
<div class="example" id="example-global-tag-prefix">
<p><strong>Example 7.22. Global Tag Prefix</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG !e! <mark class="legend-1">tag:example.com,2000:app/</mark>
---
- !e!foo "bar"
</pre>
</td>
<td class="side-by-side">
<pre>
- !&lt;tag:example.com,2000:app/foo&gt; "bar"
</pre>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-global-tag-prefix">global-tag-prefix</a></code></li>
</ul>
</div>
</div>
</section></section></section><section data-section-number="9"><h2 id="-node-properties">7.9. Node Properties</h2>
<p>Each <a href="#nodes">node</a> may have two optional <em>properties</em>, <a href="#anchors-and-aliases">anchor</a> and <a href="#tags">tag</a>, in addition<br/>
to its <a href="#nodes">content</a>.<br/>
Node properties may be specified in any order before the <a href="#nodes">node’s content</a>.<br/>
Either or both may be omitted.</p>
<div class="example" id="example-node-properties">
<p><strong>Example 7.23. Node Properties</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1"><mark class="legend-3">!!str</mark> <mark class="legend-2">&amp;a1</mark></mark> "foo":
  <mark class="legend-1"><mark class="legend-3">!!str</mark></mark> bar
<mark class="legend-1"><mark class="legend-2">&amp;a2</mark></mark> baz : *a1
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="err">&amp;B</span><span class="mi">1</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"baz"</span><span class="p">:</span><span class="w"> </span><span class="err">*B</span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-node-properties">node-properties(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-anchor-property">anchor-property</a></code></li>
<li><code class="legend-3"><a href="#rule-tag-property">tag-property</a></code></li>
</ul>
</div>
</div>
<section data-section-number="1"><h3 id="-node-tags">7.9.1. Node Tags</h3>
<p>The <em>tag property</em> identifies the type of the <a href="#representing-native-data-structures">native data structure</a><br/>
<a href="#presenting-the-serialization-tree">presented</a> by the <a href="#nodes">node</a>.<br/>
A tag is denoted by the “<code>!</code>” indicator.</p>
<div id="verbatim-tags"></div>
<dl>
<dt>Verbatim Tags</dt>
<dd>
<p>A tag may be written <em>verbatim</em> by surrounding it with the “<code>&lt;</code>” and “<code>&gt;</code>”<br/>
characters.<br/>
In this case, the YAML <a href="#processes-and-models">processor</a> must deliver the verbatim tag as-is to the<br/>
<a href="#processes-and-models">application</a>.<br/>
In particular, verbatim tags are not subject to <a href="#tag-resolution">tag resolution</a>.<br/>
A verbatim tag must either begin with a “<code>!</code>” (a <a href="#tags">local tag</a>) or be a valid URI<br/>
(a <a href="#tags">global tag</a>).</p>
</dd>
</dl>
<div class="example" id="example-verbatim-tags">
<p><strong>Example 7.24. Verbatim Tags</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">!&lt;tag:yaml.org,2002:str&gt;</mark> foo :
  <mark class="legend-1">!&lt;!bar&gt;</mark> baz
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="err">!&lt;!bar&gt;</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-verbatim-tag">verbatim-tag</a></code></li>
</ul>
</div>
</div>
<div class="example" id="example-invalid-verbatim-tags">
<p><strong>Example 7.25. Invalid Verbatim Tags</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
- !&lt;<mark class="legend-1">!</mark>&gt; foo
- !&lt;<mark class="legend-2">$:?</mark>&gt; bar
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- Verbatim tags aren't resolved,
  so <mark class="legend-1">!</mark> is invalid.
- The <mark class="legend-2">$:?</mark> tag is neither a global
  URI tag nor a local tag starting
  with '!'.
</pre>
</td>
</tr>
</table>
</div>
<div id="tag-shorthands"></div>
<dl>
<dt>Tag Shorthands</dt>
<dd>
<p>A <em>tag shorthand</em> consists of a valid <a href="#tag-handles">tag handle</a> followed by a non-empty<br/>
suffix.<br/>
The <a href="#tag-handles">tag handle</a> must be associated with a <a href="#tag-prefixes">prefix</a>, either by default or by<br/>
using a “<code>TAG</code>” directive.<br/>
The resulting <a href="#parsing-the-presentation-stream">parsed</a> <a href="#tags">tag</a> is the concatenation of the <a href="#tag-prefixes">prefix</a> and the<br/>
suffix and must either begin with “<code>!</code>” (a <a href="#tags">local tag</a>) or be a valid URI (a<br/>
<a href="#tags">global tag</a>).</p>
</dd>
<dd>
<p>The choice of <a href="#tag-handles">tag handle</a> is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to<br/>
convey <a href="#nodes">content</a> information.<br/>
In particular, the <a href="#tag-handles">tag handle</a> may be discarded once <a href="#parsing-the-presentation-stream">parsing</a> is completed.</p>
</dd>
<dd>
<p>The suffix must not contain any “<code>!</code>” character.<br/>
This would cause the tag shorthand to be interpreted as having a <a href="#tag-handles">named tag<br/>
handle</a>.<br/>
In addition, the suffix must not contain the “<code>[</code>”, “<code>]</code>”, “<code>{</code>”, “<code>}</code>” and<br/>
“<code>,</code>” characters.<br/>
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.<br/>
If the suffix needs to specify any of the above restricted characters, they<br/>
must be <a href="#escaped-characters">escaped</a> using the “<code>%</code>” character.<br/>
This behavior is consistent with the URI character escaping rules<br/>
(specifically, section 2.3 of URI RFC).</p>
</dd>
</dl>
<div class="example" id="example-tag-shorthands">
<p><strong>Example 7.26. Tag Shorthands</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%TAG !e! tag:example.com,2000:app/
---
- <mark class="legend-1">!local</mark> foo
- <mark class="legend-1">!!str</mark> bar
- <mark class="legend-1">!e!tag%21</mark> baz
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="err">!&lt;!local&gt;</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="err">!&lt;tag:yaml.org</span><span class="p">,</span><span class="mi">2002</span><span class="err">:str&gt;</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
  </span><span class="err">!&lt;tag:example.com</span><span class="p">,</span><span class="mi">2000</span><span class="err">:app/tag!&gt;</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-shorthand-tag">shorthand-tag</a></code></li>
</ul>
</div>
</div>
<div class="example" id="example-invalid-tag-shorthands">
<p><strong>Example 7.27. Invalid Tag Shorthands</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
%TAG !e! tag:example,2000:app/
---
- <mark class="legend-1">!e!</mark> foo
- <mark class="legend-2">!h!</mark>bar baz
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- The <mark class="legend-1">!e!</mark> handle has no suffix.
- The <mark class="legend-2">!h!</mark> handle wasn't declared.
</pre>
</td>
</tr>
</table>
</div>
<div id="non-specific-tags"></div>
<dl>
<dt>Non-Specific Tags</dt>
<dd>
<p>If a <a href="#nodes">node</a> has no tag property, it is assigned a <a href="#resolved-tags">non-specific tag</a> that needs<br/>
to be <a href="#resolved-tags">resolved</a> to a <a href="#resolved-tags">specific</a> one.<br/>
This <a href="#resolved-tags">non-specific tag</a> is “<code>!</code>” for non-<a href="#plain-style">plain scalars</a> and “<code>?</code>” for all<br/>
other <a href="#nodes">nodes</a>.<br/>
This is the only case where the <a href="#node-styles">node style</a> has any effect on the <a href="#nodes">content</a><br/>
information.</p>
</dd>
<dd>
<p>It is possible for the tag property to be explicitly set to the “<code>!</code>”<br/>
non-specific tag.<br/>
By <a href="#resolved-tags">convention</a>, this “disables” <a href="#tag-resolution">tag resolution</a>, forcing the <a href="#nodes">node</a> to be<br/>
interpreted as “<code>tag:yaml.org,2002:seq</code>”, “<code>tag:yaml.org,2002:map</code>” or<br/>
“<code>tag:yaml.org,2002:str</code>”, according to its <a href="#nodes">kind</a>.</p>
</dd>
<dd>
<p>There is no way to explicitly specify the “<code>?</code>” non-specific tag.<br/>
This is intentional.</p>
</dd>
</dl>
<div class="example" id="example-non-specific-tags">
<p><strong>Example 7.28. Non-Specific Tags</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Assuming conventional resolution:
- "12"
- 12
- <mark class="legend-1">!</mark> 12
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
  </span><span class="mi">12</span><span class="p">,</span><span class="w">
  </span><span class="s2">"12"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-non-specific-tag">non-specific-tag</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h3 id="-node-anchors">7.9.2. Node Anchors</h3>
<p>An anchor is denoted by the “<code>&amp;</code>” indicator.<br/>
It marks a <a href="#nodes">node</a> for future reference.<br/>
An <a href="#alias-nodes">alias node</a> can then be used to indicate additional inclusions of the<br/>
anchored <a href="#nodes">node</a>.<br/>
An anchored <a href="#nodes">node</a> need not be referenced by any <a href="#alias-nodes">alias nodes</a>; in particular,<br/>
it is valid for all <a href="#nodes">nodes</a> to be anchored.</p>
<p>Note that as a <a href="#serializing-the-representation-graph">serialization detail</a>, the anchor name is preserved in the<br/>
<a href="#serialization-tree">serialization tree</a>.<br/>
However, it is not reflected in the <a href="#representation-graph">representation</a> graph and must not be used<br/>
to convey <a href="#nodes">content</a> information.<br/>
In particular, the YAML <a href="#processes-and-models">processor</a> need not preserve the anchor name once the<br/>
<a href="#representation-graph">representation</a> is <a href="#composing-the-representation-graph">composed</a>.</p>
<p>Anchor names must not contain the “<code>[</code>”, “<code>]</code>”, “<code>{</code>”, “<code>}</code>” and “<code>,</code>”<br/>
characters.<br/>
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.</p>
<div class="example" id="example-node-anchors">
<p><strong>Example 7.29. Node Anchors</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
First occurrence: <mark class="legend-1">&amp;<mark class="legend-2">anchor</mark></mark> Value
Second occurrence: *<mark class="legend-2">anchor</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"First occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">&amp;A</span><span class="w"> </span><span class="s2">"Value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Second occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">*A</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-anchor-property">anchor-property</a></code></li>
<li><code class="legend-2"><a href="#rule-anchor-name">anchor-name</a></code></li>
</ul>
</div>
</div>
</section></section></section><section data-section-number="8"><h1 id="chapter--flow-style-productions">Chapter 8. Flow Style Productions</h1>
<p>YAML’s <em>flow styles</em> can be thought of as the natural extension of JSON to<br/>
cover <a href="#line-folding">folding</a> long content lines for readability, <a href="#tags">tagging</a> nodes to control<br/>
<a href="#constructing-native-data-structures">construction</a> of <a href="#representing-native-data-structures">native data structures</a> and using <a href="#anchors-and-aliases">anchors</a> and <a href="#anchors-and-aliases">aliases</a> to<br/>
reuse <a href="#constructing-native-data-structures">constructed</a> object instances.</p>
<section data-section-number="1"><h2 id="-alias-nodes">8.1. Alias Nodes</h2>
<p>Subsequent occurrences of a previously <a href="#serializing-the-representation-graph">serialized</a> node are <a href="#presenting-the-serialization-tree">presented</a> as<br/>
<em>alias nodes</em>.<br/>
The first occurrence of the <a href="#nodes">node</a> must be marked by an <a href="#anchors-and-aliases">anchor</a> to allow<br/>
subsequent occurrences to be <a href="#presenting-the-serialization-tree">presented</a> as alias nodes.</p>
<p>An alias node is denoted by the “<code>*</code>” indicator.<br/>
The alias refers to the most recent preceding <a href="#nodes">node</a> having the same <a href="#anchors-and-aliases">anchor</a>.<br/>
It is an error for an alias node to use an <a href="#anchors-and-aliases">anchor</a> that does not previously<br/>
occur in the <a href="#documents">document</a>.<br/>
It is not an error to specify an <a href="#anchors-and-aliases">anchor</a> that is not used by any alias node.</p>
<p>Note that an alias node must not specify any <a href="#node-properties">properties</a> or <a href="#nodes">content</a>, as<br/>
these were already specified at the first occurrence of the <a href="#nodes">node</a>.</p>
<div class="example" id="example-alias-nodes">
<p><strong>Example 8.1. Alias Nodes</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
First occurrence: &amp;<mark class="legend-2">anchor</mark> Foo
Second occurrence: <mark class="legend-1">*<mark class="legend-2">anchor</mark></mark>
Override anchor: &amp;<mark class="legend-2">anchor</mark> Bar
Reuse anchor: <mark class="legend-1">*<mark class="legend-2">anchor</mark></mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"First occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">&amp;A</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Override anchor"</span><span class="p">:</span><span class="w"> </span><span class="err">&amp;B</span><span class="w"> </span><span class="s2">"Bar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Second occurrence"</span><span class="p">:</span><span class="w"> </span><span class="err">*A</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Reuse anchor"</span><span class="p">:</span><span class="w"> </span><span class="err">*B</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-alias-node">alias-node</a></code></li>
<li><code class="legend-2"><a href="#rule-anchor-name">anchor-name</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h2 id="-empty-nodes">8.2. Empty Nodes</h2>
<p>YAML allows the <a href="#nodes">node content</a> to be omitted in many cases.<br/>
<a href="#nodes">Nodes</a> with empty <a href="#nodes">content</a> are interpreted as if they were <a href="#plain-style">plain scalars</a><br/>
with an empty value.<br/>
Such <a href="#nodes">nodes</a> are commonly resolved to a “<code>null</code>” value.</p>
<p>In the examples, empty <a href="#scalars">scalars</a> are sometimes displayed as the glyph “<code>°</code>” for<br/>
clarity.<br/>
Note that this glyph corresponds to a position in the characters <a href="#streams">stream</a><br/>
rather than to an actual character.</p>
<div class="example" id="example-empty-content">
<p><strong>Example 8.2. Empty Content</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
  foo : !!str<mark class="legend-1">°</mark>,
  !!str<mark class="legend-1">°</mark> : bar,
}
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">""</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-empty-node">empty-node</a></code></li>
</ul>
</div>
</div>
<p>Both the <a href="#node-properties">node’s properties</a> and <a href="#nodes">node content</a> are optional.<br/>
This allows for a <em>completely empty node</em>.<br/>
Completely empty nodes are only valid when following some explicit indication<br/>
for their existence.</p>
<div class="example" id="example-completely-empty-flow-nodes">
<p><strong>Example 8.3. Completely Empty Flow Nodes</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
  ? foo :<mark class="legend-1">°</mark>,
  <mark class="legend-1">°</mark>: bar,
}
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-empty-node">empty-node</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="3"><h2 id="-flow-scalar-styles">8.3. Flow Scalar Styles</h2>
<p>YAML provides three <em>flow scalar styles</em>: <a href="#double-quoted-style">double-quoted</a>, <a href="#single-quoted-style">single-quoted</a> and<br/>
<a href="#plain-style">plain</a> (unquoted).<br/>
Each provides a different trade-off between readability and expressive power.</p>
<p>The <a href="#node-styles">scalar style</a> is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to convey<br/>
<a href="#nodes">content</a> information, with the exception that <a href="#plain-style">plain scalars</a> are<br/>
distinguished for the purpose of <a href="#tag-resolution">tag resolution</a>.</p>
<section data-section-number="1"><h3 id="-double-quoted-style">8.3.1. Double-Quoted Style</h3>
<p>The <em>double-quoted style</em> is specified by surrounding “<code>"</code>” indicators.<br/>
This is the only <a href="#node-styles">style</a> capable of expressing arbitrary strings, by using<br/>
“<code>\</code>” <a href="#escaped-characters">escape sequences</a>.<br/>
This comes at the cost of having to escape the “<code>\</code>” and “<code>"</code>” characters.</p>
<p>Double-quoted scalars are restricted to a single line when contained inside an<br/>
<a href="#example-single-pair-explicit-entry">implicit key</a>.</p>
<div class="example" id="example-double-quoted-implicit-keys">
<p><strong>Example 8.4. Double Quoted Implicit Keys</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-2">"<mark class="legend-1">implicit block key</mark>"</mark> : [
  <mark class="legend-2">"<mark class="legend-1">implicit flow key</mark>"</mark> : value,
 ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"implicit block key"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"implicit flow key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-double-quoted-one-line">double-quoted-one-line</a></code></li>
<li><code class="legend-2"><a href="#rule-double-quoted-scalar">double-quoted-scalar(n,c)</a></code></li>
</ul>
</div>
</div>
<p>In a multi-line double-quoted scalar, <a href="#line-break-characters">line breaks</a> are subject to <a href="#flow-folding">flow line<br/>
folding</a>, which discards any trailing <a href="#white-space-characters">white space</a> characters.<br/>
It is also possible to <em>escape</em> the <a href="#line-break-characters">line break</a> character.<br/>
In this case, the escaped <a href="#line-break-characters">line break</a> is excluded from the <a href="#nodes">content</a> and any<br/>
trailing <a href="#white-space-characters">white space</a> characters that precede the escaped line break are<br/>
preserved.<br/>
Combined with the ability to <a href="#escaped-characters">escape</a> <a href="#white-space-characters">white space</a> characters, this allows<br/>
double-quoted lines to be broken at arbitrary positions.</p>
<div class="example" id="example-double-quoted-line-breaks">
<p><strong>Example 8.5. Double Quoted Line Breaks</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
"folded<mark class="legend-1">·↓</mark>
to a space,<mark class="legend-1">→↓</mark>
<mark class="legend-1">·↓</mark>
to a line feed, or<mark class="legend-2">·→\↓</mark>
<mark class="legend-2">·</mark>\·→non-content"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"folded to a space,</span><span class="se">\n</span><span class="s2">to a line feed, or </span><span class="se">\t</span><span class="s2"> </span><span class="se">\t</span><span class="s2">non-content"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-folded-whitespace">flow-folded-whitespace(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-double-quoted-line-continuation">double-quoted-line-continuation(n)</a></code></li>
</ul>
</div>
</div>
<p>All leading and trailing <a href="#white-space-characters">white space</a> characters on each line are excluded<br/>
from the <a href="#nodes">content</a>.<br/>
Each continuation line must therefore contain at least one non-<a href="#white-space-characters">space</a><br/>
character.<br/>
Empty lines, if any, are consumed as part of the <a href="#line-folding">line folding</a>.</p>
<div class="example" id="example-double-quoted-lines">
<p><strong>Example 8.6. Double Quoted Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
"<mark class="legend-1">·1st non-empty</mark><mark class="legend-2">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2">·<mark class="legend-1">2nd non-empty</mark>·</mark>
<mark class="legend-2">→<mark class="legend-1">3rd non-empty</mark></mark>·"
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">" 1st non-empty</span><span class="se">\n</span><span class="s2">2nd non-empty 3rd non-empty "</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-double-quoted-first-line">double-quoted-first-line</a></code></li>
<li><code class="legend-2"><a href="#rule-double-quoted-next-line">double-quoted-next-line(n)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h3 id="-single-quoted-style">8.3.2. Single-Quoted Style</h3>
<p>The <em>single-quoted style</em> is specified by surrounding “<code>'</code>” indicators.<br/>
Therefore, within a single-quoted scalar, such characters need to be repeated.<br/>
This is the only form of <em>escaping</em> performed in single-quoted scalars.<br/>
In particular, the “<code>\</code>” and “<code>"</code>” characters may be freely used.<br/>
This restricts single-quoted scalars to <a href="#character-set">printable</a> characters.<br/>
In addition, it is only possible to break a long single-quoted line where a<br/>
<a href="#white-space-characters">space</a> character is surrounded by non-<a href="#white-space-characters">spaces</a>.</p>
<div class="example" id="example-single-quoted-characters">
<p><strong>Example 8.7. Single Quoted Characters</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
'here<mark class="legend-1">''</mark>s to "quotes"'
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"here's to </span><span class="se">\"</span><span class="s2">quotes</span><span class="se">\"</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-single-quoted-escaped-single-quote">single-quoted-escaped-single-quote</a></code></li>
</ul>
</div>
</div>
<p>Single-quoted scalars are restricted to a single line when contained inside a<br/>
<a href="#example-single-pair-explicit-entry">implicit key</a>.</p>
<div class="example" id="example-single-quoted-implicit-keys">
<p><strong>Example 8.8. Single Quoted Implicit Keys</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-2">'<mark class="legend-1">implicit block key</mark>'</mark> : [
  <mark class="legend-2">'<mark class="legend-1">implicit flow key</mark>'</mark> : value,
 ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"implicit block key"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"implicit flow key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-single-quoted-one-line">single-quoted-one-line</a></code></li>
<li><code class="legend-2"><a href="#rule-single-quoted-scalar">single-quoted-scalar(n,c)</a></code></li>
</ul>
</div>
</div>
<p>All leading and trailing <a href="#white-space-characters">white space</a> characters are excluded from the<br/>
<a href="#nodes">content</a>.<br/>
Each continuation line must therefore contain at least one non-<a href="#white-space-characters">space</a><br/>
character.<br/>
Empty lines, if any, are consumed as part of the <a href="#line-folding">line folding</a>.</p>
<div class="example" id="example-single-quoted-lines">
<p><strong>Example 8.9. Single Quoted Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
'<mark class="legend-1">·1st non-empty</mark><mark class="legend-2">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2">·<mark class="legend-1">2nd non-empty</mark>·</mark>
<mark class="legend-2">→<mark class="legend-1">3rd non-empty</mark></mark>·'
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">" 1st non-empty</span><span class="se">\n</span><span class="s2">2nd non-empty 3rd non-empty "</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-single-quoted-first-line">single-quoted-first-line(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-single-quoted-next-line">single-quoted-next-line(n)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="3"><h3 id="-plain-style">8.3.3. Plain Style</h3>
<p>The <em>plain</em> (unquoted) style has no identifying <a href="#indicator-characters">indicators</a> and provides no<br/>
form of escaping.<br/>
It is therefore the most readable, most limited and most <a href="#context-c">context</a> sensitive<br/>
<a href="#node-styles">style</a>.<br/>
In addition to a restricted character set, a plain scalar must not be empty or<br/>
contain leading or trailing <a href="#white-space-characters">white space</a> characters.<br/>
It is only possible to break a long plain line where a <a href="#white-space-characters">space</a> character is<br/>
surrounded by non-<a href="#white-space-characters">spaces</a>.</p>
<p>Plain scalars must not begin with most <a href="#indicator-characters">indicators</a>, as this would cause<br/>
ambiguity with other YAML constructs.<br/>
However, the “<code>:</code>”, “<code>?</code>” and “<code>-</code>” <a href="#indicator-characters">indicators</a> may be used as the first<br/>
character if followed by a non-<a href="#white-space-characters">space</a> “safe” character, as this causes no<br/>
ambiguity.</p>
<p>Plain scalars must never contain the “<code>: </code>” and “<code> #</code>” character combinations.<br/>
Such combinations would cause ambiguity with <a href="#mapping">mapping</a> <a href="#mapping">key/value pairs</a> and<br/>
<a href="#comments">comments</a>.<br/>
In addition, inside <a href="#flow-collection-styles">flow collections</a>, or when used as <a href="#example-single-pair-explicit-entry">implicit keys</a>, plain<br/>
scalars must not contain the “<code>[</code>”, “<code>]</code>”, “<code>{</code>”, “<code>}</code>” and “<code>,</code>” characters.<br/>
These characters would cause ambiguity with <a href="#flow-collection-styles">flow collection</a> structures.</p>
<div class="example" id="example-plain-characters">
<p><strong>Example 8.10. Plain Characters</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Outside flow collection:
- <mark class="legend-1">:</mark><mark class="legend-2">:</mark>vector
- "<mark class="legend-3">:</mark> - ()"
- Up<mark class="legend-2">,</mark> up, and away!
- <mark class="legend-1">-</mark>123
- http<mark class="legend-2">s</mark>://example.com/fo<mark class="legend-2">o</mark>#bar
# Inside flow collection:
- [ <mark class="legend-1">:</mark><mark class="legend-2">:</mark>vector,
  "<mark class="legend-3">:</mark> - ()",
  "Up<mark class="legend-4">,</mark> up and away!",
  <mark class="legend-1">-</mark>123,
  http<mark class="legend-2">s</mark>://example.com/fo<mark class="legend-2">o</mark>#bar ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"::vector"</span><span class="p">,</span><span class="w">
  </span><span class="s2">": - ()"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Up, up, and away!"</span><span class="p">,</span><span class="w">
  </span><span class="mi">-123</span><span class="p">,</span><span class="w">
  </span><span class="s2">"http://example.com/foo#bar"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"::vector"</span><span class="p">,</span><span class="w">
    </span><span class="s2">": - ()"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Up, up, and away!"</span><span class="p">,</span><span class="w">
    </span><span class="mi">-123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"http://example.com/foo#bar"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-plain-scalar-first-character">plain-scalar-first-character(c)</a></code></li>
<li><code class="legend-2"><a href="#rule-plain-scalar-characters">plain-scalar-characters(c)</a></code></li>
<li><code class="legend-3">Not plain-scalar-first-character(c)</code></li>
<li><code class="legend-4">Not plain-scalar-characters(c)</code></li>
</ul>
</div>
</div>
<p>Plain scalars are further restricted to a single line when contained inside an<br/>
<a href="#example-single-pair-explicit-entry">implicit key</a>.</p>
<div class="example" id="example-plain-implicit-keys">
<p><strong>Example 8.11. Plain Implicit Keys</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">implicit block key</mark> : [
  <mark class="legend-1">implicit flow key</mark> : value,
 ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"implicit block key"</span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"implicit flow key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-plain-scalar-single-line">plain-scalar-single-line(c)</a></code></li>
</ul>
</div>
</div>
<p>All leading and trailing <a href="#white-space-characters">white space</a> characters are excluded from the<br/>
<a href="#nodes">content</a>.<br/>
Each continuation line must therefore contain at least one non-<a href="#white-space-characters">space</a><br/>
character.<br/>
Empty lines, if any, are consumed as part of the <a href="#line-folding">line folding</a>.</p>
<div class="example" id="example-plain-lines">
<p><strong>Example 8.12. Plain Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">1st non-empty</mark><mark class="legend-2">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2">·<mark class="legend-1">2nd non-empty</mark>·</mark>
<mark class="legend-2">→<mark class="legend-1">3rd non-empty</mark></mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"1st non-empty</span><span class="se">\n</span><span class="s2">2nd non-empty 3rd non-empty"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-plain-scalar-line-characters">plain-scalar-line-characters(c)</a></code></li>
<li><code class="legend-2"><a href="#rule-plain-scalar-next-line">plain-scalar-next-line(n,c)</a></code></li>
</ul>
</div>
</div>
</section></section><section data-section-number="4"><h2 id="-flow-collection-styles">8.4. Flow Collection Styles</h2>
<p>A <em>flow collection</em> may be nested within a <a href="#block-collection-styles">block collection</a> ([<code>FLOW-OUT</code><br/>
context]), nested within another flow collection ([<code>FLOW-IN</code> context]) or be a<br/>
part of an <a href="#example-single-pair-explicit-entry">implicit key</a> ([<code>FLOW-KEY</code> context] or [<code>BLOCK-KEY</code> context]).<br/>
Flow collection entries are terminated by the “<code>,</code>” indicator.<br/>
The final “<code>,</code>” may be omitted.<br/>
This does not cause ambiguity because flow collection entries can never be<br/>
<a href="#example-empty-content">completely empty</a>.</p>
<section data-section-number="1"><h3 id="-flow-sequences">8.4.1. Flow Sequences</h3>
<p><em>Flow sequence content</em> is denoted by surrounding “<code>[</code>” and “<code>]</code>” characters.</p>
<p>Sequence entries are separated by a “<code>,</code>” character.</p>
<div class="example" id="example-flow-sequence">
<p><strong>Example 8.13. Flow Sequence</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">[</mark> <mark class="legend-2">one</mark>, <mark class="legend-2">two</mark>, <mark class="legend-1">]</mark>
- <mark class="legend-1">[</mark><mark class="legend-2">three</mark> ,<mark class="legend-2">four</mark><mark class="legend-1">]</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"three"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"four"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">sequence-start, sequence-end</code></li>
<li><code class="legend-2"><a href="#rule-flow-sequence-entry">flow-sequence-entry(n,c)</a></code></li>
</ul>
</div>
</div>
<p>Any <a href="#flow-nodes">flow node</a> may be used as a flow sequence entry.<br/>
In addition, YAML provides a <a href="#example-flow-mapping-adjacent-values">compact notation</a> for the case where a flow<br/>
sequence entry is a <a href="#mapping">mapping</a> with a <a href="#mapping">single key/value pair</a>.</p>
<div class="example" id="example-flow-sequence-entries">
<p><strong>Example 8.14. Flow Sequence Entries</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
[
<mark class="legend-1">"double</mark>
<mark class="legend-1"> quoted"</mark>, <mark class="legend-1">'single</mark>
<mark class="legend-1">           quoted'</mark>,
<mark class="legend-1">plain</mark>
<mark class="legend-1"> text</mark>, <mark class="legend-1">[ nested ]</mark>,
<mark class="legend-2">single: pair</mark>,
]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"double quoted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"single quoted"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"plain text"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"nested"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"single"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pair"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-node">flow-node(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-flow-pair">flow-pair(n,c)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h3 id="-flow-mappings">8.4.2. Flow Mappings</h3>
<p><em>Flow mappings</em> are denoted by surrounding “<code>{</code>” and “<code>}</code>” characters.</p>
<p>Mapping entries are separated by a “<code>,</code>” character.</p>
<div class="example" id="example-flow-mappings">
<p><strong>Example 8.15. Flow Mappings</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">{</mark> <mark class="legend-2">one : two</mark> , <mark class="legend-2">three: four</mark> , <mark class="legend-1">}</mark>
- <mark class="legend-1">{</mark><mark class="legend-2">five: six</mark>,<mark class="legend-2">seven : eight</mark><mark class="legend-1">}</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"one"</span><span class="p">:</span><span class="w"> </span><span class="s2">"two"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"three"</span><span class="p">:</span><span class="w"> </span><span class="s2">"four"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"five"</span><span class="p">:</span><span class="w"> </span><span class="s2">"six"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seven"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eight"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">mapping start, mapping end</code></li>
<li><code class="legend-2"><a href="#rule-flow-mapping-entry">flow-mapping-entry(n,c)</a></code></li>
</ul>
</div>
</div>
<p>If the optional “<code>?</code>” mapping key indicator is specified, the rest of the entry<br/>
may be <a href="#example-empty-content">completely empty</a>.</p>
<div class="example" id="example-flow-mapping-entries">
<p><strong>Example 8.16. Flow Mapping Entries</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
? <mark class="legend-1">explicit: entry</mark>,
<mark class="legend-2">implicit: entry</mark>,
?<mark class="legend-3">°</mark><mark class="legend-3">°</mark>
}
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"explicit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entry"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"implicit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entry"</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-flow-mapping-implicit-entry">flow-mapping-implicit-entry(n,c)</a></code></li>
<li><code class="legend-3"><a href="#rule-empty-node">empty-node</a></code></li>
</ul>
</div>
</div>
<p>Normally, YAML insists the “<code>:</code>” mapping value indicator be <a href="#separation-spaces">separated</a> from<br/>
the <a href="#nodes">value</a> by <a href="#white-space-characters">white space</a>.<br/>
A benefit of this restriction is that the “<code>:</code>” character can be used inside<br/>
<a href="#plain-style">plain scalars</a>, as long as it is not followed by <a href="#white-space-characters">white space</a>.<br/>
This allows for unquoted URLs and timestamps.<br/>
It is also a potential source for confusion as “<code>a:1</code>” is a <a href="#plain-style">plain scalar</a> and<br/>
not a <a href="#mapping">key/value pair</a>.</p>
<p>Note that the <a href="#nodes">value</a> may be <a href="#example-empty-content">completely empty</a> since its existence is<br/>
indicated by the “<code>:</code>”.</p>
<div class="example" id="example-flow-mapping-separate-values">
<p><strong>Example 8.17. Flow Mapping Separate Values</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
<mark class="legend-1">unquoted</mark>·<mark class="legend-2">:·"separate"</mark>,
<mark class="legend-1">https://foo.com</mark>,
<mark class="legend-1">omitted value</mark><mark class="legend-2">:<mark class="legend-3">°</mark></mark>,
<mark class="legend-3">°</mark><mark class="legend-2">:·omitted key</mark>,
}
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"unquoted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"separate"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"http://foo.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"omitted value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="s2">"omitted key"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-yaml-node">flow-yaml-node(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-empty-node">empty-node</a></code></li>
<li><code class="legend-3"><a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value(n,c)</a></code></li>
</ul>
</div>
</div>
<p>To ensure <a href="#yaml-directives">JSON compatibility</a>, if a <a href="#nodes">key</a> inside a flow mapping is<br/>
<a href="#flow-nodes">JSON-like</a>, YAML allows the following <a href="#nodes">value</a> to be specified adjacent to the<br/>
“<code>:</code>”.<br/>
This causes no ambiguity, as all <a href="#flow-nodes">JSON-like</a> <a href="#nodes">keys</a> are surrounded by<br/>
<a href="#indicator-characters">indicators</a>.<br/>
However, as this greatly reduces readability, YAML <a href="#processes-and-models">processors</a> should<br/>
<a href="#separation-spaces">separate</a> the <a href="#nodes">value</a> from the “<code>:</code>” on output, even in this case.</p>
<div class="example" id="example-flow-mapping-adjacent-values">
<p><strong>Example 8.18. Flow Mapping Adjacent Values</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
{
<mark class="legend-1">"adjacent"</mark>:<mark class="legend-3">value</mark>,
<mark class="legend-1">"readable"</mark>:·<mark class="legend-3">value</mark>,
<mark class="legend-1">"empty"</mark>:<mark class="legend-2">°</mark>
}
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"adjacent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"readable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"empty"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-json-node">flow-json-node(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-empty-node">empty-node</a></code></li>
<li><code class="legend-3"><a href="#rule-flow-mapping-adjacent-value">flow-mapping-adjacent-value(n,c)</a></code></li>
</ul>
</div>
</div>
<p>A more compact notation is usable inside <a href="#flow-sequences">flow sequences</a>, if the <a href="#mapping">mapping</a><br/>
contains a <em>single key/value pair</em>.<br/>
This notation does not require the surrounding “<code>{</code>” and “<code>}</code>” characters.<br/>
Note that it is not possible to specify any <a href="#node-properties">node properties</a> for the <a href="#mapping">mapping</a><br/>
in this case.</p>
<div class="example" id="example-single-pair-flow-mappings">
<p><strong>Example 8.19. Single Pair Flow Mappings</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
[
<mark class="legend-1">foo: bar</mark>
]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-pair">flow-pair(n,c)</a></code></li>
</ul>
</div>
</div>
<p>If the “<code>?</code>” indicator is explicitly specified, <a href="#parsing-the-presentation-stream">parsing</a> is unambiguous and<br/>
the syntax is identical to the general case.</p>
<div class="example" id="example-single-pair-explicit-entry">
<p><strong>Example 8.20. Single Pair Explicit Entry</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
[
? <mark class="legend-1">foo</mark>
 <mark class="legend-1">bar : baz</mark>
]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo bar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"baz"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry(n,c)</a></code></li>
</ul>
</div>
</div>
<p>If the “<code>?</code>” indicator is omitted, <a href="#parsing-the-presentation-stream">parsing</a> needs to see past the <em>implicit<br/>
key</em> to recognize it as such.<br/>
To limit the amount of lookahead required, the “<code>:</code>” indicator must appear at<br/>
most 1024 Unicode characters beyond the start of the <a href="#nodes">key</a>.<br/>
In addition, the <a href="#nodes">key</a> is restricted to a single line.</p>
<p>Note that YAML allows arbitrary <a href="#nodes">nodes</a> to be used as <a href="#nodes">keys</a>.<br/>
In particular, a <a href="#nodes">key</a> may be a <a href="#sequence">sequence</a> or a <a href="#mapping">mapping</a>.<br/>
Thus, without the above restrictions, practical one-pass <a href="#parsing-the-presentation-stream">parsing</a> would have<br/>
been impossible to implement.</p>
<div class="example" id="example-single-pair-implicit-entries">
<p><strong>Example 8.21. Single Pair Implicit Entries</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- [ <mark class="legend-1">YAML·</mark><mark class="legend-4">: separate</mark> ]
- [ <mark class="legend-2">°</mark><mark class="legend-4">: empty key entry</mark> ]
- [ <mark class="legend-3">{JSON: like}</mark><mark class="legend-4">:adjacent</mark> ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"YAML"</span><span class="p">:</span><span class="w"> </span><span class="s2">"separate"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="s2">"empty key entry"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"JSON"</span><span class="p">:</span><span class="w"> </span><span class="s2">"like"</span><span class="w"> </span><span class="p">}</span><span class="err">:</span><span class="w"> </span><span class="s2">"adjacent"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-implicit-yaml-key">implicit-yaml-key</a></code></li>
<li><code class="legend-2"><a href="#rule-empty-node">empty-node</a></code></li>
<li><code class="legend-3"><a href="#rule-implicit-json-key">implicit-json-key</a></code></li>
<li><code class="legend-4">Value</code></li>
</ul>
</div>
</div>
<div class="example" id="example-invalid-implicit-keys">
<p><strong>Example 8.22. Invalid Implicit Keys</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
[ <mark class="legend-1">foo</mark>
<mark class="legend-1"> bar</mark>: invalid,
 <mark class="legend-2">"foo_...&gt;1K characters..._bar"</mark>: invalid ]
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- The <mark class="legend-1">foo bar</mark> key spans multiple lines
- The <mark class="legend-2">foo...bar</mark> key is too long
</pre>
</td>
</tr>
</table>
</div>
</section></section><section data-section-number="5"><h2 id="-flow-nodes">8.5. Flow Nodes</h2>
<p><em>JSON-like</em> <a href="#flow-style-productions">flow styles</a> all have explicit start and end <a href="#indicator-characters">indicators</a>.<br/>
The only <a href="#flow-style-productions">flow style</a> that does not have this property is the <a href="#plain-style">plain scalar</a>.<br/>
Note that none of the “JSON-like” styles is actually acceptable by JSON.<br/>
Even the <a href="#double-quoted-style">double-quoted style</a> is a superset of the JSON string format.</p>
<div class="example" id="example-flow-content">
<p><strong>Example 8.23. Flow Content</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">[ a, b ]</mark>
- <mark class="legend-1">{ a: b }</mark>
- <mark class="legend-1">"a"</mark>
- <mark class="legend-1">'b'</mark>
- <mark class="legend-2">c</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"c"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-json-content">flow-json-content(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-flow-yaml-content">flow-yaml-content(n,c)</a></code></li>
</ul>
</div>
</div>
<p>A complete <a href="#flow-style-productions">flow</a> <a href="#nodes">node</a> also has optional <a href="#node-properties">node properties</a>, except for <a href="#alias-nodes">alias<br/>
nodes</a> which refer to the <a href="#anchors-and-aliases">anchored</a> <a href="#node-properties">node properties</a>.</p>
<div class="example" id="example-flow-nodes">
<p><strong>Example 8.24. Flow Nodes</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">!!str "a"</mark>
- <mark class="legend-1">'b'</mark>
- <mark class="legend-1">&amp;anchor "c"</mark>
- <mark class="legend-2">*anchor</mark>
- <mark class="legend-2">!!str°</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">""</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-json-node">flow-json-node(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-flow-yaml-node">flow-yaml-node(n,c)</a></code></li>
</ul>
</div>
</div>
</section></section><section data-section-number="9"><h1 id="chapter--block-style-productions">Chapter 9. Block Style Productions</h1>
<p>YAML’s <em>block styles</em> employ <a href="#indentation-spaces">indentation</a> rather than <a href="#indicator-characters">indicators</a> to denote<br/>
structure.<br/>
This results in a more human readable (though less compact) notation.</p>
<section data-section-number="1"><h2 id="-block-scalar-styles">9.1. Block Scalar Styles</h2>
<p>YAML provides two <em>block scalar styles</em>, <a href="#literal-style">literal</a> and <a href="#line-folding">folded</a>.<br/>
Each provides a different trade-off between readability and expressive power.</p>
<section data-section-number="1"><h3 id="-block-scalar-headers">9.1.1. Block Scalar Headers</h3>
<p><a href="#block-scalar-styles">Block scalars</a> are controlled by a few <a href="#indicator-characters">indicators</a> given in a <em>header</em><br/>
preceding the <a href="#nodes">content</a> itself.<br/>
This header is followed by a non-content <a href="#line-break-characters">line break</a> with an optional<br/>
<a href="#comments">comment</a>.<br/>
This is the only case where a <a href="#comments">comment</a> must not be followed by additional<br/>
<a href="#comments">comment</a> lines.</p>
<div class="example" id="example-block-scalar-header">
<p><strong>Example 9.1. Block Scalar Header</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- |<mark class="legend-1"> # Empty header↓</mark>
 literal
- &gt;<mark class="legend-1">1 # Indentation indicator↓</mark>
 ·folded
- |<mark class="legend-1">+ # Chomping indicator↓</mark>
 keep

- &gt;<mark class="legend-1">1- # Both indicators↓</mark>
 ·strip
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"literal</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">" folded</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keep</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">" strip"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-scalar-indicators">block-scalar-indicators(t)</a></code></li>
</ul>
</div>
</div>
<section data-section-number="1"><h4 id="-block-indentation-indicator">9.1.1.1. Block Indentation Indicator</h4>
<p>Every block scalar has a <em>content indentation level</em>.<br/>
The content of the block scalar excludes a number of leading <a href="#white-space-characters">spaces</a> on each<br/>
line up to the content indentation level.</p>
<p>If a block scalar has an <em>indentation indicator</em>, then the content indentation<br/>
level of the block scalar is equal to the indentation level of the block scalar<br/>
plus the integer value of the indentation indicator character.</p>
<p>If no indentation indicator is given, then the content indentation level is<br/>
equal to the number of leading <a href="#white-space-characters">spaces</a> on the first non-<a href="#empty-lines">empty line</a> of the<br/>
contents.<br/>
If there is no non-<a href="#empty-lines">empty line</a> then the content indentation level is equal to<br/>
the number of spaces on the longest line.</p>
<p>It is an error if any non-<a href="#empty-lines">empty line</a> does not begin with a number of spaces<br/>
greater than or equal to the content indentation level.</p>
<p>It is an error for any of the leading <a href="#empty-lines">empty lines</a> to contain more <a href="#white-space-characters">spaces</a><br/>
than the first non-<a href="#empty-lines">empty line</a>.</p>
<p>A YAML <a href="#processes-and-models">processor</a> should only emit an explicit indentation indicator for cases<br/>
where detection will fail.</p>
<div class="example" id="example-block-indentation-indicator">
<p><strong>Example 9.2. Block Indentation Indicator</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- |<mark class="legend-1">°</mark>
<mark class="legend-2">·</mark>detected
- &gt;<mark class="legend-1">°</mark>
<mark class="legend-2">·</mark>
<mark class="legend-2">··</mark>
<mark class="legend-2">··</mark># detected
- |<mark class="legend-1">1</mark>
<mark class="legend-2">··</mark>explicit
- &gt;<mark class="legend-1">°</mark>
<mark class="legend-2">·</mark>→
<mark class="legend-2">·</mark>detected
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"detected</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\n\n</span><span class="s2"># detected</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">" explicit</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"</span><span class="se">\t\n</span><span class="s2">detected</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-scalar-indentation-indicator">block-scalar-indentation-indicator</a></code></li>
<li><code class="legend-2"><a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
</ul>
</div>
</div>
<div class="example" id="example-invalid-block-scalar-indentation-indicators">
<p><strong>Example 9.3. Invalid Block Scalar Indentation Indicators</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre class="error">
- |
·<mark class="legend-1">·</mark>
·text
- &gt;
··text
<mark class="legend-2">·</mark>text
- |2
<mark class="legend-3">·</mark>text
</pre>
</td>
<td class="side-by-side">
<pre class="error">
ERROR:
- A leading all-space line must
  not have too many <mark class="legend-1">spaces</mark>.
- A following text line must
  not be <mark class="legend-2">less indented</mark>.
- The text is <mark class="legend-3">less indented</mark>
  than the indicated level.
</pre>
</td>
</tr>
</table>
</div>
</section><section data-section-number="2"><h4 id="-block-chomping-indicator">9.1.1.2. Block Chomping Indicator</h4>
<p><em>Chomping</em> controls how final <a href="#line-break-characters">line breaks</a> and trailing <a href="#empty-lines">empty lines</a> are<br/>
interpreted.<br/>
YAML provides three chomping methods:</p>
<div id="strip"></div>
<dl>
<dt>Strip</dt>
<dd>
<p><em>Stripping</em> is specified by the “<code>-</code>” chomping indicator.<br/>
In this case, the final <a href="#line-break-characters">line break</a> and any trailing <a href="#empty-lines">empty lines</a> are<br/>
excluded from the <a href="#scalar">scalar’s content</a>.</p>
</dd>
</dl>
<div id="clip"></div>
<dl>
<dt>Clip</dt>
<dd>
<p><em>Clipping</em> is the default behavior used if no explicit chomping indicator is<br/>
specified.<br/>
In this case, the final <a href="#line-break-characters">line break</a> character is preserved in the <a href="#scalar">scalar’s<br/>
content</a>.<br/>
However, any trailing <a href="#empty-lines">empty lines</a> are excluded from the <a href="#scalar">scalar’s content</a>.</p>
</dd>
</dl>
<div id="keep"></div>
<dl>
<dt>Keep</dt>
<dd>
<p><em>Keeping</em> is specified by the “<code>+</code>” chomping indicator.<br/>
In this case, the final <a href="#line-break-characters">line break</a> and any trailing <a href="#empty-lines">empty lines</a> are<br/>
considered to be part of the <a href="#scalar">scalar’s content</a>.<br/>
These additional lines are not subject to <a href="#line-folding">folding</a>.</p>
</dd>
</dl>
<p>The chomping method used is a <a href="#presenting-the-serialization-tree">presentation detail</a> and must not be used to<br/>
convey <a href="#nodes">content</a> information.</p>
<p>The interpretation of the final <a href="#line-break-characters">line break</a> of a <a href="#block-scalar-styles">block scalar</a> is controlled<br/>
by the chomping indicator specified in the <a href="#block-scalar-headers">block scalar header</a>.</p>
<div class="example" id="example-chomping-final-line-break">
<p><strong>Example 9.4. Chomping Final Line Break</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
strip: |-
  text<mark class="legend-1">↓</mark>
clip: |
  text<mark class="legend-2">↓</mark>
keep: |+
  text<mark class="legend-2">↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"strip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-line-break">line-break</a></code></li>
<li><code class="legend-2"><a href="#rule-break-as-line-feed">break-as-line-feed</a></code></li>
</ul>
</div>
</div>
<p>The interpretation of the trailing <a href="#empty-lines">empty lines</a> following a <a href="#block-scalar-styles">block scalar</a> is<br/>
also controlled by the chomping indicator specified in the <a href="#block-scalar-headers">block scalar<br/>
header</a>.</p>
<p>Explicit <a href="#comments">comment</a> lines may follow the trailing <a href="#empty-lines">empty lines</a>.<br/>
To prevent ambiguity, the first such <a href="#comments">comment</a> line must be less <a href="#indentation-spaces">indented</a><br/>
than the <a href="#block-scalar-styles">block scalar content</a>.<br/>
Additional <a href="#comments">comment</a> lines, if any, are not so restricted.<br/>
This is the only case where the <a href="#indentation-spaces">indentation</a> of <a href="#comments">comment</a> lines is<br/>
constrained.</p>
<div class="example" id="example-chomping-trailing-lines">
<p><strong>Example 9.5. Chomping Trailing Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
# Strip
  # Comments:
strip: |-
  # text↓
<mark class="legend-1">··⇓</mark>
<mark class="legend-1"><mark class="legend-3">·# Clip</mark></mark>
<mark class="legend-1"><mark class="legend-3">··# comments:</mark></mark>
<mark class="legend-1"><mark class="legend-3">↓</mark></mark>
clip: |
  # text↓
<mark class="legend-1">·↓</mark>
<mark class="legend-1"><mark class="legend-3">·# Keep</mark></mark>
<mark class="legend-1"><mark class="legend-3">··# comments:</mark></mark>
<mark class="legend-1"><mark class="legend-3">↓</mark></mark>
keep: |+
  # text↓
<mark class="legend-2">↓</mark>
<mark class="legend-2"><mark class="legend-3">·# Trail</mark></mark>
<mark class="legend-2"><mark class="legend-3">··# comments.</mark></mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"strip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"# text"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"# text</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"# text</span><span class="se">\n\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-line-strip-empty">line-strip-empty(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-line-keep-empty">line-keep-empty(n)</a></code></li>
<li><code class="legend-3"><a href="#rule-line-trail-comments">line-trail-comments(n)</a></code></li>
</ul>
</div>
</div>
<p>If a <a href="#block-scalar-styles">block scalar</a> consists only of <a href="#empty-lines">empty lines</a>, then these lines are<br/>
considered as trailing lines and hence are affected by chomping.</p>
<div class="example" id="example-empty-scalar-chomping">
<p><strong>Example 9.6. Empty Scalar Chomping</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
strip: &gt;-
<mark class="legend-1">↓</mark>
clip: &gt;
<mark class="legend-1">↓</mark>
keep: |+
<mark class="legend-2">↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"strip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clip"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keep"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-line-strip-empty">line-strip-empty(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-line-keep-empty">line-keep-empty(n)</a></code></li>
</ul>
</div>
</div>
</section></section><section data-section-number="2"><h3 id="-literal-style">9.1.2. Literal Style</h3>
<p>The <em>literal style</em> is denoted by the “<code>|</code>” indicator.<br/>
It is the simplest, most restricted and most readable <a href="#node-styles">scalar style</a>.</p>
<div class="example" id="example-literal-scalar">
<p><strong>Example 9.7. Literal Scalar</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">|↓</mark>
<mark class="legend-1">·literal↓</mark>
<mark class="legend-1">·→text↓</mark>
<mark class="legend-1">↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"literal</span><span class="se">\n\t</span><span class="s2">text</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-literal-scalar">block-literal-scalar(n)</a></code></li>
</ul>
</div>
</div>
<p>Inside literal scalars, all (<a href="#indentation-spaces">indented</a>) characters are considered to be<br/>
<a href="#nodes">content</a>, including <a href="#white-space-characters">white space</a> characters.<br/>
Note that all <a href="#line-break-characters">line break</a> characters are <a href="#line-break-characters">normalized</a>.<br/>
In addition, <a href="#empty-lines">empty lines</a> are not <a href="#line-folding">folded</a>, though final <a href="#line-break-characters">line breaks</a> and<br/>
trailing <a href="#empty-lines">empty lines</a> are <a href="#block-chomping-indicator">chomped</a>.</p>
<p>There is no way to escape characters inside literal scalars.<br/>
This restricts them to <a href="#character-set">printable</a> characters.<br/>
In addition, there is no way to break a long literal line.</p>
<div class="example" id="example-literal-content">
<p><strong>Example 9.8. Literal Content</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
|
<mark class="legend-1">·</mark>
<mark class="legend-1">··</mark>
<mark class="legend-1">··literal</mark><mark class="legend-2">↓</mark>
<mark class="legend-1"><mark class="legend-2">···</mark></mark><mark class="legend-2">↓</mark>
<mark class="legend-1"><mark class="legend-2">··</mark></mark>
<mark class="legend-1"><mark class="legend-2">··text</mark></mark><mark class="legend-3">↓</mark>
↓
<mark class="legend-4">·# Comment</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n\n</span><span class="s2">literal</span><span class="se">\n</span><span class="s2">·</span><span class="se">\n\n</span><span class="s2">text</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-literal-scalar-line-content">literal-scalar-line-content(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-literal-scalar-next-line">literal-scalar-next-line(n)</a></code></li>
<li><code class="legend-3"><a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last(t)</a></code></li>
<li><code class="legend-4"><a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty(n,t)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="3"><h3 id="-folded-style">9.1.3. Folded Style</h3>
<p>The <em>folded style</em> is denoted by the “<code>&gt;</code>” indicator.<br/>
It is similar to the <a href="#literal-style">literal style</a>; however, folded scalars are subject to<br/>
<a href="#line-folding">line folding</a>.</p>
<div class="example" id="example-folded-scalar">
<p><strong>Example 9.9. Folded Scalar</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">&gt;↓</mark>
<mark class="legend-1">·folded↓</mark>
<mark class="legend-1">·text↓</mark>
<mark class="legend-1">↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"folded text</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-folded-scalar">block-folded-scalar(n)</a></code></li>
</ul>
</div>
</div>
<p><a href="#line-folding">Folding</a> allows long lines to be broken anywhere a single <a href="#white-space-characters">space</a> character<br/>
separates two non-<a href="#white-space-characters">space</a> characters.</p>
<div class="example" id="example-folded-lines">
<p><strong>Example 9.10. Folded Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;

<mark class="legend-1"><mark class="legend-2">·folded</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">·line</mark>↓</mark>
↓
<mark class="legend-1"><mark class="legend-2">·next</mark></mark>
<mark class="legend-1"><mark class="legend-2">·line</mark></mark>↓
   * bullet

   * list
   * lines

<mark class="legend-1"><mark class="legend-2">·last</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">·line</mark></mark>↓

# Comment
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-folded-scalar-lines">folded-scalar-lines(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-folded-scalar-text">folded-scalar-text(n)</a></code></li>
</ul>
</div>
</div>
<p>(The following three examples duplicate this example, each highlighting<br/>
different productions.)</p>
<p>Lines starting with <a href="#white-space-characters">white space</a> characters (<em>more-indented</em> lines) are not<br/>
<a href="#line-folding">folded</a>.</p>
<div class="example" id="example-more-indented-lines">
<p><strong>Example 9.11. More Indented Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;

 folded
 line

 next
 line
<mark class="legend-1"><mark class="legend-2">···* bullet</mark>↓</mark>
<mark class="legend-1">↓</mark>
<mark class="legend-1"><mark class="legend-2">···* list</mark>↓</mark>
<mark class="legend-1"><mark class="legend-2">···* lines</mark></mark>↓

 last
 line

# Comment
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-folded-scalar-spaced-lines">folded-scalar-spaced-lines(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-folded-scalar-spaced-text">folded-scalar-spaced-text(n)</a></code></li>
</ul>
</div>
</div>
<p><a href="#line-break-characters">Line breaks</a> and <a href="#empty-lines">empty lines</a> separating folded and more-indented lines are<br/>
also not <a href="#line-folding">folded</a>.</p>
<div class="example" id="example-empty-separation-lines">
<p><strong>Example 9.12. Empty Separation Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;
<mark class="legend-2">↓</mark>
 folded
 line<mark class="legend-1">↓</mark>
<mark class="legend-2">↓</mark>
 next
 line<mark class="legend-1">↓</mark>
   * bullet

   * list
   * lines<mark class="legend-1">↓</mark>
<mark class="legend-2">↓</mark>
 last
 line

# Comment
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-break-as-line-feed">break-as-line-feed</a></code></li>
<li><code class="legend-2">(separation) <a href="#rule-empty-line">empty-line(n,c)</a></code></li>
</ul>
</div>
</div>
<p>The final <a href="#line-break-characters">line break</a> and trailing <a href="#empty-lines">empty lines</a> if any, are subject to<br/>
<a href="#block-chomping-indicator">chomping</a> and are never <a href="#line-folding">folded</a>.</p>
<div class="example" id="example-final-empty-lines">
<p><strong>Example 9.13. Final Empty Lines</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
&gt;

 folded
 line

 next
 line
   * bullet

   * list
   * lines

 last
 line<mark class="legend-1">↓</mark>
<mark class="legend-2">↓</mark>
<mark class="legend-2"># Comment</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"</span><span class="se">\n</span><span class="s2">folded line</span><span class="se">\n</span><span class="s2">next line</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* bullet</span><span class="se">\n</span><span class="s2"> </span><span class="se">\n</span><span class="s2">  * list</span><span class="se">\n</span><span class="s2">  </span><span class="err">\</span><span class="s2">
* lines</span><span class="se">\n\n</span><span class="s2">last line</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last(t)</a></code></li>
<li><code class="legend-2"><a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty(n,t)</a></code></li>
</ul>
</div>
</div>
</section></section><section data-section-number="2"><h2 id="-block-collection-styles">9.2. Block Collection Styles</h2>
<p>For readability, <em>block collections styles</em> are not denoted by any <a href="#indicator-characters">indicator</a>.<br/>
Instead, YAML uses a lookahead method, where a block collection is<br/>
distinguished from a <a href="#plain-style">plain scalar</a> only when a <a href="#mapping">key/value pair</a> or a <a href="#block-sequences">sequence<br/>
entry</a> is seen.</p>
<section data-section-number="1"><h3 id="-block-sequences">9.2.1. Block Sequences</h3>
<p>A <em>block sequence</em> is simply a series of <a href="#nodes">nodes</a>, each denoted by a leading<br/>
“<code>-</code>” indicator.<br/>
The “<code>-</code>” indicator must be <a href="#separation-spaces">separated</a> from the <a href="#nodes">node</a> by <a href="#white-space-characters">white space</a>.<br/>
This allows “<code>-</code>” to be used as the first character in a <a href="#plain-style">plain scalar</a> if<br/>
followed by a non-space character (e.g. “<code>-42</code>”).</p>
<div class="example" id="example-block-sequence">
<p><strong>Example 9.14. Block Sequence</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
block sequence:
<mark class="legend-2">··</mark><mark class="legend-1">- one↓</mark>
  <mark class="legend-1">- two : three↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"block sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"two"</span><span class="p">:</span><span class="w"> </span><span class="s2">"three"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-sequence-entry">block-sequence-entry(n)</a></code></li>
<li><code class="legend-2">auto-detected <a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
</ul>
</div>
</div>
<p>The entry <a href="#nodes">node</a> may be either <a href="#example-empty-content">completely empty</a>, be a nested <a href="#block-nodes">block node</a> or<br/>
use a <em>compact in-line notation</em>.<br/>
The compact notation may be used when the entry is itself a nested <a href="#block-collection-styles">block<br/>
collection</a>.<br/>
In this case, both the “<code>-</code>” indicator and the following <a href="#white-space-characters">spaces</a> are<br/>
considered to be part of the <a href="#indentation-spaces">indentation</a> of the nested <a href="#collections">collection</a>.<br/>
Note that it is not possible to specify <a href="#node-properties">node properties</a> for such a<br/>
<a href="#collections">collection</a>.</p>
<div class="example" id="example-block-sequence-entry-types">
<p><strong>Example 9.15. Block Sequence Entry Types</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
-<mark class="legend-1">° # Empty</mark>
-<mark class="legend-2"> |</mark>
 <mark class="legend-2">block node</mark>
-<mark class="legend-3">·- one # Compact</mark>
<mark class="legend-3">··- two # sequence</mark>
-<mark class="legend-4"> one: two # Compact mapping</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block node</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="p">[</span><span class="w"> </span><span class="s2">"one"</span><span class="p">,</span><span class="w"> </span><span class="s2">"two"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"one"</span><span class="p">:</span><span class="w"> </span><span class="s2">"two"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1">Empty</code></li>
<li><code class="legend-2"><a href="#rule-block-node">block-node(n,c)</a></code></li>
<li><code class="legend-3"><a href="#rule-compact-sequence">compact-sequence(n)</a></code></li>
<li><code class="legend-4"><a href="#rule-compact-mapping">compact-mapping(n)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h3 id="-block-mappings">9.2.2. Block Mappings</h3>
<p>A <em>Block mapping</em> is a series of entries, each <a href="#presenting-the-serialization-tree">presenting</a> a <a href="#mapping">key/value pair</a>.</p>
<div class="example" id="example-block-mappings">
<p><strong>Example 9.16. Block Mappings</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
block mapping:
<mark class="legend-2">·</mark><mark class="legend-1">key: value↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"block mapping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-mapping-entry">block-mapping-entry(n)</a></code></li>
<li><code class="legend-2">auto-detected <a href="#rule-indentation-spaces">indentation-spaces(n)</a></code></li>
</ul>
</div>
</div>
<p>If the “<code>?</code>” indicator is specified, the optional value node must be specified<br/>
on a separate line, denoted by the “<code>:</code>” indicator.<br/>
Note that YAML allows here the same <a href="#example-block-sequence">compact in-line notation</a> described above<br/>
for <a href="#block-sequences">block sequence</a> entries.</p>
<div class="example" id="example-explicit-block-mapping-entries">
<p><strong>Example 9.17. Explicit Block Mapping Entries</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">? explicit key # Empty value↓</mark><mark class="legend-3">°</mark>
<mark class="legend-1">? |</mark>
<mark class="legend-1">  block key↓</mark>
<mark class="legend-2">:·- one # Explicit compact</mark>
<mark class="legend-2">··- two # block value↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"explicit key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block key\n"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"one"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"two"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-mapping-explicit-key">block-mapping-explicit-key(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-block-mapping-explicit-value">block-mapping-explicit-value(n)</a></code></li>
<li><code class="legend-3"><a href="#rule-empty-node">empty-node</a></code></li>
</ul>
</div>
</div>
<!-- REVIEW value should be null above -->
<p>If the “<code>?</code>” indicator is omitted, <a href="#parsing-the-presentation-stream">parsing</a> needs to see past the <a href="#example-single-pair-explicit-entry">implicit<br/>
key</a>, in the same way as in the <a href="#mapping">single key/value pair</a> <a href="#flow-mappings">flow mapping</a>.<br/>
Hence, such <a href="#nodes">keys</a> are subject to the same restrictions; they are limited to a<br/>
single line and must not span more than 1024 Unicode characters.</p>
<p>In this case, the <a href="#nodes">value</a> may be specified on the same line as the <a href="#example-single-pair-explicit-entry">implicit<br/>
key</a>.<br/>
Note however that in block mappings the <a href="#nodes">value</a> must never be adjacent to the<br/>
“<code>:</code>”, as this greatly reduces readability and is not required for <a href="#yaml-directives">JSON<br/>
compatibility</a> (unlike the case in <a href="#flow-mappings">flow mappings</a>).</p>
<p>There is no compact notation for in-line <a href="#nodes">values</a>.<br/>
Also, while both the <a href="#example-single-pair-explicit-entry">implicit key</a> and the <a href="#nodes">value</a> following it may be empty,<br/>
the “<code>:</code>” indicator is mandatory.<br/>
This prevents a potential ambiguity with multi-line <a href="#plain-style">plain scalars</a>.</p>
<div class="example" id="example-implicit-block-mapping-entries">
<p><strong>Example 9.18. Implicit Block Mapping Entries</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">plain key</mark><mark class="legend-2">: in-line value</mark>
<mark class="legend-1">°</mark><mark class="legend-2">:° # Both empty</mark>
<mark class="legend-1">"quoted key"</mark><mark class="legend-2">:</mark>
<mark class="legend-2">- entry</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"plain key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-line value"</span><span class="p">,</span><span class="w">
  </span><span class="kc">null</span><span class="err">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoted key"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"entry"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-mapping-implicit-key">block-mapping-implicit-key</a></code></li>
<li><code class="legend-2"><a href="#rule-block-mapping-implicit-value">block-mapping-implicit-value(n)</a></code></li>
</ul>
</div>
</div>
<p>A <a href="#example-block-sequence">compact in-line notation</a> is also available.<br/>
This compact notation may be nested inside <a href="#block-sequences">block sequences</a> and explicit block<br/>
mapping entries.<br/>
Note that it is not possible to specify <a href="#node-properties">node properties</a> for such a nested<br/>
mapping.</p>
<div class="example" id="example-compact-block-mappings">
<p><strong>Example 9.19. Compact Block Mappings</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
- <mark class="legend-1">sun: yellow↓</mark>
- <mark class="legend-1">? earth: blue↓</mark>
<mark class="legend-1">  : moon: white↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"sun"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yellow"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"earth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="w"> </span><span class="p">}</span><span class="err">:</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"moon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-compact-mapping">compact-mapping(n)</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="3"><h3 id="-block-nodes">9.2.3. Block Nodes</h3>
<p>YAML allows <a href="#flow-nodes">flow nodes</a> to be embedded inside <a href="#block-collection-styles">block collections</a> (but not<br/>
vice-versa).<br/>
<a href="#flow-nodes">Flow nodes</a> must be <a href="#indentation-spaces">indented</a> by at least one more <a href="#white-space-characters">space</a> than the parent<br/>
<a href="#block-collection-styles">block collection</a>.<br/>
Note that <a href="#flow-nodes">flow nodes</a> may begin on a following line.</p>
<p>It is at this point that <a href="#parsing-the-presentation-stream">parsing</a> needs to distinguish between a <a href="#plain-style">plain<br/>
scalar</a> and an <a href="#example-single-pair-explicit-entry">implicit key</a> starting a nested <a href="#block-mappings">block mapping</a>.</p>
<div class="example" id="example-block-node-types">
<p><strong>Example 9.20. Block Node Types</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
-<mark class="legend-1">↓</mark>
<mark class="legend-1">··"flow in block"↓</mark>
-·<mark class="legend-2">&gt;</mark>
<mark class="legend-2"> Block scalar↓</mark>
-·<mark class="legend-2">!!map # Block collection</mark>
<mark class="legend-2">  foo : bar↓</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w"> </span><span class="s2">"flow in block"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"Block scalar</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-flow-node-in-a-block-node">flow-node-in-a-block-node(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-block-node-in-a-block-node">block-node-in-a-block-node(n,c)</a></code></li>
</ul>
</div>
</div>
<p>The block <a href="#node-properties">node’s properties</a> may span across several lines.<br/>
In this case, they must be <a href="#indentation-spaces">indented</a> by at least one more <a href="#white-space-characters">space</a> than the<br/>
<a href="#block-collection-styles">block collection</a>, regardless of the <a href="#indentation-spaces">indentation</a> of the <a href="#block-collection-styles">block collection</a><br/>
entries.</p>
<div class="example" id="example-block-scalar-nodes">
<p><strong>Example 9.21. Block Scalar Nodes</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
literal: <mark class="legend-1">|2</mark>
<mark class="legend-1">··value</mark>
folded:<mark class="legend-2">↓</mark>
<mark class="legend-2">···!foo</mark>
<mark class="legend-2">··&gt;1</mark>
<mark class="legend-2">·value</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"literal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"folded"</span><span class="p">:</span><span class="w"> </span><span class="err">!&lt;!foo&gt;</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-literal-scalar">block-literal-scalar(n)</a></code></li>
<li><code class="legend-2"><a href="#rule-block-folded-scalar">block-folded-scalar(n)</a></code></li>
</ul>
</div>
</div>
<p>Since people perceive the “<code>-</code>” indicator as <a href="#indentation-spaces">indentation</a>, nested <a href="#block-sequences">block<br/>
sequences</a> may be <a href="#indentation-spaces">indented</a> by one less <a href="#white-space-characters">space</a> to compensate, except, of<br/>
course, if nested inside another <a href="#block-sequences">block sequence</a> ([<code>BLOCK-OUT</code> context] versus<br/>
[<code>BLOCK-IN</code> context]).</p>
<div class="example" id="example-block-collection-nodes">
<p><strong>Example 9.22. Block Collection Nodes</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
sequence:<mark class="legend-1"> !!seq</mark>
<mark class="legend-1"><mark class="legend-2">- entry</mark></mark>
<mark class="legend-1"><mark class="legend-2">- !!seq</mark></mark>
<mark class="legend-1"><mark class="legend-2"> - nested</mark></mark>
mapping:<mark class="legend-1"> !!map</mark>
<mark class="legend-1"><mark class="legend-3"> foo: bar</mark></mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"entry"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="w"> </span><span class="s2">"nested"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"mapping"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-block-collection">block-collection(n,c)</a></code></li>
<li><code class="legend-2"><a href="#rule-block-sequence">block-sequence(n)</a></code></li>
<li><code class="legend-3"><a href="#rule-block-mapping">block-mapping(n)</a></code></li>
</ul>
</div>
</div>
</section></section></section><section data-section-number="10"><h1 id="chapter--document-stream-productions">Chapter 10. Document Stream Productions</h1>
<section data-section-number="1"><h2 id="-documents">10.1. Documents</h2>
<p>A YAML character <a href="#streams">stream</a> may contain several <em>documents</em>.<br/>
Each document is completely independent from the rest.</p>
<section data-section-number="1"><h3 id="-document-prefix">10.1.1. Document Prefix</h3>
<p>A document may be preceded by a <em>prefix</em> specifying the <a href="#character-encoding">character encoding</a><br/>
and optional <a href="#comments">comment</a> lines.<br/>
Note that all <a href="#documents">documents</a> in a stream must use the same <a href="#character-encoding">character encoding</a>.<br/>
However it is valid to re-specify the <a href="#character-encodings">encoding</a> using a <a href="#character-encodings">byte order mark</a> for<br/>
each <a href="#documents">document</a> in the stream.</p>
<p>The existence of the optional prefix does not necessarily indicate the<br/>
existence of an actual <a href="#documents">document</a>.</p>
<div class="example" id="example-document-prefix">
<p><strong>Example 10.1. Document Prefix</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">⇔# Comment</mark>
<mark class="legend-1"># lines</mark>
Document
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Document"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-document-prefix">document-prefix</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="2"><h3 id="-document-markers">10.1.2. Document Markers</h3>
<p>Using <a href="#directives">directives</a> creates a potential ambiguity.<br/>
It is valid to have a “<code>%</code>” character at the start of a line (e.g. as the first<br/>
character of the second line of a <a href="#plain-style">plain scalar</a>).<br/>
How, then, to distinguish between an actual <a href="#directives">directive</a> and a <a href="#nodes">content</a> line<br/>
that happens to start with a “<code>%</code>” character?</p>
<p>The solution is the use of two special <em>marker</em> lines to control the processing<br/>
of <a href="#directives">directives</a>, one at the start of a <a href="#documents">document</a> and one at the end.</p>
<p>At the start of a <a href="#documents">document</a>, lines beginning with a “<code>%</code>” character are<br/>
assumed to be <a href="#directives">directives</a>.<br/>
The (possibly empty) list of <a href="#directives">directives</a> is terminated by a <em>directives end<br/>
marker</em> line.<br/>
Lines following this marker can safely use “<code>%</code>” as the first character.</p>
<p>At the end of a <a href="#documents">document</a>, a <em>document end marker</em> line is used to signal the<br/>
<a href="#parsing-the-presentation-stream">parser</a> to begin scanning for <a href="#directives">directives</a> again.</p>
<p>The existence of this optional <em>document suffix</em> does not necessarily indicate<br/>
the existence of an actual following <a href="#documents">document</a>.</p>
<p>Obviously, the actual <a href="#nodes">content</a> lines are therefore forbidden to begin with<br/>
either of these markers.</p>
<div class="example" id="example-document-markers">
<p><strong>Example 10.2. Document Markers</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
%YAML 1.3
<mark class="legend-1">---</mark>
Document
<mark class="legend-2"><mark class="legend-3">...</mark> # Suffix</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Document"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-document-start-indicator">document-start-indicator</a></code></li>
<li><code class="legend-2"><a href="#rule-document-suffix">document-suffix</a></code></li>
<li><code class="legend-3"><a href="#rule-document-end-indicator">document-end-indicator</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="3"><h3 id="-bare-documents">10.1.3. Bare Documents</h3>
<p>A <em>bare document</em> does not begin with any <a href="#directives">directives</a> or <a href="#document-markers">marker</a> lines.<br/>
Such documents are very “clean” as they contain nothing other than the<br/>
<a href="#nodes">content</a>.<br/>
In this case, the first non-comment line may not start with a “<code>%</code>” first<br/>
character.</p>
<p>Document <a href="#nodes">nodes</a> are <a href="#indentation-spaces">indented</a> as if they have a parent <a href="#indentation-spaces">indented</a> at -1<br/>
<a href="#white-space-characters">spaces</a>.<br/>
Since a <a href="#nodes">node</a> must be more <a href="#indentation-spaces">indented</a> than its parent <a href="#nodes">node</a>, this allows the<br/>
document’s <a href="#nodes">node</a> to be <a href="#indentation-spaces">indented</a> at zero or more <a href="#white-space-characters">spaces</a>.</p>
<div class="example" id="example-bare-documents">
<p><strong>Example 10.3. Bare Documents</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">Bare</mark>
<mark class="legend-1">document</mark>
...
# No document
...
<mark class="legend-1">|</mark>
<mark class="legend-1">%!PS-Adobe-2.0 # Not the first line</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Bare document"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="s2">"%!PS-Adobe-2.0</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-bare-document">bare-document</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="4"><h3 id="-explicit-documents">10.1.4. Explicit Documents</h3>
<p>An <em>explicit document</em> begins with an explicit <a href="#document-markers">directives end marker</a> line but<br/>
no <a href="#directives">directives</a>.<br/>
Since the existence of the <a href="#documents">document</a> is indicated by this <a href="#document-markers">marker</a>, the<br/>
<a href="#documents">document</a> itself may be <a href="#example-empty-content">completely empty</a>.</p>
<div class="example" id="example-explicit-documents">
<p><strong>Example 10.4. Explicit Documents</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">---</mark>
<mark class="legend-1">{ matches</mark>
<mark class="legend-1">% : 20 }</mark>
...
<mark class="legend-1">---</mark>
<mark class="legend-1"># Empty</mark>
...
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"matches %"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="kc">null</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-explicit-document">explicit-document</a></code></li>
</ul>
</div>
</div>
</section><section data-section-number="5"><h3 id="-directives-documents">10.1.5. Directives Documents</h3>
<p>A <em>directives document</em> begins with some <a href="#directives">directives</a> followed by an explicit<br/>
<a href="#document-markers">directives end marker</a> line.</p>
<div class="example" id="example-directives-documents">
<p><strong>Example 10.5. Directives Documents</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">%YAML 1.3</mark>
<mark class="legend-1">--- |</mark>
<mark class="legend-1">%!PS-Adobe-2.0</mark>
...
<mark class="legend-1">%YAML 1.3</mark>
<mark class="legend-1">---</mark>
<mark class="legend-1"># Empty</mark>
...
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"%!PS-Adobe-2.0</span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="kc">null</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-explicit-document">explicit-document</a></code></li>
</ul>
</div>
</div>
</section></section><section data-section-number="2"><h2 id="-streams">10.2. Streams</h2>
<p>A YAML <em>stream</em> consists of zero or more <a href="#documents">documents</a>.<br/>
Subsequent <a href="#documents">documents</a> require some sort of separation <a href="#document-markers">marker</a> line.<br/>
If a <a href="#documents">document</a> is not terminated by a <a href="#document-markers">document end marker</a> line, then the<br/>
following <a href="#documents">document</a> must begin with a <a href="#document-markers">directives end marker</a> line.</p>
<div class="example" id="example-stream">
<p><strong>Example 10.6. Stream</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
<mark class="legend-1">Document</mark>
<mark class="legend-1">---</mark>
<mark class="legend-1"># Empty</mark>
<mark class="legend-2">...</mark>
<mark class="legend-3">%YAML 1.3</mark>
<mark class="legend-3">---</mark>
<mark class="legend-3">matches %: 20</mark>
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"Document"</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="kc">null</span><span class="w">
</span><span class="err">---</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"matches %"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
<div class="legend">
<p><strong>Legend:</strong></p>
<ul>
<li><code class="legend-1"><a href="#rule-any-document">any-document</a></code></li>
<li><code class="legend-2"><a href="#rule-document-suffix">document-suffix</a></code></li>
<li><code class="legend-3"><a href="#rule-explicit-document">explicit-document</a></code></li>
</ul>
</div>
</div>
<p>A sequence of bytes is a <em>well-formed stream</em> if, taken as a whole, it complies<br/>
with the above <code>yaml-stream</code> production.</p>
</section></section><section data-section-number="A"><h1 id="appendix-a-grammar">Appendix A. Grammar</h1>
<p>The following chapters formally define the syntax of YAML character <a href="#streams">streams</a>,<br/>
using parameterized BNF productions.</p>
<p>Each BNF production is both named and numbered for easy reference.<br/>
Whenever possible, basic structures are specified before the more complex<br/>
structures using them in a “bottom up” fashion.</p>
<p>The productions are accompanied by examples which are presented in a two-pane<br/>
side-by-side format.<br/>
The left-hand side is the YAML example and the right-hand side is an alternate<br/>
YAML view of the example.<br/>
The right-hand view uses JSON when possible.<br/>
Otherwise it uses a YAML form that is as close to JSON as possible.</p>
<section data-section-number="1"><h2 id="-production-syntax">A.1. Production Syntax</h2>
<p>Productions are defined using the syntax <code>production-name ::= term</code>, where a<br/>
term is either:</p>
<div id="an-atomic-term"></div>
<dl>
<dt>An atomic term</dt>
<dd>
<ul>
<li>A quoted string (<code>"abc"</code>), which matches that concatenation of characters. A<br/>
single character is usually written with single quotes (<code>'a'</code>).</li>
<li>A hexadecimal number (<code>x0A</code>), which matches the character at that Unicode<br/>
code point.</li>
<li>A range of hexadecimal numbers (<code>[x20-x7E]</code>), which matches any character<br/>
whose Unicode code point is within that range.</li>
<li>The name of a production (<code>yaml-character</code>), which matches that production.</li>
</ul>
</dd>
</dl>
<div id="a-lookaround"></div>
<dl>
<dt>A lookaround</dt>
<dd>
<ul>
<li><code>[ lookahead = term ]</code>, which matches the empty string if <code>term</code> would match.</li>
<li><code>[ lookahead ≠ term ]</code>, which matches the empty string if <code>term</code> would not<br/>
match.</li>
<li><code>[ lookbehind = term ]</code>, which matches the empty string if <code>term</code> would match<br/>
beginning at any prior point on the line and ending at the current position.</li>
</ul>
</dd>
</dl>
<div id="a-special-production"></div>
<dl>
<dt>A special production</dt>
<dd>
<ul>
<li><code>&lt;start-of-line&gt;</code>, which matches the empty string at the beginning of a line.</li>
<li><code>&lt;end-of-input&gt;</code>, matches the empty string at the end of the input.</li>
</ul>
</dd>
</dl>
<div id="a-parenthesized-term"></div>
<dl>
<dt>A parenthesized term</dt>
<dd>
<p>Matches its contents.</p>
</dd>
</dl>
<div id="a-concatenation"></div>
<dl>
<dt>A concatenation</dt>
<dd>
<p>Is <code>term-one term-two</code>, which matches <code>term-one</code> followed by <code>term-two</code>.</p>
</dd>
</dl>
<div id="a-alternation"></div>
<dl>
<dt>A alternation</dt>
<dd>
<p>Is <code>term-one | term-two</code>, which matches the <code>term-one</code> if possible, or<br/>
<code>term-two</code> otherwise.</p>
</dd>
</dl>
<div id="a-quantified-term"></div>
<dl>
<dt>A quantified term:</dt>
<dd>
<ul>
<li><code>term?</code>, which matches <code>(term | "")</code>.</li>
<li><code>term*</code>, which matches <code>(term term* | "")</code>.</li>
<li><code>term+</code>, which matches <code>(term term*)</code>.</li>
</ul>
</dd>
</dl>
<blockquote>
<p>Note: Quantified terms are always greedy.</p>
</blockquote>
<p>The order of precedence is parenthesization, then quantification, then<br/>
concatenation, then alternation.</p>
<p>Some lines in a production definition might have a comment like:</p>
<pre>
production-a ::=
  production-b      # clarifying comment
</pre>
<p>These comments are meant to be informative only.<br/>
For instance a comment that says <code># not followed by non-ws char</code> just means<br/>
that you should be aware that actual production rules will behave as described<br/>
even though it might not be obvious from the content of that particular<br/>
production alone.</p>
<section data-section-number="1"><h3 id="-production-parameters">A.1.1. Production Parameters</h3>
<p>Some productions have parameters in parentheses after the name, such as<br/>
<a href="#rule-line-prefix-spaces"><code>line-prefix-spaces(n,c)</code></a>.<br/>
A parameterized production is shorthand for a (infinite) series of productions,<br/>
each with a fixed value for each parameter.</p>
<p>For instance, this production:</p>
<pre>
production-a(n) ::= production-b(n)
</pre>
<p>Is shorthand for:</p>
<pre>
production-a(0) ::= production-b(0)
production-a(1) ::= production-b(1)
…
</pre>
<p>And this production:</p>
<pre>
production-a(n) ::=
  ( production-b(n+m) production-c(n+m) )+
</pre>
<p>Is shorthand for:</p>
<pre>
production-a(0) ::=
    ( production-b(0) production-c(0) )+
  | ( production-b(1) production-c(1) )+
  | …
production-a(1) ::=
    ( production-b(1) production-c(1) )+
  | ( production-b(2) production-c(2) )+
  | …
…
</pre>
<p>The parameters are as follows:</p>
<div id="indentation-n-or-m"></div>
<dl>
<dt>Indentation: <code>n</code> or <code>m</code></dt>
<dd>
<p>May be any natural number, including zero. <code>n</code> may also be -1.</p>
</dd>
</dl>
<div id="context-c"></div>
<dl>
<dt>Context: <code>c</code></dt>
<dd>
<p>This parameter allows productions to tweak their behavior according to their<br/>
surrounding.<br/>
YAML supports two groups of <em>contexts</em>, distinguishing between <a href="#block-style-productions">block styles</a><br/>
and <a href="#flow-style-productions">flow styles</a>.</p>
</dd>
<dd>
<p>May be any of the following values:</p>
</dd>
<dd>
<ul>
<li><code>BLOCK-IN</code> – inside block context</li>
<li><code>BLOCK-OUT</code> – outside block context</li>
<li><code>BLOCK-KEY</code> – inside block key context</li>
<li><code>FLOW-IN</code> – inside flow context</li>
<li><code>FLOW-OUT</code> – outside flow context</li>
<li><code>FLOW-KEY</code> – inside flow key context</li>
</ul>
</dd>
<dt>(Block) Chomping: <code>t</code></dt>
<dd>
<p>The <a href="#line-break-characters">line break</a> chomping behavior for flow scalars.<br/>
May be any of the following values:</p>
</dd>
</dl>
<ul>
<li><code>STRIP</code> – remove all trailing newlines</li>
<li><code>CLIP</code> – remove all trailing newlines except the first</li>
<li><code>KEEP</code> – retain all trailing newlines</li>
</ul>
</section><section data-section-number="2"><h3 id="-production-naming-conventions">A.1.2. Production Naming Conventions</h3>
<p>To make it easier to follow production combinations, production names use a<br/>
prefix-style naming convention.<br/>
Each production is given a prefix based on the type of characters it begins and<br/>
ends with.</p>
<dl>
<dt><code>e-</code></dt>
<dd>
<p>A production matching no characters.</p>
</dd>
<dt><code>c-</code></dt>
<dd>
<p>A production starting and ending with a special character.</p>
</dd>
<dt><code>b-</code></dt>
<dd>
<p>A production matching a single <a href="#line-break-characters">line break</a>.</p>
</dd>
<dt><code>nb-</code></dt>
<dd>
<p>A production starting and ending with a non-<a href="#line-break-characters">break</a> character.</p>
</dd>
<dt><code>s-</code></dt>
<dd>
<p>A production starting and ending with a <a href="#white-space-characters">white space</a> character.</p>
</dd>
<dt><code>ns-</code></dt>
<dd>
<p>A production starting and ending with a non-<a href="#white-space-characters">space</a> character.</p>
</dd>
<dt><code>l-</code></dt>
<dd>
<p>A production matching complete line(s).</p>
</dd>
<dt><code>X-Y-</code></dt>
<dd>
<p>A production starting with an <code>X-</code> character and ending with a <code>Y-</code> character,<br/>
where <code>X-</code> and <code>Y-</code> are any of the above prefixes.</p>
</dd>
<dt><code>X+</code>, <code>X-Y+</code></dt>
<dd>
<p>A production as above, with the additional property that the matched content<br/>
<a href="#indentation-spaces">indentation</a> level is greater than the specified <code>n</code> parameter.</p>
</dd>
</dl>
</section></section><section data-section-number="2"><h2 id="-document-stream-productions">A.2. Document Stream Productions</h2>
<p>The YAML 1.3 syntax productions are presented here in a top down fashion.</p>
<section data-section-number="1"><h3 id="-streams-1">A.2.1. Streams</h3>
<p>The starting production (<code>yaml-stream</code>) matches an entire YAML character<br/>
stream.</p>
<div id="rule-yaml-stream"></div>
<pre class="rule">[1]
yaml-stream ::=
  <a href="#rule-document-prefix">document-prefix</a>*
  <a href="#rule-any-document">any-document</a>?
  (
      (
        <a href="#rule-document-suffix">document-suffix</a>+
        <a href="#rule-document-prefix">document-prefix</a>*
        <a href="#rule-any-document">any-document</a>?
      )
    | <a href="#rule-byte-order-mark">byte-order-mark</a>
    | <a href="#rule-comment-line">comment-line</a>
    | <a href="#rule-start-indicator-and-document">start-indicator-and-document</a>
  )*
</pre>
<div id="rule-document-prefix"></div>
<pre class="rule">[2]
document-prefix ::=
  <a href="#rule-byte-order-mark">byte-order-mark</a>?
  <a href="#rule-comment-line">comment-line</a>*
</pre>
<div id="rule-document-suffix"></div>
<pre class="rule">[3]
document-suffix ::=
  <a href="#rule-document-end-indicator">document-end-indicator</a>
  <a href="#rule-comment-lines">comment-lines</a>
</pre>
<div id="rule-document-start-indicator"></div>
<pre class="rule">[4]
document-start-indicator ::=
  "---"
</pre>
<div id="rule-document-end-indicator"></div>
<pre class="rule">[5]
document-end-indicator ::=
  "..."                             # Not followed by <a href="#rule-non-ws">non-ws</a> char
</pre>
</section><section data-section-number="2"><h3 id="-documents-1">A.2.2. Documents</h3>
<div id="rule-any-document"></div>
<pre class="rule">[6]
any-document ::=
    <a href="#rule-directives-and-document">directives-and-document</a>
  | <a href="#rule-start-indicator-and-document">start-indicator-and-document</a>
  | <a href="#rule-bare-document">bare-document</a>
</pre>
<div id="rule-directives-and-document"></div>
<pre class="rule">[7]
directives-and-document ::=
  <a href="#rule-directive-line">directive-line</a>+
  <a href="#rule-start-indicator-and-document">start-indicator-and-document</a>
</pre>
<div id="rule-start-indicator-and-document"></div>
<pre class="rule">[8]
start-indicator-and-document ::=
  <a href="#rule-document-start-indicator">document-start-indicator</a>
  (
      <a href="#rule-bare-document">bare-document</a>
    | (
        <a href="#rule-empty-node">empty-node</a>
        <a href="#rule-comment-lines">comment-lines</a>
      )
  )
</pre>
<div id="rule-bare-document"></div>
<pre class="rule">[9]
bare-document ::=
  <a href="#rule-block-node">block-node</a>(-1,BLOCK-IN)
  /* Excluding <a href="#rule-forbidden-content">forbidden-content</a> */
</pre>
<div id="rule-directive-line"></div>
<pre class="rule">[10]
directive-line ::=
  '%'
  (
      <a href="#rule-yaml-directive-line">yaml-directive-line</a>
    | <a href="#rule-tag-directive-line">tag-directive-line</a>
    | <a href="#rule-reserved-directive-line">reserved-directive-line</a>
  )
  <a href="#rule-comment-lines">comment-lines</a>
</pre>
<div id="rule-forbidden-content"></div>
<pre class="rule">[11]
forbidden-content ::=
  &lt;start-of-line&gt;
  (
      <a href="#rule-document-start-indicator">document-start-indicator</a>
    | <a href="#rule-document-end-indicator">document-end-indicator</a>
  )
  (
      <a href="#rule-line-ending">line-ending</a>
    | <a href="#rule-blank-character">blank-character</a>
  )
</pre>
<section data-section-number="1"><h4 id="-block-nodes-1">A.2.2.1. Block Nodes</h4>
<div id="rule-block-node"></div>
<pre class="rule">[12]
block-node(n,c) ::=
    <a href="#rule-block-node-in-a-block-node">block-node-in-a-block-node</a>(n,c)
  | <a href="#rule-flow-node-in-a-block-node">flow-node-in-a-block-node</a>(n)
</pre>
<p>XXX The following two should be moved into above</p>
<div id="rule-block-node-in-a-block-node"></div>
<pre class="rule">[13]
block-node-in-a-block-node(n,c) ::=
    <a href="#rule-block-scalar">block-scalar</a>(n,c)
  | <a href="#rule-block-collection">block-collection</a>(n,c)
</pre>
<div id="rule-flow-node-in-a-block-node"></div>
<pre class="rule">[14]
flow-node-in-a-block-node(n) ::=
  <a href="#rule-separation-characters">separation-characters</a>(n+1,FLOW-OUT)
  <a href="#rule-flow-node">flow-node</a>(n+1,FLOW-OUT)
  <a href="#rule-comment-lines">comment-lines</a>
</pre>
<div id="rule-block-collection"></div>
<pre class="rule">[15]
block-collection(n,c) ::=
  (
    <a href="#rule-separation-characters">separation-characters</a>(n+1,c)
    <a href="#rule-node-properties">node-properties</a>(n+1,c)
  )?
  <a href="#rule-comment-lines">comment-lines</a>
  (
      <a href="#rule-block-sequence-context">block-sequence-context</a>(n,c)
    | <a href="#rule-block-mapping">block-mapping</a>(n)
  )
</pre>
<div id="rule-block-sequence-context"></div>
<pre class="rule">[16]
block-sequence-context(n,BLOCK-OUT) ::= <a href="#rule-block-sequence">block-sequence</a>(n-1)
block-sequence-context(n,BLOCK-IN)  ::= <a href="#rule-block-sequence">block-sequence</a>(n)
</pre>
<div id="rule-block-scalar"></div>
<pre class="rule">[17]
block-scalar(n,c) ::=
  <a href="#rule-separation-characters">separation-characters</a>(n+1,c)
  (
    <a href="#rule-node-properties">node-properties</a>(n+1,c)
    <a href="#rule-separation-characters">separation-characters</a>(n+1,c)
  )?
  (
      <a href="#rule-block-literal-scalar">block-literal-scalar</a>(n)
    | <a href="#rule-block-folded-scalar">block-folded-scalar</a>(n)
  )
</pre>
</section><section data-section-number="2"><h4 id="-block-mappings-1">A.2.2.2. Block Mappings</h4>
<div id="rule-block-mapping"></div>
<pre class="rule">[18]
block-mapping(n) ::=
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n+1+m)
    <a href="#rule-block-mapping-entry">block-mapping-entry</a>(n+1+m)
  )+
</pre>
<div id="rule-block-mapping-entry"></div>
<pre class="rule">[19]
block-mapping-entry(n) ::=
    <a href="#rule-block-mapping-explicit-entry">block-mapping-explicit-entry</a>(n)
  | <a href="#rule-block-mapping-implicit-entry">block-mapping-implicit-entry</a>(n)
</pre>
<div id="rule-block-mapping-explicit-entry"></div>
<pre class="rule">[20]
block-mapping-explicit-entry(n) ::=
  <a href="#rule-block-mapping-explicit-key">block-mapping-explicit-key</a>(n)
  (
      <a href="#rule-block-mapping-explicit-value">block-mapping-explicit-value</a>(n)
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>
<div id="rule-block-mapping-explicit-key"></div>
<pre class="rule">[21]
block-mapping-explicit-key(n) ::=
  '?'                               # Not followed by <a href="#rule-non-ws">non-ws</a> char
  <a href="#rule-block-indented-node">block-indented-node</a>(n,BLOCK-OUT)
</pre>
<div id="rule-block-mapping-explicit-value"></div>
<pre class="rule">[22]
block-mapping-explicit-value(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  ':'                               # Not followed by <a href="#rule-non-ws">non-ws</a> char
  <a href="#rule-block-indented-node">block-indented-node</a>(n,BLOCK-OUT)
</pre>
<div id="rule-block-mapping-implicit-entry"></div>
<pre class="rule">[23]
block-mapping-implicit-entry(n) ::=
  (
      <a href="#rule-block-mapping-implicit-key">block-mapping-implicit-key</a>
    | <a href="#rule-empty-node">empty-node</a>
  )
  <a href="#rule-block-mapping-implicit-value">block-mapping-implicit-value</a>(n)
</pre>
<div id="rule-block-mapping-implicit-key"></div>
<pre class="rule">[24]
block-mapping-implicit-key ::=
    <a href="#rule-implicit-json-key">implicit-json-key</a>(BLOCK-KEY)
  | <a href="#rule-implicit-yaml-key">implicit-yaml-key</a>(BLOCK-KEY)
</pre>
<div id="rule-block-mapping-implicit-value"></div>
<pre class="rule">[25]
block-mapping-implicit-value(n) ::=
  ':'                               # Not followed by <a href="#rule-non-ws">non-ws</a> char
  (
      <a href="#rule-block-node">block-node</a>(n,BLOCK-OUT)
    | (
        <a href="#rule-empty-node">empty-node</a>
        <a href="#rule-comment-lines">comment-lines</a>
      )
  )
</pre>
<div id="rule-compact-mapping"></div>
<pre class="rule">[26]
compact-mapping(n) ::=
  <a href="#rule-block-mapping-entry">block-mapping-entry</a>(n)
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
    <a href="#rule-block-mapping-entry">block-mapping-entry</a>(n)
  )*
</pre>
</section><section data-section-number="3"><h4 id="-block-sequences-1">A.2.2.3. Block Sequences</h4>
<div id="rule-block-sequence"></div>
<pre class="rule">[27]
block-sequence(n) ::=
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n+1+m)
    <a href="#rule-block-sequence-entry">block-sequence-entry</a>(n+1+m)
  )+
</pre>
<div id="rule-block-sequence-entry"></div>
<pre class="rule">[28]
block-sequence-entry(n) ::=
  '-'
  [ lookahead ≠ <a href="#rule-non-space-character">non-space-character</a> ]
  <a href="#rule-block-indented-node">block-indented-node</a>(n,BLOCK-IN)
</pre>
<div id="rule-block-indented-node"></div>
<pre class="rule">[29]
block-indented-node(n,c) ::=
    (
      <a href="#rule-indentation-spaces">indentation-spaces</a>(m)
      (
          <a href="#rule-compact-sequence">compact-sequence</a>(n+1+m)
        | <a href="#rule-compact-mapping">compact-mapping</a>(n+1+m)
      )
    )
  | <a href="#rule-block-node">block-node</a>(n,c)
  | (
      <a href="#rule-empty-node">empty-node</a>
      <a href="#rule-comment-lines">comment-lines</a>
    )
</pre>
<div id="rule-compact-sequence"></div>
<pre class="rule">[30]
compact-sequence(n) ::=
  <a href="#rule-block-sequence-entry">block-sequence-entry</a>(n)
  (
    <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
    <a href="#rule-block-sequence-entry">block-sequence-entry</a>(n)
  )*
</pre>
</section></section><section data-section-number="3"><h3 id="-block-scalar-styles-1">A.2.3. Block Scalar Styles</h3>
<p>See <a href="#production-parameters">Production Parameters</a> for the definition of the <code>t</code> variable.</p>
<section data-section-number="1"><h4 id="-literal-style-1">A.2.3.1. Literal Style</h4>
<div id="rule-block-literal-scalar"></div>
<pre class="rule">[31]
block-literal-scalar(n) ::=
  '|'
  <a href="#rule-block-scalar-indicators">block-scalar-indicators</a>(t)
  <a href="#rule-literal-scalar-content">literal-scalar-content</a>(n+m,t)
</pre>
<div id="rule-literal-scalar-content"></div>
<pre class="rule">[32]
literal-scalar-content(n,t) ::=
  (
    <a href="#rule-literal-scalar-line-content">literal-scalar-line-content</a>(n)
    <a href="#rule-literal-scalar-next-line">literal-scalar-next-line</a>(n)*
    <a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last</a>(t)
  )?
  <a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty</a>(n,t)
</pre>
<div id="rule-literal-scalar-line-content"></div>
<pre class="rule">[33]
literal-scalar-line-content(n) ::=
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-non-break-character">non-break-character</a>+
</pre>
<div id="rule-literal-scalar-next-line"></div>
<pre class="rule">[34]
literal-scalar-next-line(n) ::=
  <a href="#rule-break-as-line-feed">break-as-line-feed</a>
  <a href="#rule-literal-scalar-line-content">literal-scalar-line-content</a>(n)
</pre>
</section><section data-section-number="2"><h4 id="-folded-style-1">A.2.3.2. Folded Style</h4>
<div id="rule-block-folded-scalar"></div>
<pre class="rule">[35]
block-folded-scalar(n) ::=
  '&gt;'
  <a href="#rule-block-scalar-indicators">block-scalar-indicators</a>(t)
  <a href="#rule-folded-scalar-content">folded-scalar-content</a>(n+m,t)
</pre>
<div id="rule-folded-scalar-content"></div>
<pre class="rule">[36]
folded-scalar-content(n,t) ::=
  (
    <a href="#rule-folded-scalar-lines-different-indentation">folded-scalar-lines-different-indentation</a>(n)
    <a href="#rule-block-scalar-chomp-last">block-scalar-chomp-last</a>(t)
  )?
  <a href="#rule-block-scalar-chomp-empty">block-scalar-chomp-empty</a>(n,t)
</pre>
<div id="rule-folded-scalar-lines-different-indentation"></div>
<pre class="rule">[37]
folded-scalar-lines-different-indentation(n) ::=
  <a href="#rule-folded-scalar-lines-same-indentation">folded-scalar-lines-same-indentation</a>(n)
  (
    <a href="#rule-break-as-line-feed">break-as-line-feed</a>
    <a href="#rule-folded-scalar-lines-same-indentation">folded-scalar-lines-same-indentation</a>(n)
  )*
</pre>
<div id="rule-folded-scalar-lines-same-indentation"></div>
<pre class="rule">[38]
folded-scalar-lines-same-indentation(n) ::=
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
  (
      <a href="#rule-folded-scalar-lines">folded-scalar-lines</a>(n)
    | <a href="#rule-folded-scalar-spaced-lines">folded-scalar-spaced-lines</a>(n)
  )
</pre>
<div id="rule-folded-scalar-lines"></div>
<pre class="rule">[39]
folded-scalar-lines(n) ::=
  <a href="#rule-folded-scalar-text">folded-scalar-text</a>(n)
  (
    <a href="#rule-folded-whitespace">folded-whitespace</a>(n,BLOCK-IN)
    <a href="#rule-folded-scalar-text">folded-scalar-text</a>(n)
  )*
</pre>
<div id="rule-folded-scalar-spaced-lines"></div>
<pre class="rule">[40]
folded-scalar-spaced-lines(n) ::=
  <a href="#rule-folded-scalar-spaced-text">folded-scalar-spaced-text</a>(n)
  (
    <a href="#rule-line-break-and-empty-lines">line-break-and-empty-lines</a>(n)
    <a href="#rule-folded-scalar-spaced-text">folded-scalar-spaced-text</a>(n)
  )*
</pre>
<div id="rule-folded-scalar-text"></div>
<pre class="rule">[41]
folded-scalar-text(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-non-space-character">non-space-character</a>
  <a href="#rule-non-break-character">non-break-character</a>*
</pre>
<div id="rule-line-break-and-empty-lines"></div>
<pre class="rule">[42]
line-break-and-empty-lines(n) ::=
  <a href="#rule-break-as-line-feed">break-as-line-feed</a>
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
</pre>
<div id="rule-folded-scalar-spaced-text"></div>
<pre class="rule">[43]
folded-scalar-spaced-text(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-blank-character">blank-character</a>
  <a href="#rule-non-break-character">non-break-character</a>*
</pre>
</section><section data-section-number="3"><h4 id="-block-scalar-headers-1">A.2.3.3. Block Scalar Headers</h4>
<div id="rule-block-scalar-indicators"></div>
<pre class="rule">[44]
block-scalar-indicators(t) ::=
  (
      (
        <a href="#rule-block-scalar-indentation-indicator">block-scalar-indentation-indicator</a>
        <a href="#rule-block-scalar-chomping-indicator">block-scalar-chomping-indicator</a>(t)
      )
    | (
        <a href="#rule-block-scalar-chomping-indicator">block-scalar-chomping-indicator</a>(t)
        <a href="#rule-block-scalar-indentation-indicator">block-scalar-indentation-indicator</a>
      )
  )
  (
      <a href="#rule-comment-line">comment-line</a>
    | <a href="#rule-line-ending">line-ending</a>
  )
</pre>
<div id="rule-block-scalar-indentation-indicator"></div>
<pre class="rule">[45]
block-scalar-indentation-indicator ::=
  <a href="#rule-decimal-digit-1-9">decimal-digit-1-9</a>
</pre>
<div id="rule-block-scalar-chomping-indicator"></div>
<pre class="rule">[46]
block-scalar-chomping-indicator(STRIP) ::= '-'
block-scalar-chomping-indicator(KEEP)  ::= '+'
block-scalar-chomping-indicator(CLIP)  ::= ""
</pre>
<div id="rule-block-scalar-chomp-last"></div>
<pre class="rule">[47]
block-scalar-chomp-last(STRIP) ::= <a href="#rule-line-break">line-break</a> | &lt;end-of-input&gt;
block-scalar-chomp-last(CLIP)  ::= <a href="#rule-break-as-line-feed">break-as-line-feed</a> | &lt;end-of-input&gt;
block-scalar-chomp-last(KEEP)  ::= <a href="#rule-break-as-line-feed">break-as-line-feed</a> | &lt;end-of-input&gt;
</pre>
<div id="rule-block-scalar-chomp-empty"></div>
<pre class="rule">[48]
block-scalar-chomp-empty(n,STRIP) ::= <a href="#rule-line-strip-empty">line-strip-empty</a>(n)
block-scalar-chomp-empty(n,CLIP)  ::= <a href="#rule-line-strip-empty">line-strip-empty</a>(n)
block-scalar-chomp-empty(n,KEEP)  ::= <a href="#rule-line-keep-empty">line-keep-empty</a>(n)
</pre>
<div id="rule-line-strip-empty"></div>
<pre class="rule">[49]
line-strip-empty(n) ::=
  (
    <a href="#rule-indentation-spaces-less-or-equal">indentation-spaces-less-or-equal</a>(n)
    <a href="#rule-line-break">line-break</a>
  )*
  <a href="#rule-line-trail-comments">line-trail-comments</a>(n)?
</pre>
<div id="rule-line-keep-empty"></div>
<pre class="rule">[50]
line-keep-empty(n) ::=
  <a href="#rule-empty-line">empty-line</a>(n,BLOCK-IN)*
  <a href="#rule-line-trail-comments">line-trail-comments</a>(n)?
</pre>
<div id="rule-line-trail-comments"></div>
<pre class="rule">[51]
line-trail-comments(n) ::=
  <a href="#rule-indentation-spaces-less-than">indentation-spaces-less-than</a>(n)
  <a href="#rule-comment-content">comment-content</a>
  <a href="#rule-line-ending">line-ending</a>
  <a href="#rule-comment-line">comment-line</a>*
</pre>
</section></section></section><section data-section-number="3"><h2 id="-flow-style-productions">A.3. Flow Style Productions</h2>
<section data-section-number="1"><h3 id="-flow-nodes-1">A.3.1. Flow Nodes</h3>
<div id="rule-flow-node"></div>
<pre class="rule">[52]
flow-node(n,c) ::=
    <a href="#rule-alias-node">alias-node</a>
  | <a href="#rule-flow-content">flow-content</a>(n,c)
  | (
      <a href="#rule-node-properties">node-properties</a>(n,c)
      (
        (
          <a href="#rule-separation-characters">separation-characters</a>(n,c)
          <a href="#rule-flow-content">flow-content</a>(n,c)
        )
        | <a href="#rule-empty-node">empty-node</a>
      )
    )
</pre>
<div id="rule-flow-content"></div>
<pre class="rule">[53]
flow-content(n,c) ::=
    <a href="#rule-flow-yaml-content">flow-yaml-content</a>(n,c)
  | <a href="#rule-flow-json-content">flow-json-content</a>(n,c)
</pre>
<div id="rule-flow-yaml-content"></div>
<pre class="rule">[54]
flow-yaml-content(n,c) ::=
  <a href="#rule-flow-plain-scalar">flow-plain-scalar</a>(n,c)
</pre>
<div id="rule-flow-json-content"></div>
<pre class="rule">[55]
flow-json-content(n,c) ::=
    <a href="#rule-flow-sequence">flow-sequence</a>(n,c)
  | <a href="#rule-flow-mapping">flow-mapping</a>(n,c)
  | <a href="#rule-single-quoted-scalar">single-quoted-scalar</a>(n,c)
  | <a href="#rule-double-quoted-scalar">double-quoted-scalar</a>(n,c)
</pre>
<section data-section-number="1"><h4 id="-flow-mappings-1">A.3.1.1. Flow Mappings</h4>
<div id="rule-flow-mapping"></div>
<pre class="rule">[56]
flow-mapping(n,c) ::=
  '{'
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  <a href="#rule-flow-mapping-context">flow-mapping-context</a>(n,c)?
  '}'
</pre>
<div id="rule-flow-mapping-entries"></div>
<pre class="rule">[57]
flow-mapping-entries(n,c) ::=
  <a href="#rule-flow-mapping-entry">flow-mapping-entry</a>(n,c)
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  (
    ','
    <a href="#rule-separation-characters">separation-characters</a>(n,c)?
    <a href="#rule-flow-mapping-entries">flow-mapping-entries</a>(n,c)?
  )?
</pre>
<div id="rule-flow-mapping-entry"></div>
<pre class="rule">[58]
flow-mapping-entry(n,c) ::=
    (
      '?'                           # Not followed by <a href="#rule-non-ws">non-ws</a> char
      <a href="#rule-separation-characters">separation-characters</a>(n,c)
      <a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry</a>(n,c)
    )
  | <a href="#rule-flow-mapping-implicit-entry">flow-mapping-implicit-entry</a>(n,c)
</pre>
<div id="rule-flow-mapping-explicit-entry"></div>
<pre class="rule">[59]
flow-mapping-explicit-entry(n,c) ::=
    <a href="#rule-flow-mapping-implicit-entry">flow-mapping-implicit-entry</a>(n,c)
  | (
      <a href="#rule-empty-node">empty-node</a>
      <a href="#rule-empty-node">empty-node</a>
    )
</pre>
<div id="rule-flow-mapping-implicit-entry"></div>
<pre class="rule">[60]
flow-mapping-implicit-entry(n,c) ::=
    <a href="#rule-flow-mapping-yaml-key-entry">flow-mapping-yaml-key-entry</a>(n,c)
  | <a href="#rule-flow-mapping-empty-key-entry">flow-mapping-empty-key-entry</a>(n,c)
  | <a href="#rule-flow-mapping-json-key-entry">flow-mapping-json-key-entry</a>(n,c)
</pre>
<div id="rule-flow-mapping-yaml-key-entry"></div>
<pre class="rule">[61]
flow-mapping-yaml-key-entry(n,c) ::=
  <a href="#rule-flow-yaml-node">flow-yaml-node</a>(n,c)
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)?
        <a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>
<div id="rule-flow-mapping-empty-key-entry"></div>
<pre class="rule">[62]
flow-mapping-empty-key-entry(n,c) ::=
  <a href="#rule-empty-node">empty-node</a>
  <a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value</a>(n,c)
</pre>
<div id="rule-flow-mapping-separate-value"></div>
<pre class="rule">[63]
flow-mapping-separate-value(n,c) ::=
  ':'
  [ lookahead ≠ <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c) ]
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)
        <a href="#rule-flow-node">flow-node</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>
<div id="rule-flow-mapping-json-key-entry"></div>
<pre class="rule">[64]
flow-mapping-json-key-entry(n,c) ::=
  <a href="#rule-flow-json-node">flow-json-node</a>(n,c)
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)?
        <a href="#rule-flow-mapping-adjacent-value">flow-mapping-adjacent-value</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>
<div id="rule-flow-mapping-adjacent-value"></div>
<pre class="rule">[65]
flow-mapping-adjacent-value(n,c) ::=
  ':'
  (
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)?
        <a href="#rule-flow-node">flow-node</a>(n,c)
      )
    | <a href="#rule-empty-node">empty-node</a>
  )
</pre>
<div id="rule-flow-pair"></div>
<pre class="rule">[66]
flow-pair(n,c) ::=
    (
      '?'                           # Not followed by <a href="#rule-non-ws">non-ws</a> char
      <a href="#rule-separation-characters">separation-characters</a>(n,c)
      <a href="#rule-flow-mapping-explicit-entry">flow-mapping-explicit-entry</a>(n,c)
    )
  | <a href="#rule-flow-pair-entry">flow-pair-entry</a>(n,c)
</pre>
<div id="rule-flow-pair-entry"></div>
<pre class="rule">[67]
flow-pair-entry(n,c) ::=
    <a href="#rule-flow-pair-yaml-key-entry">flow-pair-yaml-key-entry</a>(n,c)
  | <a href="#rule-flow-mapping-empty-key-entry">flow-mapping-empty-key-entry</a>(n,c)
  | <a href="#rule-flow-pair-json-key-entry">flow-pair-json-key-entry</a>(n,c)
</pre>
<div id="rule-flow-pair-yaml-key-entry"></div>
<pre class="rule">[68]
flow-pair-yaml-key-entry(n,c) ::=
  <a href="#rule-implicit-yaml-key">implicit-yaml-key</a>(FLOW-KEY)
  <a href="#rule-flow-mapping-separate-value">flow-mapping-separate-value</a>(n,c)
</pre>
<div id="rule-flow-pair-json-key-entry"></div>
<pre class="rule">[69]
flow-pair-json-key-entry(n,c) ::=
  <a href="#rule-implicit-json-key">implicit-json-key</a>(FLOW-KEY)
  <a href="#rule-flow-mapping-adjacent-value">flow-mapping-adjacent-value</a>(n,c)
</pre>
<div id="rule-implicit-yaml-key"></div>
<pre class="rule">[70]
implicit-yaml-key(c) ::=
  <a href="#rule-flow-yaml-node">flow-yaml-node</a>(0,c)
  <a href="#rule-separation-blanks">separation-blanks</a>?
  /* At most 1024 characters altogether */
</pre>
<div id="rule-implicit-json-key"></div>
<pre class="rule">[71]
implicit-json-key(c) ::=
  <a href="#rule-flow-json-node">flow-json-node</a>(0,c)
  <a href="#rule-separation-blanks">separation-blanks</a>?
  /* At most 1024 characters altogether */
</pre>
<div id="rule-flow-yaml-node"></div>
<pre class="rule">[72]
flow-yaml-node(n,c) ::=
    <a href="#rule-alias-node">alias-node</a>
  | <a href="#rule-flow-yaml-content">flow-yaml-content</a>(n,c)
  | (
      <a href="#rule-node-properties">node-properties</a>(n,c)
      (
          (
            <a href="#rule-separation-characters">separation-characters</a>(n,c)
            <a href="#rule-flow-yaml-content">flow-yaml-content</a>(n,c)
          )
        | <a href="#rule-empty-node">empty-node</a>
      )
    )
</pre>
<div id="rule-flow-json-node"></div>
<pre class="rule">[73]
flow-json-node(n,c) ::=
  (
    <a href="#rule-node-properties">node-properties</a>(n,c)
    <a href="#rule-separation-characters">separation-characters</a>(n,c)
  )?
  <a href="#rule-flow-json-content">flow-json-content</a>(n,c)
</pre>
</section><section data-section-number="2"><h4 id="-flow-sequences-1">A.3.1.2. Flow Sequences</h4>
<div id="rule-flow-sequence"></div>
<pre class="rule">[74]
flow-sequence(n,c) ::=
  '['
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  <a href="#rule-flow-sequence-context">flow-sequence-context</a>(n,c)?
  ']'
</pre>
<div id="rule-flow-sequence-entries"></div>
<pre class="rule">[75]
flow-sequence-entries(n,c) ::=
  <a href="#rule-flow-sequence-entry">flow-sequence-entry</a>(n,c)
  <a href="#rule-separation-characters">separation-characters</a>(n,c)?
  (
    ','
    <a href="#rule-separation-characters">separation-characters</a>(n,c)?
    <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,c)?
  )?
</pre>
<div id="rule-flow-sequence-entry"></div>
<pre class="rule">[76]
flow-sequence-entry(n,c) ::=
    <a href="#rule-flow-pair">flow-pair</a>(n,c)
  | <a href="#rule-flow-node">flow-node</a>(n,c)
</pre>
</section></section><section data-section-number="2"><h3 id="-flow-scalar-styles-1">A.3.2. Flow Scalar Styles</h3>
<section data-section-number="1"><h4 id="-double-quoted-style-1">A.3.2.1. Double-Quoted Style</h4>
<div id="rule-double-quoted-scalar"></div>
<pre class="rule">[77]
double-quoted-scalar(n,c) ::=
  '"'
  <a href="#rule-double-quoted-text">double-quoted-text</a>(n,c)
  '"'
</pre>
<div id="rule-double-quoted-text"></div>
<pre class="rule">[78]
double-quoted-text(n,BLOCK-KEY) ::= <a href="#rule-double-quoted-one-line">double-quoted-one-line</a>
double-quoted-text(n,FLOW-KEY)  ::= <a href="#rule-double-quoted-one-line">double-quoted-one-line</a>
double-quoted-text(n,FLOW-OUT)  ::= <a href="#rule-double-quoted-multi-line">double-quoted-multi-line</a>(n)
double-quoted-text(n,FLOW-IN)   ::= <a href="#rule-double-quoted-multi-line">double-quoted-multi-line</a>(n)
</pre>
<div id="rule-double-quoted-multi-line"></div>
<pre class="rule">[79]
double-quoted-multi-line(n) ::=
  <a href="#rule-double-quoted-first-line">double-quoted-first-line</a>
  (
      <a href="#rule-double-quoted-next-line">double-quoted-next-line</a>(n)
    | <a href="#rule-blank-character">blank-character</a>*
  )
</pre>
<div id="rule-double-quoted-one-line"></div>
<pre class="rule">[80]
double-quoted-one-line ::=
  <a href="#rule-non-break-double-quoted-character">non-break-double-quoted-character</a>*
</pre>
<div id="rule-double-quoted-first-line"></div>
<pre class="rule">[81]
double-quoted-first-line ::=
  (
    <a href="#rule-blank-character">blank-character</a>*
    <a href="#rule-non-space-double-quoted-character">non-space-double-quoted-character</a>
  )*
</pre>
<div id="rule-double-quoted-next-line"></div>
<pre class="rule">[82]
double-quoted-next-line(n) ::=
  (
      <a href="#rule-double-quoted-line-continuation">double-quoted-line-continuation</a>(n)
    | <a href="#rule-flow-folded-whitespace">flow-folded-whitespace</a>(n)
  )
  (
    <a href="#rule-non-space-double-quoted-character">non-space-double-quoted-character</a>
    <a href="#rule-double-quoted-first-line">double-quoted-first-line</a>
    (
        <a href="#rule-double-quoted-next-line">double-quoted-next-line</a>(n)
      | <a href="#rule-blank-character">blank-character</a>*
    )
  )?
</pre>
<div id="rule-non-space-double-quoted-character"></div>
<pre class="rule">[83]
non-space-double-quoted-character ::=
    <a href="#rule-non-break-double-quoted-character">non-break-double-quoted-character</a>
  - <a href="#rule-blank-character">blank-character</a>
</pre>
<div id="rule-non-break-double-quoted-character"></div>
<pre class="rule">[84]
non-break-double-quoted-character ::=
    <a href="#rule-double-quoted-scalar-escape-character">double-quoted-scalar-escape-character</a>
  | (
        <a href="#rule-json-character">json-character</a>
      - '\'
      - '"'
    )
</pre>
<div id="rule-double-quoted-line-continuation"></div>
<pre class="rule">[85]
double-quoted-line-continuation(n) ::=
  <a href="#rule-blank-character">blank-character</a>*
  '\'
  <a href="#rule-line-break">line-break</a>
  <a href="#rule-empty-line">empty-line</a>(n,FLOW-IN)*
  <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
</pre>
</section><section data-section-number="2"><h4 id="-flow-collection-context">A.3.2.2. Flow Collection Context</h4>
<div id="rule-flow-mapping-context"></div>
<pre class="rule">[86]
flow-mapping-context(n,FLOW-OUT)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-mapping-context(n,FLOW-IN)   ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-mapping-context(n,BLOCK-KEY) ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
flow-mapping-context(n,FLOW-KEY)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
</pre>
<div id="rule-flow-sequence-context"></div>
<pre class="rule">[87]
flow-sequence-context(n,FLOW-OUT)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-sequence-context(n,FLOW-IN)   ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-IN)
flow-sequence-context(n,BLOCK-KEY) ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
flow-sequence-context(n,FLOW-KEY)  ::= <a href="#rule-flow-sequence-entries">flow-sequence-entries</a>(n,FLOW-KEY)
</pre>
</section><section data-section-number="3"><h4 id="-single-quoted-style-1">A.3.2.3. Single-Quoted Style</h4>
<div id="rule-single-quoted-scalar"></div>
<pre class="rule">[88]
single-quoted-scalar(n,c) ::=
  "'"
  <a href="#rule-single-quoted-text">single-quoted-text</a>(n,c)
  "'"
</pre>
<div id="rule-single-quoted-text"></div>
<pre class="rule">[89]
single-quoted-text(BLOCK-KEY) ::= <a href="#rule-single-quoted-one-line">single-quoted-one-line</a>
single-quoted-text(FLOW-KEY)  ::= <a href="#rule-single-quoted-one-line">single-quoted-one-line</a>
single-quoted-text(FLOW-OUT)  ::= <a href="#rule-single-quoted-multi-line">single-quoted-multi-line</a>(n)
single-quoted-text(FLOW-IN)   ::= <a href="#rule-single-quoted-multi-line">single-quoted-multi-line</a>(n)
</pre>
<div id="rule-single-quoted-multi-line"></div>
<pre class="rule">[90]
single-quoted-multi-line(n) ::=
  <a href="#rule-single-quoted-first-line">single-quoted-first-line</a>
  (
      <a href="#rule-single-quoted-next-line">single-quoted-next-line</a>(n)
    | <a href="#rule-blank-character">blank-character</a>*
  )
</pre>
<div id="rule-single-quoted-one-line"></div>
<pre class="rule">[91]
single-quoted-one-line ::=
  <a href="#rule-non-break-single-quoted-character">non-break-single-quoted-character</a>*
</pre>
<div id="rule-single-quoted-first-line"></div>
<pre class="rule">[92]
single-quoted-first-line ::=
  (
    <a href="#rule-blank-character">blank-character</a>*
    <a href="#rule-non-space-single-quoted-character">non-space-single-quoted-character</a>
  )*
</pre>
<div id="rule-single-quoted-next-line"></div>
<pre class="rule">[93]
single-quoted-next-line(n) ::=
  <a href="#rule-flow-folded-whitespace">flow-folded-whitespace</a>(n)
  (
    <a href="#rule-non-space-single-quoted-character">non-space-single-quoted-character</a>
    <a href="#rule-single-quoted-first-line">single-quoted-first-line</a>
    (
        <a href="#rule-single-quoted-next-line">single-quoted-next-line</a>(n)
      | <a href="#rule-blank-character">blank-character</a>*
    )
  )?
</pre>
<div id="rule-non-space-single-quoted-character"></div>
<pre class="rule">[94]
non-space-single-quoted-character ::=
    <a href="#rule-non-break-single-quoted-character">non-break-single-quoted-character</a>
  - <a href="#rule-blank-character">blank-character</a>
</pre>
<div id="rule-non-break-single-quoted-character"></div>
<pre class="rule">[95]
non-break-single-quoted-character ::=
    <a href="#rule-single-quoted-escaped-single-quote">single-quoted-escaped-single-quote</a>
  | (
        <a href="#rule-json-character">json-character</a>
      - "'"
    )
</pre>
<div id="rule-single-quoted-escaped-single-quote"></div>
<pre class="rule">[96]
single-quoted-escaped-single-quote ::=
  "''"
</pre>
</section><section data-section-number="4"><h4 id="-plain-style-1">A.3.2.4. Plain Style</h4>
<div id="rule-flow-plain-scalar"></div>
<pre class="rule">[97]
flow-plain-scalar(n,FLOW-OUT)  ::= <a href="#rule-plain-scalar-multi-line">plain-scalar-multi-line</a>(n,FLOW-OUT)
flow-plain-scalar(n,FLOW-IN)   ::= <a href="#rule-plain-scalar-multi-line">plain-scalar-multi-line</a>(n,FLOW-IN)
flow-plain-scalar(n,BLOCK-KEY) ::= <a href="#rule-plain-scalar-single-line">plain-scalar-single-line</a>(BLOCK-KEY)
flow-plain-scalar(n,FLOW-KEY)  ::= <a href="#rule-plain-scalar-single-line">plain-scalar-single-line</a>(FLOW-KEY)
</pre>
<div id="rule-plain-scalar-multi-line"></div>
<pre class="rule">[98]
plain-scalar-multi-line(n,c) ::=
  <a href="#rule-plain-scalar-single-line">plain-scalar-single-line</a>(c)
  <a href="#rule-plain-scalar-next-line">plain-scalar-next-line</a>(n,c)*
</pre>
<div id="rule-plain-scalar-single-line"></div>
<pre class="rule">[99]
plain-scalar-single-line(c) ::=
  <a href="#rule-plain-scalar-first-character">plain-scalar-first-character</a>(c)
  <a href="#rule-plain-scalar-line-characters">plain-scalar-line-characters</a>(c)
</pre>
<div id="rule-plain-scalar-next-line"></div>
<pre class="rule">[100]
plain-scalar-next-line(n,c) ::=
  <a href="#rule-flow-folded-whitespace">flow-folded-whitespace</a>(n)
  <a href="#rule-plain-scalar-characters">plain-scalar-characters</a>(c)
  <a href="#rule-plain-scalar-line-characters">plain-scalar-line-characters</a>(c)
</pre>
<div id="rule-plain-scalar-line-characters"></div>
<pre class="rule">[101]
plain-scalar-line-characters(c) ::=
  (
    <a href="#rule-blank-character">blank-character</a>*
    <a href="#rule-plain-scalar-characters">plain-scalar-characters</a>(c)
  )*
</pre>
<div id="rule-plain-scalar-first-character"></div>
<pre class="rule">[102]
plain-scalar-first-character(c) ::=
    (
        <a href="#rule-non-space-character">non-space-character</a>
      - '?'                         # Mapping key
      - ':'                         # Mapping value
      - '-'                         # Sequence entry
      - '{'                         # Mapping start
      - '}'                         # Mapping end
      - '['                         # Sequence start
      - ']'                         # Sequence end
      - ','                         # Entry separator
      - '#'                         # Comment
      - '&amp;'                         # Anchor
      - '*'                         # Alias
      - '!'                         # Tag
      - '|'                         # Literal scalar
      - '&gt;'                         # Folded scalar
      - "'"                         # Single quote
      - '"'                         # Double quote
      - '%'                         # Directive
      - '@'                         # Reserved
      - '`'                         # Reserved
    )
  | (
      ( '?' | ':' | '-' )
      [ lookahead = <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c) ]
    )
</pre>
<div id="rule-plain-scalar-characters"></div>
<pre class="rule">[103]
plain-scalar-characters(c) ::=
    (
        <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c)
      - ':'
      - '#'
    )
  | (
      [ lookbehind = <a href="#rule-non-space-character">non-space-character</a> ]
      '#'
    )
  | (
      ':'
      [ lookahead = <a href="#rule-non-space-plain-scalar-character">non-space-plain-scalar-character</a>(c) ]
    )
</pre>
<div id="rule-non-space-plain-scalar-character"></div>
<pre class="rule">[104]
non-space-plain-scalar-character(FLOW-OUT)  ::= <a href="#rule-block-plain-scalar-character">block-plain-scalar-character</a>
non-space-plain-scalar-character(FLOW-IN)   ::= <a href="#rule-flow-plain-scalar-character">flow-plain-scalar-character</a>
non-space-plain-scalar-character(BLOCK-KEY) ::= <a href="#rule-block-plain-scalar-character">block-plain-scalar-character</a>
non-space-plain-scalar-character(FLOW-KEY)  ::= <a href="#rule-flow-plain-scalar-character">flow-plain-scalar-character</a>
</pre>
<div id="rule-block-plain-scalar-character"></div>
<pre class="rule">[105]
block-plain-scalar-character ::=
  <a href="#rule-non-space-character">non-space-character</a>
</pre>
<div id="rule-flow-plain-scalar-character"></div>
<pre class="rule">[106]
flow-plain-scalar-character ::=
    <a href="#rule-non-space-characters">non-space-characters</a>
  - <a href="#rule-flow-collection-indicators">flow-collection-indicators</a>
</pre>
</section></section><section data-section-number="3"><h3 id="-other-nodes">A.3.3. Other Nodes</h3>
<div id="rule-alias-node"></div>
<pre class="rule">[107]
alias-node ::=
  '*'
  <a href="#rule-anchor-name">anchor-name</a>
</pre>
<div id="rule-empty-node"></div>
<pre class="rule">[108]
empty-node ::=
  ""
</pre>
</section></section><section data-section-number="4"><h2 id="-structural-productions">A.4. Structural Productions</h2>
<section data-section-number="1"><h3 id="-indentation-spaces-1">A.4.1. Indentation Spaces</h3>
<div id="rule-indentation-spaces"></div>
<pre class="rule">[109]
indentation-spaces(0) ::=
  ""

# When n≥0
indentation-spaces(n+1) ::=
  <a href="#rule-space-character">space-character</a>
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
</pre>
<div id="rule-indentation-spaces-less-than"></div>
<pre class="rule">[110]
indentation-spaces-less-than(1) ::=
  ""

# When n≥1
indentation-spaces-less-than(n+1) ::=
    (
      <a href="#rule-space-character">space-character</a>
      <a href="#rule-indentation-spaces-less-than">indentation-spaces-less-than</a>(n)
    )
  | ""
</pre>
<div id="rule-indentation-spaces-less-or-equal"></div>
<pre class="rule">[111]
indentation-spaces-less-or-equal(0) ::=
  ""

# When n≥0
indentation-spaces-less-or-equal(n+1) ::=
    (
      <a href="#rule-space-character">space-character</a>
      <a href="#rule-indentation-spaces-less-or-equal">indentation-spaces-less-or-equal</a>(n)
    )
  | ""
</pre>
</section><section data-section-number="2"><h3 id="-line-prefixes-1">A.4.2. Line Prefixes</h3>
<div id="rule-line-prefix-spaces"></div>
<pre class="rule">[112]
line-prefix-spaces(n,BLOCK-OUT) ::= <a href="#rule-indentation-spaces-exact">indentation-spaces-exact</a>(n)
line-prefix-spaces(n,BLOCK-IN)  ::= <a href="#rule-indentation-spaces-exact">indentation-spaces-exact</a>(n)
line-prefix-spaces(n,FLOW-OUT)  ::= <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
line-prefix-spaces(n,FLOW-IN)   ::= <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
</pre>
<div id="rule-indentation-spaces-exact"></div>
<pre class="rule">[113]
indentation-spaces-exact(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
</pre>
<div id="rule-indentation-spaces-plus-maybe-more"></div>
<pre class="rule">[114]
indentation-spaces-plus-maybe-more(n) ::=
  <a href="#rule-indentation-spaces">indentation-spaces</a>(n)
  <a href="#rule-separation-blanks">separation-blanks</a>?
</pre>
</section><section data-section-number="3"><h3 id="-line-folding-1">A.4.3. Line Folding</h3>
<div id="rule-flow-folded-whitespace"></div>
<pre class="rule">[115]
flow-folded-whitespace(n) ::=
  <a href="#rule-separation-blanks">separation-blanks</a>?
  <a href="#rule-folded-whitespace">folded-whitespace</a>(n,FLOW-IN)
  <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
</pre>
<div id="rule-folded-whitespace"></div>
<pre class="rule">[116]
folded-whitespace(n,c) ::=
    (
      <a href="#rule-line-break">line-break</a>
      <a href="#rule-empty-line">empty-line</a>(n,c)+
    )
  | <a href="#rule-break-as-space">break-as-space</a>
</pre>
</section><section data-section-number="4"><h3 id="-comments-2">A.4.4. Comments</h3>
<div id="rule-comment-lines"></div>
<pre class="rule">[117]
comment-lines ::=
    <a href="#rule-comment-line">comment-line</a>+
  | &lt;start-of-line&gt;
</pre>
<div id="rule-comment-line"></div>
<pre class="rule">[118]
comment-line ::=
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-comment-content">comment-content</a>?
  <a href="#rule-line-ending">line-ending</a>
</pre>
<div id="rule-comment-content"></div>
<pre class="rule">[119]
comment-content ::=
  '#'
  <a href="#rule-non-break-character">non-break-character</a>*
</pre>
</section><section data-section-number="5"><h3 id="-empty-lines-1">A.4.5. Empty Lines</h3>
<div id="rule-empty-line"></div>
<pre class="rule">[120]
empty-line(n,c) ::=
  (
      <a href="#rule-line-prefix-spaces">line-prefix-spaces</a>(n,c)
    | <a href="#rule-indentation-spaces-less-than">indentation-spaces-less-than</a>(n)
  )
  <a href="#rule-break-as-line-feed">break-as-line-feed</a>
</pre>
</section><section data-section-number="6"><h3 id="-separation-lines-and-blanks">A.4.6. Separation Lines and Blanks</h3>
<div id="rule-separation-characters"></div>
<pre class="rule">[121]
separation-characters(n,BLOCK-OUT) ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,BLOCK-IN)  ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,FLOW-OUT)  ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,FLOW-IN)   ::= <a href="#rule-separation-lines">separation-lines</a>(n)
separation-characters(n,BLOCK-KEY) ::= <a href="#rule-separation-blanks">separation-blanks</a>
separation-characters(n,FLOW-KEY)  ::= <a href="#rule-separation-blanks">separation-blanks</a>
</pre>
<div id="rule-separation-lines"></div>
<pre class="rule">[122]
separation-lines(n) ::=
    (
      <a href="#rule-comment-lines">comment-lines</a>
      <a href="#rule-indentation-spaces-plus-maybe-more">indentation-spaces-plus-maybe-more</a>(n)
    )
  | <a href="#rule-separation-blanks">separation-blanks</a>
</pre>
<div id="rule-separation-blanks"></div>
<pre class="rule">[123]
separation-blanks ::=
    <a href="#rule-blank-character">blank-character</a>+
  | &lt;start-of-line&gt;
</pre>
</section><section data-section-number="7"><h3 id="-directives-2">A.4.7. Directives</h3>
<p>A %YAML directive line.</p>
<div id="rule-yaml-directive-line"></div>
<pre class="rule">[124]
yaml-directive-line ::=
  "YAML"
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-yaml-version-number">yaml-version-number</a>
</pre>
<div id="rule-yaml-version-number"></div>
<pre class="rule">[125]
yaml-version-number ::=
  <a href="#rule-decimal-digit">decimal-digit</a>+
  '.'
  <a href="#rule-decimal-digit">decimal-digit</a>+
</pre>
<div id="rule-reserved-directive-line"></div>
<pre class="rule">[126]
reserved-directive-line ::=
  <a href="#rule-directive-name">directive-name</a>
  (
    <a href="#rule-separation-blanks">separation-blanks</a>
    <a href="#rule-directive-parameter">directive-parameter</a>
  )*
</pre>
<div id="rule-directive-name"></div>
<pre class="rule">[127]
directive-name ::=
  <a href="#rule-non-space-character">non-space-character</a>+
</pre>
<div id="rule-directive-parameter"></div>
<pre class="rule">[128]
directive-parameter ::=
  <a href="#rule-non-space-character">non-space-character</a>+
</pre>
<div id="rule-tag-directive-line"></div>
<pre class="rule">[129]
tag-directive-line ::=
  "TAG"
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-tag-handle">tag-handle</a>
  <a href="#rule-separation-blanks">separation-blanks</a>
  <a href="#rule-tag-prefix">tag-prefix</a>
</pre>
<div id="rule-tag-handle"></div>
<pre class="rule">[130]
tag-handle ::=
    <a href="#rule-named-tag-handle">named-tag-handle</a>
  | <a href="#rule-secondary-tag-handle">secondary-tag-handle</a>
  | <a href="#rule-primary-tag-handle">primary-tag-handle</a>
</pre>
<div id="rule-named-tag-handle"></div>
<pre class="rule">[131]
named-tag-handle ::=
  '!'
  <a href="#rule-word-character">word-character</a>+
  '!'
</pre>
<div id="rule-secondary-tag-handle"></div>
<pre class="rule">[132]
secondary-tag-handle ::=
  "!!"
</pre>
<div id="rule-primary-tag-handle"></div>
<pre class="rule">[133]
primary-tag-handle ::=
  '!'
</pre>
<div id="rule-tag-prefix"></div>
<pre class="rule">[134]
tag-prefix ::=
    <a href="#rule-local-tag-prefix">local-tag-prefix</a>
  | <a href="#rule-global-tag-prefix">global-tag-prefix</a>
</pre>
<div id="rule-local-tag-prefix"></div>
<pre class="rule">[135]
local-tag-prefix ::=
  '!'
  <a href="#rule-uri-character">uri-character</a>*
</pre>
<div id="rule-global-tag-prefix"></div>
<pre class="rule">[136]
global-tag-prefix ::=
  <a href="#rule-tag-character">tag-character</a>
  <a href="#rule-uri-character">uri-character</a>*
</pre>
</section><section data-section-number="8"><h3 id="-node-properties-1">A.4.8. Node Properties</h3>
<div id="rule-node-properties"></div>
<pre class="rule">[137]
node-properties(n,c) ::=
    (
      <a href="#rule-anchor-property">anchor-property</a>
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)
        <a href="#rule-tag-property">tag-property</a>
      )?
    )
  | (
      <a href="#rule-tag-property">tag-property</a>
      (
        <a href="#rule-separation-characters">separation-characters</a>(n,c)
        <a href="#rule-anchor-property">anchor-property</a>
      )?
    )
</pre>
<div id="rule-anchor-property"></div>
<pre class="rule">[138]
anchor-property ::=
  '&amp;'
  <a href="#rule-anchor-name">anchor-name</a>
</pre>
<div id="rule-anchor-name"></div>
<pre class="rule">[139]
anchor-name ::=
  <a href="#rule-anchor-character">anchor-character</a>+
</pre>
<p>XXX Change to <code>anchor-character ::= flow-plain-scalar-character</code> ?</p>
<div id="rule-anchor-character"></div>
<pre class="rule">[140]
anchor-character ::=
    <a href="#rule-non-space-character">non-space-character</a>
  - <a href="#rule-flow-collection-indicators">flow-collection-indicators</a>
</pre>
<div id="rule-tag-property"></div>
<pre class="rule">[141]
tag-property ::=
    <a href="#rule-verbatim-tag">verbatim-tag</a>
  | <a href="#rule-shorthand-tag">shorthand-tag</a>
  | <a href="#rule-non-specific-tag">non-specific-tag</a>
</pre>
<div id="rule-verbatim-tag"></div>
<pre class="rule">[142]
verbatim-tag ::=
  "!&lt;"
  <a href="#rule-uri-character">uri-character</a>+
  '&gt;'
</pre>
<div id="rule-shorthand-tag"></div>
<pre class="rule">[143]
shorthand-tag ::=
  <a href="#rule-tag-handle">tag-handle</a>
  <a href="#rule-tag-character">tag-character</a>+
</pre>
<div id="rule-non-specific-tag"></div>
<pre class="rule">[144]
non-specific-tag ::=
  '!'
</pre>
</section></section><section data-section-number="5"><h2 id="-character-productions">A.5. Character Productions</h2>
<section data-section-number="1"><h3 id="-character-encoding">A.5.1. Character Encoding</h3>
<div id="rule-byte-order-mark"></div>
<pre class="rule">[145]
byte-order-mark ::=
  xFEFF
</pre>
</section><section data-section-number="2"><h3 id="-valid-character-sets">A.5.2. Valid Character Sets</h3>
<p>All characters allowed in YAML.</p>
<div id="rule-yaml-character"></div>
<pre class="rule">[146]
yaml-character ::=
                                    # 8 bit
    x09                             # Tab
  | x0A                             # Line feed
  | x0D                             # Carriage return
  | [x20-x7E]                       # Printable ASCII
                                    # 16 bit
  | x85                             # Next line (NEL)
  | [xA0-xD7FF]                     # Basic multilingual plane (BMP)
  | [xE000-xFFFD]                   # Additional unicode areas
  | [x010000-x10FFFF]               # 32 bit
</pre>
<p>All characters allowed in JSON.</p>
<div id="rule-json-character"></div>
<pre class="rule">[147]
json-character ::=
    x09                             # Tab
  | [x20-x10FFFF]                   # Non-C0-control characters
</pre>
<div id="rule-non-space-character"></div>
<pre class="rule">[148]
non-space-character ::=
    <a href="#rule-non-break-character">non-break-character</a>
  - <a href="#rule-blank-character">blank-character</a>
</pre>
<div id="rule-non-break-character"></div>
<pre class="rule">[149]
non-break-character ::=
    <a href="#rule-yaml-character">yaml-character</a>
  - x0A
  - x0D
  - <a href="#rule-byte-order-mark">byte-order-mark</a>
</pre>
<div id="rule-blank-character"></div>
<pre class="rule">[150]
blank-character ::=
    x20                             # Space
  | x09                             # Tab
</pre>
<div id="rule-space-character"></div>
<pre class="rule">[151]
space-character ::=
  x20
</pre>
</section><section data-section-number="3"><h3 id="-line-ending-productions">A.5.3. Line Ending Productions</h3>
<div id="rule-line-ending"></div>
<pre class="rule">[152]
line-ending ::=
    <a href="#rule-line-break">line-break</a>
  | &lt;end-of-input&gt;
</pre>
<div id="rule-break-as-space"></div>
<pre class="rule">[153]
break-as-space ::=
  <a href="#rule-line-break">line-break</a>
</pre>
<div id="rule-break-as-line-feed"></div>
<pre class="rule">[154]
break-as-line-feed ::=
  <a href="#rule-line-break">line-break</a>
</pre>
<div id="rule-line-break"></div>
<pre class="rule">[155]
line-break ::=
    (
      x0D                           # Carriage return
      x0A                           # Line feed
    )
  | x0D
  | x0A
</pre>
</section><section data-section-number="4"><h3 id="-indicator-characters-1">A.5.4. Indicator Characters</h3>
<div id="rule-flow-collection-indicators"></div>
<pre class="rule">[156]
flow-collection-indicators ::=
    '{'                             # Flow mapping start
  | '}'                             # Flow mapping end
  | '['                             # Flow sequence start
  | ']'                             # Flow sequence end
</pre>
</section><section data-section-number="5"><h3 id="-miscellaneous-character-sets">A.5.5. Miscellaneous Character Sets</h3>
<p>See <a href="#escaped-characters">Escaped Characters</a>.</p>
<div id="rule-double-quoted-scalar-escape-character"></div>
<pre class="rule">[157]
double-quoted-scalar-escape-character ::=
  '\'
  (
      '0'
    | 'a'
    | 'b'
    | 't' | x09
    | 'n'
    | 'v'
    | 'f'
    | 'r'
    | 'e'
    | x20
    | '"'
    | '/'
    | '\'
    | 'N'
    | '_'
    | 'L'
    | 'P'
    | ( 'x' <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{2} )
    | ( 'u' <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{4} )
    | ( 'U' <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{8} )
  )
</pre>
<div id="rule-tag-character"></div>
<pre class="rule">[158]
tag-character ::=
    <a href="#rule-uri-character">uri-character</a>
  - '!'
  - <a href="#rule-flow-collection-indicators">flow-collection-indicators</a>
</pre>
<div id="rule-uri-character"></div>
<pre class="rule">[159]
uri-character ::=
    (
      '%'
      <a href="#rule-hexadecimal-digit">hexadecimal-digit</a>{2}
    )
  | <a href="#rule-word-character">word-character</a>
  | '#'
  | ';'
  | '/'
  | '?'
  | ':'
  | '@'
  | '&amp;'
  | '='
  | '+'
  | '$'
  | ','
  | '_'
  | '.'
  | '!'
  | '~'
  | '*'
  | "'"
  | '('
  | ')'
  | '['
  | ']'
</pre>
<div id="rule-word-character"></div>
<pre class="rule">[160]
word-character ::=
    <a href="#rule-decimal-digit">decimal-digit</a>
  | <a href="#rule-ascii-alpha-character">ascii-alpha-character</a>
  | '-'
</pre>
<div id="rule-hexadecimal-digit"></div>
<pre class="rule">[161]
hexadecimal-digit ::=
    <a href="#rule-decimal-digit">decimal-digit</a>
  | [x41-x46]                       # A-F
  | [x61-x66]                       # <a href="#rule-a-f">a-f</a>
</pre>
<div id="rule-decimal-digit"></div>
<pre class="rule">[162]
decimal-digit ::=
  [x30-x39]                         # 0-9
</pre>
<div id="rule-decimal-digit-1-9"></div>
<pre class="rule">[163]
decimal-digit-1-9 ::=
  [x31-x39]                         # 1-9
</pre>
<div id="rule-ascii-alpha-character"></div>
<pre class="rule">[164]
ascii-alpha-character ::=
    [x41-x5A]                       # A-Z
  | [x61-x7A]                       # <a href="#rule-a-z">a-z</a>
</pre>
</section></section></section><section data-section-number="B"><h1 id="appendix--recommended-schemas">Appendix B. Recommended Schemas</h1>
<p>A YAML <em>schema</em> is a combination of a set of <a href="#tags">tags</a> and a mechanism for<br/>
<a href="#resolved-tags">resolving</a> <a href="#resolved-tags">non-specific tags</a>.</p>
<section data-section-number="1"><h2 id="-failsafe-schema">B.1. Failsafe Schema</h2>
<p>The <em>failsafe schema</em> is guaranteed to work with any YAML <a href="#documents">document</a>.<br/>
It is therefore the recommended <a href="#recommended-schemas">schema</a> for generic YAML tools.<br/>
A YAML <a href="#processes-and-models">processor</a> should therefore support this <a href="#recommended-schemas">schema</a>, at least as an<br/>
option.</p>
<section data-section-number="1"><h3 id="-tags-2">B.1.1. Tags</h3>
<section data-section-number="1"><h4 id="-generic-mapping">B.1.1.1. Generic Mapping</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:map</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#mapping">Mapping</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> an associative container, where each <a href="#nodes">key</a> is unique in the<br/>
association and mapped to exactly one <a href="#nodes">value</a>.<br/>
YAML places no restrictions on the type of <a href="#nodes">keys</a>; in particular, they are not<br/>
restricted to being <a href="#scalars">scalars</a>.<br/>
Example <a href="#constructing-native-data-structures">bindings</a> to <a href="#representing-native-data-structures">native</a> types include Perl’s hash, Python’s dictionary<br/>
and Java’s Hashtable.</p>
</dd>
</dl>
<div class="example" id="example-map-examples">
<p><strong>Example B.1. <code>!!map</code> Examples</strong></p>
<pre class="example">
Block style: !!map
  Clark : Evans
  Ingy  : döt Net
  Oren  : Ben-Kiki

Flow style: !!map { Clark: Evans, Ingy: döt Net, Oren: Ben-Kiki }
</pre>
</div>
</section><section data-section-number="2"><h4 id="-generic-sequence">B.1.1.2. Generic Sequence</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:seq</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#sequence">Sequence</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> a collection indexed by sequential integers starting with zero.<br/>
Example <a href="#constructing-native-data-structures">bindings</a> to <a href="#representing-native-data-structures">native</a> types include Perl’s array, Python’s list or<br/>
tuple and Java’s array or Vector.</p>
</dd>
</dl>
<div class="example" id="example-seq-examples">
<p><strong>Example B.2. <code>!!seq</code> Examples</strong></p>
<pre class="example">
Block style: !!seq
- Clark Evans
- Ingy döt Net
- Oren Ben-Kiki

Flow style: !!seq [ Clark Evans, Ingy döt Net, Oren Ben-Kiki ]
</pre>
</div>
</section><section data-section-number="3"><h4 id="-generic-string">B.1.1.3. Generic String</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:str</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#scalar">Scalar</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> a Unicode string, a sequence of zero or more Unicode characters.<br/>
This type is usually <a href="#representing-native-data-structures">bound</a> to the <a href="#representing-native-data-structures">native</a> language’s string type or, for<br/>
languages lacking one (such as C), to a character array.</p>
</dd>
</dl>
<div id="canonical-form"></div>
<dl>
<dt>Canonical Form:</dt>
<dd>
<p>The obvious.</p>
</dd>
</dl>
<div class="example" id="example-str-examples">
<p><strong>Example B.3. <code>!!str</code> Examples</strong></p>
<pre class="example">
Block style: !!str |-
  String: just a theory.

Flow style: !!str "String: just a theory."
</pre>
</div>
</section></section><section data-section-number="2"><h3 id="-tag-resolution">B.1.2. Tag Resolution</h3>
<p>All <a href="#nodes">nodes</a> with the “<code>!</code>” non-specific tag are <a href="#resolved-tags">resolved</a>, by the standard<br/>
<a href="#resolved-tags">convention</a>, to “<code>tag:yaml.org,2002:seq</code>”, “<code>tag:yaml.org,2002:map</code>” or<br/>
“<code>tag:yaml.org,2002:str</code>”, according to their <a href="#nodes">kind</a>.</p>
<p>All <a href="#nodes">nodes</a> with the “<code>?</code>” non-specific tag are left <a href="#resolved-tags">unresolved</a>.<br/>
This constrains the <a href="#processes-and-models">application</a> to deal with a <a href="#loading-failure-points">partial representation</a>.</p>
</section></section><section data-section-number="2"><h2 id="-json-schema">B.2. JSON Schema</h2>
<p>The <em>JSON schema</em> is the lowest common denominator of most modern computer<br/>
languages and allows <a href="#parsing-the-presentation-stream">parsing</a> JSON files.<br/>
A YAML <a href="#processes-and-models">processor</a> should therefore support this <a href="#recommended-schemas">schema</a>, at least as an<br/>
option.<br/>
It is also strongly recommended that other <a href="#recommended-schemas">schemas</a> should be based on it.</p>
<section data-section-number="1"><h3 id="-tags-3">B.2.1. Tags</h3>
<p>The JSON <a href="#recommended-schemas">schema</a> uses the following <a href="#tags">tags</a> in addition to those defined by the<br/>
<a href="#failsafe-schema">failsafe</a> schema:</p>
<section data-section-number="1"><h4 id="-null">B.2.1.1. Null</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:null</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#scalar">Scalar</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> the lack of a value.<br/>
This is typically <a href="#representing-native-data-structures">bound</a> to a <a href="#representing-native-data-structures">native</a> null-like value (e.g., <code>undef</code> in Perl,<br/>
<code>None</code> in Python).<br/>
Note that a null is different from an empty string.<br/>
Also, a <a href="#mapping">mapping</a> entry with some <a href="#nodes">key</a> and a null <a href="#nodes">value</a> is valid and<br/>
different from not having that <a href="#nodes">key</a> in the <a href="#mapping">mapping</a>.</p>
</dd>
</dl>
<div id="canonical-form"></div>
<dl>
<dt>Canonical Form</dt>
<dd>
<p><code>null</code>.</p>
</dd>
</dl>
<div class="example" id="example-null-examples">
<p><strong>Example B.4. <code>!!null</code> Examples</strong></p>
<pre class="example">
!!null null: value for null key
key with null value: !!null null
</pre>
</div>
</section><section data-section-number="2"><h4 id="-boolean">B.2.1.2. Boolean</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:bool</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#scalar">Scalar</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> a true/false value.<br/>
In languages without a <a href="#representing-native-data-structures">native</a> Boolean type (such as C), they are usually<br/>
<a href="#representing-native-data-structures">bound</a> to a native integer type, using one for true and zero for false.</p>
</dd>
</dl>
<div id="canonical-form"></div>
<dl>
<dt>Canonical Form</dt>
<dd>
<p>Either <code>true</code> or <code>false</code>.</p>
</dd>
</dl>
<div class="example" id="example-bool-examples">
<p><strong>Example B.5. <code>!!bool</code> Examples</strong></p>
<pre class="example">
YAML is a superset of JSON: !!bool true
Pluto is a planet: !!bool false
</pre>
</div>
</section><section data-section-number="3"><h4 id="-integer">B.2.1.3. Integer</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:int</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#scalar">Scalar</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> arbitrary sized finite mathematical integers.<br/>
Scalars of this type should be <a href="#representing-native-data-structures">bound</a> to a <a href="#representing-native-data-structures">native</a> integer data type, if<br/>
possible.</p>
</dd>
<dd>
<p>Some languages (such as Perl) provide only a “number” type that allows for both<br/>
integer and floating-point values.<br/>
A YAML <a href="#processes-and-models">processor</a> may use such a type for integers as long as they round-trip<br/>
properly.</p>
</dd>
<dd>
<p>In some languages (such as C), an integer may overflow the <a href="#representing-native-data-structures">native</a> type’s<br/>
storage capability.<br/>
A YAML <a href="#processes-and-models">processor</a> may reject such a value as an error, truncate it with a<br/>
warning or find some other manner to round-trip it.<br/>
In general, integers representable using 32 binary digits should safely<br/>
round-trip through most systems.</p>
</dd>
</dl>
<div id="canonical-form"></div>
<dl>
<dt>Canonical Form</dt>
<dd>
<p>Decimal integer notation, with a leading “<code>-</code>” character for negative values,<br/>
matching the regular expression <code>0 | -? [1-9] [0-9]*</code></p>
</dd>
</dl>
<div class="example" id="example-int-examples">
<p><strong>Example B.6. <code>!!int</code> Examples</strong></p>
<pre class="example">
negative: !!int -12
zero: !!int 0
positive: !!int 34
</pre>
</div>
</section><section data-section-number="4"><h4 id="-floating-point">B.2.1.4. Floating Point</h4>
<div id="uri"></div>
<dl>
<dt>URI</dt>
<dd>
<p><code>tag:yaml.org,2002:float</code></p>
</dd>
</dl>
<div id="kind"></div>
<dl>
<dt>Kind</dt>
<dd>
<p><a href="#scalar">Scalar</a>.</p>
</dd>
</dl>
<div id="definition"></div>
<dl>
<dt>Definition</dt>
<dd>
<p><a href="#representation-graph">Represents</a> an approximation to real numbers, including three special values<br/>
(positive and negative infinity and “not a number”).</p>
</dd>
<dd>
<p>Some languages (such as Perl) provide only a “number” type that allows for both<br/>
integer and floating-point values.<br/>
A YAML <a href="#processes-and-models">processor</a> may use such a type for floating-point numbers, as long as<br/>
they round-trip properly.</p>
</dd>
<dd>
<p>Not all floating-point values can be stored exactly in any given <a href="#representing-native-data-structures">native</a> type.<br/>
Hence a float value may change by “a small amount” when round-tripped.<br/>
The supported range and accuracy depends on the implementation, though 32 bit<br/>
IEEE floats should be safe.<br/>
Since YAML does not specify a particular accuracy, using floating-point<br/>
<a href="#nodes">mapping keys</a> requires great care and is not recommended.</p>
</dd>
</dl>
<div id="canonical-form"></div>
<dl>
<dt>Canonical Form</dt>
<dd>
<p>Either <code>0</code>, <code>.inf</code>, <code>-.inf</code>, <code>.nan</code> or scientific notation matching the regular<br/>
expression  <br/>
<code>-? [1-9] ( \. [0-9]* [1-9] )? ( e [-+] [1-9] [0-9]* )?</code>.</p>
</dd>
</dl>
<div class="example" id="example-float-examples">
<p><strong>Example B.7. <code>!!float</code> Examples</strong></p>
<pre class="example">
negative: !!float -1
zero: !!float 0
positive: !!float 2.3e4
infinity: !!float .inf
not a number: !!float .nan
</pre>
</div>
</section></section><section data-section-number="2"><h3 id="-tag-resolution-1">B.2.2. Tag Resolution</h3>
<p>The <a href="#json-schema">JSON schema</a> <a href="#tag-resolution">tag resolution</a> is an extension of the <a href="#failsafe-schema">failsafe schema</a><br/>
<a href="#tag-resolution">tag resolution</a>.</p>
<p>All <a href="#nodes">nodes</a> with the “<code>!</code>” non-specific tag are <a href="#resolved-tags">resolved</a>, by the standard<br/>
<a href="#resolved-tags">convention</a>, to “<code>tag:yaml.org,2002:seq</code>”, “<code>tag:yaml.org,2002:map</code>” or<br/>
“<code>tag:yaml.org,2002:str</code>”, according to their <a href="#nodes">kind</a>.</p>
<p><a href="#collections">Collections</a> with the “<code>?</code>” non-specific tag (that is, <a href="#resolved-tags">untagged</a><br/>
<a href="#collections">collections</a>) are <a href="#resolved-tags">resolved</a> to “<code>tag:yaml.org,2002:seq</code>” or<br/>
“<code>tag:yaml.org,2002:map</code>” according to their <a href="#nodes">kind</a>.</p>
<p><a href="#scalars">Scalars</a> with the “<code>?</code>” non-specific tag (that is, <a href="#plain-style">plain scalars</a>) are<br/>
matched with a list of regular expressions (first match wins, e.g. <code>0</code> is<br/>
resolved as <code>!!int</code>).<br/>
In principle, JSON files should not contain any <a href="#scalars">scalars</a> that do not match at<br/>
least one of these.<br/>
Hence the YAML <a href="#processes-and-models">processor</a> should consider them to be an error.</p>
<table>
<thead>
<tr>
<th>Regular expression</th>
<th>Resolved to tag</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>null</code></td>
<td>tag:yaml.org,2002:null</td>
</tr>
<tr>
<td><code>true | false</code></td>
<td>tag:yaml.org,2002:bool</td>
</tr>
<tr>
<td><code>-? ( 0 | [1-9] [0-9]* )</code></td>
<td>tag:yaml.org,2002:int</td>
</tr>
<tr>
<td><code>-? ( 0 | [1-9] [0-9]* ) ( \. [0-9]* )? ( [eE] [-+]? [0-9]+ )?</code></td>
<td>tag:yaml.org,2002:float</td>
</tr>
<tr>
<td><code>*</code></td>
<td>Error</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Note: The regular expression for <code>float</code> does not exactly match the one in<br/>
the JSON specification, where at least one digit is required after the dot: <code>(
\.  [0-9]+ )</code>. The YAML 1.2 specification intended to match JSON behavior, but<br/>
this could not be addressed in the 1.2.2 specification.</p>
</blockquote>
<div class="example" id="example-json-tag-resolution">
<p><strong>Example B.8. JSON Tag Resolution</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
A null: null
Booleans: [ true, false ]
Integers: [ 0, -0, 3, -19 ]
Floats: [ 0., -0.0, 12e03, -2E+05 ]
Invalid: [ True, Null,
  0o7, 0x3A, +12.3 ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"A null"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Booleans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Integers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">-19</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Floats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span><span class="w"> </span><span class="mi">-200000</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Invalid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"True"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Null"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0o7"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0x3A"</span><span class="p">,</span><span class="w"> </span><span class="s2">"+12.3"</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
</div>
</section></section><section data-section-number="3"><h2 id="-core-schema">B.3. Core Schema</h2>
<p>The <em>Core schema</em> is an extension of the <a href="#json-schema">JSON schema</a>, allowing for more<br/>
human-readable <a href="#presentation-stream">presentation</a> of the same types.<br/>
This is the recommended default <a href="#recommended-schemas">schema</a> that YAML <a href="#processes-and-models">processor</a> should use<br/>
unless instructed otherwise.<br/>
It is also strongly recommended that other <a href="#recommended-schemas">schemas</a> should be based on it.</p>
<section data-section-number="1"><h3 id="-tags-4">B.3.1. Tags</h3>
<p>The core <a href="#recommended-schemas">schema</a> uses the same <a href="#tags">tags</a> as the <a href="#json-schema">JSON schema</a>.</p>
</section><section data-section-number="2"><h3 id="-tag-resolution-2">B.3.2. Tag Resolution</h3>
<p>The <a href="#core-schema">core schema</a> <a href="#tag-resolution">tag resolution</a> is an extension of the <a href="#json-schema">JSON schema</a> <a href="#tag-resolution">tag<br/>
resolution</a>.</p>
<p>All <a href="#nodes">nodes</a> with the “<code>!</code>” non-specific tag are <a href="#resolved-tags">resolved</a>, by the standard<br/>
<a href="#resolved-tags">convention</a>, to “<code>tag:yaml.org,2002:seq</code>”, “<code>tag:yaml.org,2002:map</code>” or<br/>
“<code>tag:yaml.org,2002:str</code>”, according to their <a href="#nodes">kind</a>.</p>
<p><a href="#collections">Collections</a> with the “<code>?</code>” non-specific tag (that is, <a href="#resolved-tags">untagged</a><br/>
<a href="#collections">collections</a>) are <a href="#resolved-tags">resolved</a> to “<code>tag:yaml.org,2002:seq</code>” or<br/>
“<code>tag:yaml.org,2002:map</code>” according to their <a href="#nodes">kind</a>.</p>
<p><a href="#scalars">Scalars</a> with the “<code>?</code>” non-specific tag (that is, <a href="#plain-style">plain scalars</a>) are<br/>
matched with an extended list of regular expressions.<br/>
However, in this case, if none of the regular expressions matches, the <a href="#scalar">scalar</a><br/>
is <a href="#resolved-tags">resolved</a> to <code>tag:yaml.org,2002:str</code> (that is, considered to be a string).</p>
<table>
<thead>
<tr>
<th>Regular expression</th>
<th>Resolved to tag</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>null | Null | NULL | ~</code></td>
<td>tag:yaml.org,2002:null</td>
</tr>
<tr>
<td><code>/* Empty */</code></td>
<td>tag:yaml.org,2002:null</td>
</tr>
<tr>
<td><code>true | True | TRUE | false | False | FALSE</code></td>
<td>tag:yaml.org,2002:bool</td>
</tr>
<tr>
<td><code>[-+]? [0-9]+</code></td>
<td>tag:yaml.org,2002:int (Base 10)</td>
</tr>
<tr>
<td><code>0o [0-7]+</code></td>
<td>tag:yaml.org,2002:int (Base 8)</td>
</tr>
<tr>
<td><code>0x [0-9a-fA-F]+</code></td>
<td>tag:yaml.org,2002:int (Base 16)</td>
</tr>
<tr>
<td><code>[-+]? ( \. [0-9]+ | [0-9]+ ( \. [0-9]* )? ) ( [eE] [-+]? [0-9]+ )?</code></td>
<td>tag:yaml.org,2002:float (Number)</td>
</tr>
<tr>
<td><code>[-+]? ( \.inf | \.Inf | \.INF )</code></td>
<td>tag:yaml.org,2002:float (Infinity)</td>
</tr>
<tr>
<td><code>\.nan | \.NaN | \.NAN</code></td>
<td>tag:yaml.org,2002:float (Not a number)</td>
</tr>
<tr>
<td><code>*</code></td>
<td>tag:yaml.org,2002:str (Default)</td>
</tr>
</tbody>
</table>
<div class="example" id="example-core-tag-resolution">
<p><strong>Example B.9. Core Tag Resolution</strong></p>
<table width="100%">
<tr>
<td class="side-by-side">
<pre>
A null: null
Also a null: # Empty
Not a null: ""
Booleans: [ true, True, false, FALSE ]
Integers: [ 0, 0o7, 0x3A, -19 ]
Floats: [
  0., -0.0, .5, +12e03, -2E+05 ]
Also floats: [
  .inf, -.Inf, +.INF, .NAN ]
</pre>
</td>
<td class="side-by-side">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"A null"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Also a null"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Not a null"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Booleans"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Integers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w"> </span><span class="mi">-19</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Floats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span><span class="w"> </span><span class="mi">-200000</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Also floats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="err">Infinity</span><span class="p">,</span><span class="w"> </span><span class="err">-Infinity</span><span class="p">,</span><span class="w"> </span><span class="err">Infinity</span><span class="p">,</span><span class="w"> </span><span class="err">NaN</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div> </div>
</td>
</tr>
</table>
</div>
</section></section><section data-section-number="4"><h2 id="-other-schemas">B.4. Other Schemas</h2>
<p>None of the above recommended <a href="#recommended-schemas">schemas</a> preclude the use of arbitrary explicit<br/>
<a href="#tags">tags</a>.<br/>
Hence YAML <a href="#processes-and-models">processors</a> for a particular programming language typically provide<br/>
some form of <a href="#tags">local tags</a> that map directly to the language’s <a href="#representing-native-data-structures">native data<br/>
structures</a> (e.g., <code>!ruby/object:Set</code>).</p>
<p>While such <a href="#tags">local tags</a> are useful for ad hoc <a href="#processes-and-models">applications</a>, they do not<br/>
suffice for stable, interoperable cross-<a href="#processes-and-models">application</a> or cross-platform data<br/>
exchange.</p>
<p>Interoperable <a href="#recommended-schemas">schemas</a> make use of <a href="#tags">global tags</a> (URIs) that <a href="#representation-graph">represent</a> the<br/>
same data across different programming languages.<br/>
In addition, an interoperable <a href="#recommended-schemas">schema</a> may provide additional <a href="#tag-resolution">tag resolution</a><br/>
rules.<br/>
Such rules may provide additional regular expressions, as well as consider the<br/>
path to the <a href="#nodes">node</a>.<br/>
This allows interoperable <a href="#recommended-schemas">schemas</a> to use <a href="#resolved-tags">untagged</a> <a href="#nodes">nodes</a>.</p>
<p>It is strongly recommended that such <a href="#recommended-schemas">schemas</a> be based on the <a href="#core-schema">core schema</a><br/>
defined above.</p>
</section></section><section data-section-number="C"><h1 id="reference-links">Reference Links</h1>
<div class="footnotes" role="doc-endnotes">
<ol>
<li id="fn:team" role="doc-endnote">
<p><a href="ext/team">YAML Language Development Team</a> <a class="reversefootnote" href="#fnref:team" role="doc-backlink">↩</a></p>
</li>
<li id="fn:unicode" role="doc-endnote">
<p><a href="https://home.unicode.org">Unicode – The World Standard for Text and Emoji</a> <a class="reversefootnote" href="#fnref:unicode" role="doc-backlink">↩</a></p>
</li>
<li id="fn:yaml-core" role="doc-endnote">
<p><a href="https://sourceforge.net/projects/yaml/lists/yaml-core">YAML Core Mailing List</a> <a class="reversefootnote" href="#fnref:yaml-core" role="doc-backlink">↩</a></p>
</li>
<li id="fn:sml-dev" role="doc-endnote">
<p><a href="https://github.com/yaml/sml-dev-archive">SML-DEV Mailing List Archive</a> <a class="reversefootnote" href="#fnref:sml-dev" role="doc-backlink">↩</a></p>
</li>
<li id="fn:denter" role="doc-endnote">
<p><a href="https://metacpan.org/dist/Data-Denter/view/Denter.pod">Data::Denter - An (deprecated) alternative to Data::Dumper and Storable</a> <a class="reversefootnote" href="#fnref:denter" role="doc-backlink">↩</a></p>
</li>
<li id="fn:1-1-spec" role="doc-endnote">
<p><a href="https://yaml.org/spec/1.1/">YAML Ain’t Markup Language (YAML™) version 1.1</a> <a class="reversefootnote" href="#fnref:1-1-spec" role="doc-backlink">↩</a></p>
</li>
<li id="fn:json" role="doc-endnote">
<p><a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-404/">The JSON data interchange syntax</a> <a class="reversefootnote" href="#fnref:json" role="doc-backlink">↩</a></p>
</li>
<li id="fn:pyyaml" role="doc-endnote">
<p><a href="https://github.com/yaml/pyyaml">PyYAML - YAML parser and emitter for Python</a> <a class="reversefootnote" href="#fnref:pyyaml" role="doc-backlink">↩</a></p>
</li>
<li id="fn:libyaml" role="doc-endnote">
<p><a href="https://github.com/yaml/libyaml">LibYAML - A C library for parsing and emitting YAML</a> <a class="reversefootnote" href="#fnref:libyaml" role="doc-backlink">↩</a></p>
</li>
<li id="fn:1-2-spec" role="doc-endnote">
<p><a href="https://yaml.org/spec/1.2/">YAML Ain’t Markup Language (YAML™) version 1.2</a> <a class="reversefootnote" href="#fnref:1-2-spec" role="doc-backlink">↩</a></p>
</li>
<li id="fn:rfc-2119" role="doc-endnote">
<p><a href="https://datatracker.ietf.org/doc/html/rfc2119">Request for Comments Summary</a> <a class="reversefootnote" href="#fnref:rfc-2119" role="doc-backlink">↩</a></p>
</li>
<li id="fn:digraph" role="doc-endnote">
<p><a href="https://xlinux.nist.gov/dads/HTML/directedGraph.html">directed graph</a> <a class="reversefootnote" href="#fnref:digraph" role="doc-backlink">↩</a></p>
</li>
<li id="fn:tag-uri" role="doc-endnote">
<p><a href="https://datatracker.ietf.org/doc/html/rfc4151">The ‘tag’ URI Scheme</a> <a class="reversefootnote" href="#fnref:tag-uri" role="doc-backlink">↩</a></p>
</li>
<li id="fn:c0-block" role="doc-endnote">
<p><a href="https://en.wikipedia.org/wiki/C0_and_C1_control_codes">Wikipedia - C0 and C1 control codes</a> <a class="reversefootnote" href="#fnref:c0-block" role="doc-backlink">↩</a></p>
</li>
<li id="fn:surrogates" role="doc-endnote">
<p><a href="https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates">Wikipedia - Universal Character Set characters #Surrogates</a> <a class="reversefootnote" href="#fnref:surrogates" role="doc-backlink">↩</a></p>
</li>
<li id="fn:uni-faq" role="doc-endnote">
<p><a href="https://www.unicode.org/faq/utf_bom.html">UTF-8, UTF-16, UTF-32 &amp; BOM</a> <a class="reversefootnote" href="#fnref:uni-faq" role="doc-backlink">↩</a></p>
</li>
<li id="fn:uri" role="doc-endnote">
<p><a href="https://datatracker.ietf.org/doc/html/rfc3986">Uniform Resource Identifiers (URI)</a> <a class="reversefootnote" href="#fnref:uri" role="doc-backlink">↩</a></p>
</li>
</ol>
</div>
</section>

</main>

</body>

</html>
