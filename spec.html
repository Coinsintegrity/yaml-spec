<!DOCTYPE html>
<html lang="en-US">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>YAML™ Ain’t Markup Language — Version 1.x</title>
<!-- link rel="stylesheet" type="text/css" href="/spec.css" /-->
<link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
<main id="content" class="main-content" role="main"><div class="wrapper"><section>

<h1 id="yamlaintmarkuplanguageyaml-version12">YAML Ain’t Markup Language (YAML™) Version 1.2</h1>

<p><strong>3rd Edition, Patched at 2021-MM-DD</strong></p>

<ul class="authorgroup">
  <li><strong>Oren Ben-Kiki &lt;<a href="mailto:oren@ben-kiki.org">oren@ben-kiki.org</a>&gt;</strong></li>
  <li><strong>Clark Evans &lt;<a href="mailto:cce@clarkevans.com">cce@clarkevans.com</a>&gt;</strong></li>
  <li><strong>Ingy döt Net &lt;<a href="mailto:ingy@ingy.net">ingy@ingy.net</a>&gt;</strong></li>
</ul>

<p><em>Latest (patched) version:</em><br />
HTML:
<a href="http://yaml.org/spec/1.2/spec.html">http://yaml.org/spec/1.2/spec.html</a><br />
PDF: <a href="http://yaml.org/spec/1.2/spec.pdf">http://yaml.org/spec/1.2/spec.pdf</a><br />
PS: <a href="http://yaml.org/spec/1.2/spec.ps">http://yaml.org/spec/1.2/spec.ps</a><br />
Errata:
<a href="http://yaml.org/spec/1.2/errata.html">http://yaml.org/spec/1.2/errata.html</a><br />
<em>Previous (original) version:</em>
<a href="http://yaml.org/spec/1.2/2009-0
7-21/spec.html">http://yaml.org/spec/1.2/2009-07-21/spec.html</a></p>

<p>Copyright © 2001-2021 Oren Ben-Kiki, Clark Evans, Ingy döt Net</p>

<p>This document may be freely copied, provided it is not modified.</p>

<p><strong>Status of this Document</strong></p>

<p>This document reflects the third version of YAML data serialization language.
The content of the specification was arrived at by consensus of its authors and
through user feedback on the
<a href="http://lists.sourceforge.net/lists/listinfo/yaml-core">yaml-core</a> mailing list.
We encourage implementers to please update their software with support for this
version.</p>

<p>The primary objective of this revision is to bring YAML into compliance with
JSON as an official subset.
YAML 1.2 is compatible with 1.1 for most practical applications - this is a
minor revision.
An expected source of incompatibility with prior versions of YAML, especially
the syck implementation, is the change in implicit typing rules.
We have removed unique implicit typing rules and have updated these rules to
align them with JSON’s productions.
In this version of YAML, boolean values may be serialized as “<strong><code class="language-plaintext highlighter-rouge">true</code></strong>” or
“<strong><code class="language-plaintext highlighter-rouge">false</code></strong>”; the empty scalar as “<strong><code class="language-plaintext highlighter-rouge">null</code></strong>”.
Unquoted numeric values are a superset of JSON’s numeric production.
Other changes in the specification were the removal of the Unicode line breaks
and production bug fixes.
We also define 3 built-in implicit typing rule sets: untyped, strict JSON, and
a more flexible YAML rule set that extends JSON typing.</p>

<p>The difference between late 1.0 drafts which syck 0.55 implements and the 1.1
revision of this specification is much more extensive.
We fixed usability issues with the tagging syntax.
In particular, the single exclamation was re-defined for private types and a
simple prefixing mechanism was introduced.
This revision also fixed many production edge cases and introduced a type
repository.
Therefore, there are several incompatibilities between syck and this revision
as well.</p>

<p>The list of known errors in this specification is available at
<a href="http://yaml.org/spec/1.2/errata.html">http://yaml.org/spec/1.2/errata.html</a>.
Please report errors in this document to the yaml-core mailing list.
This revision contains fixes for all errors known as of 2021-MM-DD.</p>

<p>We wish to thank implementers who have tirelessly tracked earlier versions of
this specification, and our fabulous user community whose feedback has both
validated and clarified our direction.</p>

<p><strong>Abstract</strong></p>

<p>YAML™ (rhymes with “camel”) is a human-friendly, cross language, Unicode based
data serialization language designed around the common native data types of
agile programming languages.
It is broadly useful for programming needs ranging from configuration files to
Internet messaging to object persistence to data auditing.
Together with the <a href="http://www.unicode.org/">Unicode standard for characters</a>,
this specification provides all the information necessary to understand YAML
Version 1.2 and to create programs that process YAML information.</p>

<hr />

<p><strong>Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#yamlaintmarkuplanguageyaml-version12" id="markdown-toc-yamlaintmarkuplanguageyaml-version12">YAML Ain’t Markup Language (YAML™) Version 1.2</a></li>
  <li><a href="#chapter1introduction" id="markdown-toc-chapter1introduction">Chapter 1. Introduction</a>    <ul>
      <li><a href="#11goals" id="markdown-toc-11goals">1.1. Goals</a></li>
      <li><a href="#12prior-art" id="markdown-toc-12prior-art">1.2. Prior Art</a></li>
      <li><a href="#13relation-to-json" id="markdown-toc-13relation-to-json">1.3. Relation to JSON</a></li>
      <li><a href="#14relation-to-xml" id="markdown-toc-14relation-to-xml">1.4. Relation to XML</a></li>
      <li><a href="#15terminology" id="markdown-toc-15terminology">1.5. Terminology</a></li>
    </ul>
  </li>
  <li><a href="#chapter2preview" id="markdown-toc-chapter2preview">Chapter 2. Preview</a>    <ul>
      <li><a href="#21collections" id="markdown-toc-21collections">2.1. Collections</a></li>
      <li><a href="#22structures" id="markdown-toc-22structures">2.2. Structures</a></li>
      <li><a href="#23scalars" id="markdown-toc-23scalars">2.3. Scalars</a></li>
      <li><a href="#24tags" id="markdown-toc-24tags">2.4. Tags</a></li>
      <li><a href="#25full-length-example" id="markdown-toc-25full-length-example">2.5. Full Length Example</a></li>
    </ul>
  </li>
  <li><a href="#chapter3processing-yaml-information" id="markdown-toc-chapter3processing-yaml-information">Chapter 3. Processing YAML Information</a>    <ul>
      <li><a href="#31processes" id="markdown-toc-31processes">3.1. Processes</a>        <ul>
          <li><a href="#311dump" id="markdown-toc-311dump">3.1.1. Dump</a></li>
          <li><a href="#312load" id="markdown-toc-312load">3.1.2. Load</a></li>
        </ul>
      </li>
      <li><a href="#32information-models" id="markdown-toc-32information-models">3.2. Information Models</a>        <ul>
          <li><a href="#321representation-graph" id="markdown-toc-321representation-graph">3.2.1. Representation Graph</a>            <ul>
              <li><a href="#3211nodes" id="markdown-toc-3211nodes">3.2.1.1. Nodes</a></li>
              <li><a href="#3212tags" id="markdown-toc-3212tags">3.2.1.2. Tags</a></li>
              <li><a href="#3213node-comparison" id="markdown-toc-3213node-comparison">3.2.1.3. Node Comparison</a></li>
            </ul>
          </li>
          <li><a href="#322serialization-tree" id="markdown-toc-322serialization-tree">3.2.2. Serialization Tree</a>            <ul>
              <li><a href="#3221keys-order" id="markdown-toc-3221keys-order">3.2.2.1. Keys Order</a></li>
              <li><a href="#3222anchors-and-aliases" id="markdown-toc-3222anchors-and-aliases">3.2.2.2. Anchors and Aliases</a></li>
            </ul>
          </li>
          <li><a href="#323presentation-stream" id="markdown-toc-323presentation-stream">3.2.3. Presentation Stream</a>            <ul>
              <li><a href="#3231node-styles" id="markdown-toc-3231node-styles">3.2.3.1. Node Styles</a></li>
              <li><a href="#3232scalar-formats" id="markdown-toc-3232scalar-formats">3.2.3.2. Scalar Formats</a></li>
              <li><a href="#3233comments" id="markdown-toc-3233comments">3.2.3.3. Comments</a></li>
              <li><a href="#3234directives" id="markdown-toc-3234directives">3.2.3.4. Directives</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#33loading-failure-points" id="markdown-toc-33loading-failure-points">3.3. Loading Failure Points</a>        <ul>
          <li><a href="#331well-formed-streams-and-identified-aliases" id="markdown-toc-331well-formed-streams-and-identified-aliases">3.3.1. Well-Formed Streams and Identified Aliases</a></li>
          <li><a href="#332resolved-tags" id="markdown-toc-332resolved-tags">3.3.2. Resolved Tags</a></li>
          <li><a href="#333recognized-and-valid-tags" id="markdown-toc-333recognized-and-valid-tags">3.3.3. Recognized and Valid Tags</a></li>
          <li><a href="#334available-tags" id="markdown-toc-334available-tags">3.3.4. Available Tags</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#chapter4syntax-conventions" id="markdown-toc-chapter4syntax-conventions">Chapter 4. Syntax Conventions</a>    <ul>
      <li><a href="#41production-parameters" id="markdown-toc-41production-parameters">4.1. Production Parameters</a></li>
      <li><a href="#42production-naming-conventions" id="markdown-toc-42production-naming-conventions">4.2. Production Naming Conventions</a></li>
    </ul>
  </li>
  <li><a href="#chapter5characters" id="markdown-toc-chapter5characters">Chapter 5. Characters</a>    <ul>
      <li><a href="#51character-set" id="markdown-toc-51character-set">5.1. Character Set</a></li>
      <li><a href="#52character-encodings" id="markdown-toc-52character-encodings">5.2. Character Encodings</a></li>
      <li><a href="#53indicator-characters" id="markdown-toc-53indicator-characters">5.3. Indicator Characters</a></li>
      <li><a href="#54line-break-characters" id="markdown-toc-54line-break-characters">5.4. Line Break Characters</a></li>
      <li><a href="#55white-space-characters" id="markdown-toc-55white-space-characters">5.5. White Space Characters</a></li>
      <li><a href="#56miscellaneous-characters" id="markdown-toc-56miscellaneous-characters">5.6. Miscellaneous Characters</a></li>
      <li><a href="#57escaped-characters" id="markdown-toc-57escaped-characters">5.7. Escaped Characters</a></li>
    </ul>
  </li>
  <li><a href="#chapter6basic-structures" id="markdown-toc-chapter6basic-structures">Chapter 6. Basic Structures</a>    <ul>
      <li><a href="#61indentation-spaces" id="markdown-toc-61indentation-spaces">6.1. Indentation Spaces</a></li>
      <li><a href="#62separation-spaces" id="markdown-toc-62separation-spaces">6.2. Separation Spaces</a></li>
      <li><a href="#63line-prefixes" id="markdown-toc-63line-prefixes">6.3. Line Prefixes</a></li>
      <li><a href="#64empty-lines" id="markdown-toc-64empty-lines">6.4. Empty Lines</a></li>
      <li><a href="#65line-folding" id="markdown-toc-65line-folding">6.5. Line Folding</a></li>
      <li><a href="#66comments" id="markdown-toc-66comments">6.6. Comments</a></li>
      <li><a href="#67separation-lines" id="markdown-toc-67separation-lines">6.7. Separation Lines</a></li>
      <li><a href="#68directives" id="markdown-toc-68directives">6.8. Directives</a>        <ul>
          <li><a href="#681yaml-directives" id="markdown-toc-681yaml-directives">6.8.1. ”<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>” Directives</a></li>
          <li><a href="#682tag-directives" id="markdown-toc-682tag-directives">6.8.2. ”<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” Directives</a>            <ul>
              <li><a href="#6821tag-handles" id="markdown-toc-6821tag-handles">6.8.2.1. Tag Handles</a></li>
              <li><a href="#6822tag-prefixes" id="markdown-toc-6822tag-prefixes">6.8.2.2. Tag Prefixes</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#69node-properties" id="markdown-toc-69node-properties">6.9. Node Properties</a>        <ul>
          <li><a href="#691node-tags" id="markdown-toc-691node-tags">6.9.1. Node Tags</a></li>
          <li><a href="#692node-anchors" id="markdown-toc-692node-anchors">6.9.2. Node Anchors</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#chapter7flow-styles" id="markdown-toc-chapter7flow-styles">Chapter 7. Flow Styles</a>    <ul>
      <li><a href="#71alias-nodes" id="markdown-toc-71alias-nodes">7.1. Alias Nodes</a></li>
      <li><a href="#72empty-nodes" id="markdown-toc-72empty-nodes">7.2. Empty Nodes</a></li>
      <li><a href="#73flow-scalar-styles" id="markdown-toc-73flow-scalar-styles">7.3. Flow Scalar Styles</a>        <ul>
          <li><a href="#731double-quoted-style" id="markdown-toc-731double-quoted-style">7.3.1. Double-Quoted Style</a></li>
          <li><a href="#732single-quoted-style" id="markdown-toc-732single-quoted-style">7.3.2. Single-Quoted Style</a></li>
          <li><a href="#733plain-style" id="markdown-toc-733plain-style">7.3.3. Plain Style</a></li>
        </ul>
      </li>
      <li><a href="#74flow-collection-styles" id="markdown-toc-74flow-collection-styles">7.4. Flow Collection Styles</a>        <ul>
          <li><a href="#741flow-sequences" id="markdown-toc-741flow-sequences">7.4.1. Flow Sequences</a></li>
          <li><a href="#742flow-mappings" id="markdown-toc-742flow-mappings">7.4.2. Flow Mappings</a></li>
        </ul>
      </li>
      <li><a href="#75flow-nodes" id="markdown-toc-75flow-nodes">7.5. Flow Nodes</a></li>
    </ul>
  </li>
  <li><a href="#chapter8block-styles" id="markdown-toc-chapter8block-styles">Chapter 8. Block Styles</a>    <ul>
      <li><a href="#81block-scalar-styles" id="markdown-toc-81block-scalar-styles">8.1. Block Scalar Styles</a>        <ul>
          <li><a href="#811block-scalar-headers" id="markdown-toc-811block-scalar-headers">8.1.1. Block Scalar Headers</a>            <ul>
              <li><a href="#8111block-indentation-indicator" id="markdown-toc-8111block-indentation-indicator">8.1.1.1. Block Indentation Indicator</a></li>
              <li><a href="#8112block-chomping-indicator" id="markdown-toc-8112block-chomping-indicator">8.1.1.2. Block Chomping Indicator</a></li>
            </ul>
          </li>
          <li><a href="#812literal-style" id="markdown-toc-812literal-style">8.1.2. Literal Style</a></li>
          <li><a href="#813folded-style" id="markdown-toc-813folded-style">8.1.3. Folded Style</a></li>
        </ul>
      </li>
      <li><a href="#82block-collection-styles" id="markdown-toc-82block-collection-styles">8.2. Block Collection Styles</a>        <ul>
          <li><a href="#821block-sequences" id="markdown-toc-821block-sequences">8.2.1. Block Sequences</a></li>
          <li><a href="#822block-mappings" id="markdown-toc-822block-mappings">8.2.2. Block Mappings</a></li>
          <li><a href="#823block-nodes" id="markdown-toc-823block-nodes">8.2.3. Block Nodes</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#chapter9yaml-character-stream" id="markdown-toc-chapter9yaml-character-stream">Chapter 9. YAML Character Stream</a>    <ul>
      <li><a href="#91documents" id="markdown-toc-91documents">9.1. Documents</a>        <ul>
          <li><a href="#911document-prefix" id="markdown-toc-911document-prefix">9.1.1. Document Prefix</a></li>
          <li><a href="#912document-markers" id="markdown-toc-912document-markers">9.1.2. Document Markers</a></li>
          <li><a href="#913bare-documents" id="markdown-toc-913bare-documents">9.1.3. Bare Documents</a></li>
          <li><a href="#914explicit-documents" id="markdown-toc-914explicit-documents">9.1.4. Explicit Documents</a></li>
          <li><a href="#915directives-documents" id="markdown-toc-915directives-documents">9.1.5. Directives Documents</a></li>
        </ul>
      </li>
      <li><a href="#92streams" id="markdown-toc-92streams">9.2. Streams</a></li>
    </ul>
  </li>
  <li><a href="#chapter10recommended-schemas" id="markdown-toc-chapter10recommended-schemas">Chapter 10. Recommended Schemas</a>    <ul>
      <li><a href="#101failsafe-schema" id="markdown-toc-101failsafe-schema">10.1. Failsafe Schema</a>        <ul>
          <li><a href="#1011tags" id="markdown-toc-1011tags">10.1.1. Tags</a>            <ul>
              <li><a href="#10111generic-mapping" id="markdown-toc-10111generic-mapping">10.1.1.1. Generic Mapping</a></li>
              <li><a href="#10112generic-sequence" id="markdown-toc-10112generic-sequence">10.1.1.2. Generic Sequence</a></li>
              <li><a href="#10113generic-string" id="markdown-toc-10113generic-string">10.1.1.3. Generic String</a></li>
            </ul>
          </li>
          <li><a href="#1012tag-resolution" id="markdown-toc-1012tag-resolution">10.1.2. Tag Resolution</a></li>
        </ul>
      </li>
      <li><a href="#102json-schema" id="markdown-toc-102json-schema">10.2. JSON Schema</a>        <ul>
          <li><a href="#1021tags" id="markdown-toc-1021tags">10.2.1. Tags</a>            <ul>
              <li><a href="#10211null" id="markdown-toc-10211null">10.2.1.1. Null</a></li>
              <li><a href="#10212boolean" id="markdown-toc-10212boolean">10.2.1.2. Boolean</a></li>
              <li><a href="#10213integer" id="markdown-toc-10213integer">10.2.1.3. Integer</a></li>
              <li><a href="#10214floating-point" id="markdown-toc-10214floating-point">10.2.1.4. Floating Point</a></li>
            </ul>
          </li>
          <li><a href="#1022tag-resolution" id="markdown-toc-1022tag-resolution">10.2.2. Tag Resolution</a></li>
        </ul>
      </li>
      <li><a href="#103core-schema" id="markdown-toc-103core-schema">10.3. Core Schema</a>        <ul>
          <li><a href="#1031tags" id="markdown-toc-1031tags">10.3.1. Tags</a></li>
          <li><a href="#1032tag-resolution" id="markdown-toc-1032tag-resolution">10.3.2. Tag Resolution</a></li>
        </ul>
      </li>
      <li><a href="#104other-schemas" id="markdown-toc-104other-schemas">10.4. Other Schemas</a></li>
    </ul>
  </li>
  <li><a href="#index" id="markdown-toc-index">Index</a></li>
</ul>

<h1 id="chapter1introduction">Chapter 1. Introduction</h1>

<p>“YAML Ain’t Markup Language” (abbreviated YAML) is a data serialization
language designed to be human-friendly and work well with modern programming
languages for common everyday tasks.
This specification is both an introduction to the YAML language and the
concepts supporting it, and also a complete specification of the information
needed to develop <a href="#application//">applications</a> for processing YAML.</p>

<p>Open, interoperable and readily understandable tools have advanced computing
immensely.
YAML was designed from the start to be useful and friendly to people working
with data.
It uses Unicode <a href="#printable character//">printable</a> characters,
<a href="#indicator//">some</a> of which provide structural information and the rest
containing the data itself.
YAML achieves a unique cleanness by minimizing the amount of structural
characters and allowing the data to show itself in a natural and meaningful way.
For example, <a href="#space/indentation/">indentation</a> may be used for structure,
<a href="#: mapping value//">colons</a> separate <a href="#key: value pair//">key: value pairs</a>,
and <a href="#- block sequence entry//">dashes</a> are used to create “bullet”
<a href="#sequence//">lists</a>.</p>

<p>There are myriad flavors of <a href="#native data structure//">data structures</a>, but
they can all be adequately <a href="#represent//">represented</a> with three basic
primitives: <a href="#mapping//">mappings</a> (hashes/dictionaries),
<a href="#sequence//">sequences</a> (arrays/lists) and <a href="#scalar//">scalars</a>
(strings/numbers).
YAML leverages these primitives, and adds a simple typing system and
<a href="#alias//">aliasing</a> mechanism to form a complete language for
<a href="#serialize//">serializing</a> any <a href="#native data
structure//">native data structure</a>.
While most programming languages can use YAML for data serialization, YAML
excels in working with those languages that are fundamentally built around the
three basic primitives.
These include the new wave of agile languages such as Perl, Python, PHP, Ruby,
and Javascript.</p>

<p>There are hundreds of different languages for programming, but only a handful
of languages for storing and transferring data.
Even though its potential is virtually boundless, YAML was specifically created
to work well for common use cases such as: configuration files, log files,
interprocess messaging, cross-language data sharing, object persistence, and
debugging of complex data structures.
When data is easy to view and understand, programming becomes a simpler task.</p>

<h2 id="11goals">1.1. Goals</h2>

<p>The design goals for YAML are, in decreasing priority:</p>

<ol>
  <li>YAML is easily readable by humans.</li>
  <li>YAML data is portable between programming languages.</li>
  <li>YAML matches the <a href="#native data structure//">native data structures</a> of agile languages.</li>
  <li>YAML has a consistent model to support generic tools.</li>
  <li>YAML supports one-pass processing.</li>
  <li>YAML is expressive and extensible.</li>
  <li>YAML is easy to implement and use.</li>
</ol>

<h2 id="12prior-art">1.2. Prior Art</h2>

<p>YAML’s initial direction was set by the data serialization and markup language
discussions among <a href="http://www.docuverse.com/smldev/">SML-DEV members</a>.
Later on, it directly incorporated experience from Ingy döt Net’s Perl module
<a href="http://search.cpan.org/dist/Data-Denter/">Data::Denter</a>.
Since then, YAML has matured through ideas and support from its user community.</p>

<p>YAML integrates and builds upon concepts described by
<a href="http://cm.bell-labs.com/cm/cs/cbook/index.html">C</a>,
<a href="http://java.sun.com/">Java</a>, <a href="http://www.perl.org/">Perl</a>,
<a href="http://www.python.org/">Python</a>, <a href="http://www.ruby-lang.org/">Ruby</a>,
<a href="http://www.ietf.org/rfc/rfc0822.txt">RFC0822</a> (MAIL),
<a href="http://www.ics.uci.edu/pub/ietf/html/rfc1866.txt">RFC1866</a> (HTML),
<a href="http://www.ietf.org/rfc/rfc2045.txt">RFC2045</a> (MIME),
<a href="http://www.ietf.org/rfc/rfc2396.txt">RFC2396</a> (URI),
<a href="http://www.w3.org/TR/REC-xml.html">XML</a>, <a href="http://www.saxproject.org/">SAX</a>,
<a href="http://www.w3.org/TR/SOAP">SOAP</a>, and <a href="http://www.json.org/">JSON</a>.</p>

<p>The syntax of YAML was motivated by Internet Mail (RFC0822) and remains
partially compatible with that standard.
Further, borrowing from MIME (RFC2045), YAML’s top-level production is a
<a href="#stream//">stream</a> of independent <a href="#document//">documents</a>, ideal for
message-based distributed processing systems.</p>

<p>YAML’s <a href="#space/indentation/">indentation</a>-based scoping is similar to Python’s
(without the ambiguities caused by <a href="#tab//">tabs</a>). <a href="#style/block/">Indented
blocks</a> facilitate easy inspection of the data’s structure.
YAML’s <a href="#style/block/literal">literal style</a> leverages this by enabling
formatted text to be cleanly mixed within an <a href="#space/indentation/">indented</a>
structure without troublesome <a href="#escaping/in double-quoted scalars/">escaping</a>.
YAML also allows the use of traditional <a href="#indicator//">indicator</a>-based
scoping similar to JSON’s and Perl’s.
Such <a href="#style/flow/">flow content</a> can be freely nested inside <a href="#style/block/">indented
blocks</a>.</p>

<p>YAML’s <a href="#style/flow/double-quoted">double-quoted style</a> uses familiar C-style
<a href="#escaping/in double-quoted scalars/">escape sequences</a>.
This enables ASCII encoding of non-<a href="#printable character//">printable</a> or 8-bit
(ISO 8859-1) characters such as <a href="#ns-esc-8-bit">“<strong><code class="language-plaintext highlighter-rouge">\x3B</code></strong>”</a>.
Non-<a href="#printable character//">printable</a> 16-bit Unicode and 32-bit (ISO/IEC
10646) characters are supported with <a href="#escaping/in
double-quoted scalars/">escape sequences</a> such as <a href="#ns-esc-16-bit">“<strong><code class="language-plaintext highlighter-rouge">\u003B</code></strong>”</a> and
<a href="#ns-esc-32-bit">“<strong><code class="language-plaintext highlighter-rouge">\U0000003B</code></strong>”</a>.</p>

<p>Motivated by HTML’s end-of-line normalization, YAML’s <a href="#line
folding//">line folding</a> employs an intuitive method of handling <a href="#line break//">line breaks</a>.
A single <a href="#line break//">line break</a> is <a href="#line folding//">folded</a> into a single
<a href="#space//">space</a>, while <a href="#empty line//">empty lines</a> are interpreted as <a href="#line break//">line
break</a> characters.
This technique allows for paragraphs to be word-wrapped without affecting the
<a href="#scalar/canonical form/">canonical form</a> of the <a href="#scalar//">scalar content</a>.</p>

<p>YAML’s core type system is based on the requirements of agile languages such as
Perl, Python, and Ruby.
YAML directly supports both <a href="#collection//">collections</a>
(<a href="#mapping//">mappings</a>, <a href="#sequence//">sequences</a>) and <a href="#scalar//">scalars</a>.
Support for these common types enables programmers to use their language’s
<a href="#native data structure//">native data structures</a> for YAML manipulation,
instead of requiring a special document object model (DOM).</p>

<p>Like XML’s SOAP, YAML supports <a href="#serialize//">serializing</a> a graph of <a href="#native data structure//">native
data structures</a> through an <a href="#alias//">aliasing</a>
mechanism.
Also like SOAP, YAML provides for <a href="#application//">application</a>-defined
<a href="#tag//">types</a>.
This allows YAML to <a href="#represent//">represent</a> rich data structures required for
modern distributed computing.
YAML provides globally unique <a href="#tag/global/">type names</a> using a namespace
mechanism inspired by Java’s DNS-based package naming convention and XML’s
URI-based namespaces.
In addition, YAML allows for private <a href="#tag/local/">types</a> specific to a single
<a href="#application//">application</a>.</p>

<p>YAML was designed to support incremental interfaces that include both input
(“<strong><code class="language-plaintext highlighter-rouge">getNextEvent()</code></strong>”) and output (“<strong><code class="language-plaintext highlighter-rouge">sendNextEvent()</code></strong>”) one-pass
interfaces.
Together, these enable YAML to support the processing of large
<a href="#document//">documents</a> (e.g. transaction logs) or continuous
<a href="#stream//">streams</a> (e.g. feeds from a production machine).</p>

<h2 id="13relation-to-json">1.3. Relation to JSON</h2>

<p>Both JSON and YAML aim to be human readable data interchange formats.
However, JSON and YAML have different priorities.
JSON’s foremost design goal is simplicity and universality.
Thus, JSON is trivial to generate and parse, at the cost of reduced human
readability.
It also uses a lowest common denominator information model, ensuring any JSON
data can be easily processed by every modern programming environment.</p>

<p>In contrast, YAML’s foremost design goals are human readability and support for
<a href="#serialize//">serializing</a> arbitrary <a href="#native data
structure//">native data structures</a>.
Thus, YAML allows for extremely readable files, but is more complex to generate
and parse.
In addition, YAML ventures beyond the lowest common denominator data types,
requiring more complex processing when crossing between different programming
environments.</p>

<p>YAML can therefore be viewed as a natural superset of JSON, offering improved
human readability and a more complete information model.
This is also the case in practice; every JSON file is also a valid YAML file.
This makes it easy to migrate from JSON to YAML if/when the additional features
are required.</p>

<p>JSON’s <a href="http://www.ietf.org/rfc/rfc4627.txt">RFC4627</a> requires that
<a href="#mapping//">mappings</a> <a href="#key//">keys</a> merely “SHOULD” be <a href="#equality//">unique</a>,
while YAML insists they “MUST” be.
Technically, YAML therefore complies with the JSON spec, choosing to treat
duplicates as an error.
In practice, since JSON is silent on the semantics of such duplicates, the only
portable JSON files are those with unique keys, which are therefore valid YAML
files.</p>

<p>It may be useful to define a intermediate format between YAML and JSON.
Such a format would be trivial to parse (but not very human readable), like
JSON.
At the same time, it would allow for <a href="#serialize//">serializing</a> arbitrary
<a href="#native data structure//">native data structures</a>, like YAML.
Such a format might also serve as YAML’s “canonical format”.
Defining such a “YSON” format (YSON is a Serialized Object Notation) can be
done either by enhancing the JSON specification or by restricting the YAML
specification.
Such a definition is beyond the scope of this specification.</p>

<h2 id="14relation-to-xml">1.4. Relation to XML</h2>

<p>Newcomers to YAML often search for its correlation to the eXtensible Markup
Language (XML).
Although the two languages may actually compete in several application domains,
there is no direct correlation between them.</p>

<p>YAML is primarily a data serialization language.
XML was designed to be backwards compatible with the Standard Generalized
Markup Language (SGML), which was designed to support structured documentation.
XML therefore had many design constraints placed on it that YAML does not share.
XML is a pioneer in many domains, YAML is the result of lessons learned from
XML and other technologies.</p>

<p>It should be mentioned that there are ongoing efforts to define standard
XML/YAML mappings.
This generally requires that a subset of each language be used.
For more information on using both XML and YAML, please visit
<a href="http://yaml.org/xml">http://yaml.org/xml</a>.</p>

<h2 id="15terminology">1.5. Terminology</h2>

<p>This specification uses key words based on
<a href="http://www.ietf.org/rfc/rfc2119.txt">RFC2119</a> to indicate requirement level.
In particular, the following words are used to describe the actions of a YAML
<a href="#processor//">processor</a>:</p>

<p>May</p>

<p>The word <em>may</em>, or the adjective <em>optional</em>, mean that conforming YAML
<a href="#processor//">processors</a> are permitted to, but <em>need not</em> behave as
described.</p>

<p>Should</p>

<p>The word <em>should</em>, or the adjective <em>recommended</em>, mean that there could be
reasons for a YAML <a href="#processor//">processor</a> to deviate from the behavior
described, but that such deviation could hurt interoperability and should
therefore be advertised with appropriate notice.</p>

<p>Must</p>

<p>The word <em>must</em>, or the term <em>required</em> or <em>shall</em>, mean that the behavior
described is an absolute requirement of the specification.</p>

<p>The rest of this document is arranged as follows.
Chapter <a href="#Preview" title="Chapter 2. Preview">2</a> provides a short preview of the main
YAML features.
Chapter <a href="#Processing" title="Chapter 3. Processing YAML Information">3</a> describes the
YAML information model, and the processes for converting from and to this model
and the YAML text format.
The bulk of the document, chapters <a href="#Syntax" title="Chapter 4. Syntax Conventions">4</a>
through <a href="#YAML" title="Chapter 9. YAML Character Stream">9</a>, formally define this
text format.
Finally, chapter <a href="#Syntax" title="Chapter 4. Syntax Conventions">10</a> recommends basic
YAML schemas.</p>

<h1 id="chapter2preview">Chapter 2. Preview</h1>

<p>This section provides a quick glimpse into the expressive power of YAML.
It is not expected that the first-time reader grok all of the examples.
Rather, these selections are used as motivation for the remainder of the
specification.</p>

<h2 id="21collections">2.1. Collections</h2>

<p>YAML’s <a href="#style/block/collection">block collections</a> use
<a href="#space/indentation/">indentation</a> for scope and begin each entry on its own
line. <a href="#style/block/sequence">Block sequences</a> indicate each entry with a dash
and space ( <a href="#- block sequence entry//">“<strong><code class="language-plaintext highlighter-rouge">-</code></strong> “</a>). <a href="#mapping//">Mappings</a>
use a colon and space (<a href="#: mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong> “</a>) to mark each
<a href="#key: value pair//">key: value pair</a>. <a href="#comment//">Comments</a> begin with an
octothorpe (also called a “hash”, “sharp”, “pound”, or “number sign” -
<a href="## comment//">“<strong><code class="language-plaintext highlighter-rouge">#</code></strong>”</a>).</p>

<p><strong>Example 2.1.  Sequence of Scalars<br />
(ball players)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Mark McGwire
- Sammy Sosa
- Ken Griffey
</code></pre></div></div>

<p><strong>Example 2.2.  Mapping Scalars to Scalars<br />
(player statistics)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hr:  65    # Home runs
avg: 0.278 # Batting average
rbi: 147   # Runs Batted In
</code></pre></div></div>

<p><strong>Example 2.3.  Mapping Scalars to Sequences<br />
(ball clubs in each league)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>american:
  - Boston Red Sox
  - Detroit Tigers
  - New York Yankees
national:
  - New York Mets
  - Chicago Cubs
  - Atlanta Braves
</code></pre></div></div>

<p><strong>Example 2.4.  Sequence of Mappings<br />
(players’ statistics)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-
  name: Mark McGwire
  hr:   65
  avg:  0.278
-
  name: Sammy Sosa
  hr:   63
  avg:  0.288
</code></pre></div></div>

<p>YAML also has <a href="#style/flow/">flow styles</a>, using explicit
<a href="#indicator//">indicators</a> rather than <a href="#space/indentation/">indentation</a> to
denote scope.
The <a href="#style/flow/sequence">flow sequence</a> is written as a <a href="#, end flow
entry//">comma</a> separated list within <a href="#[ start flow sequence//">square</a> <a href="#]
end flow sequence//">brackets</a>.
In a similar manner, the <a href="#style/flow/mapping">flow mapping</a> uses <a href="#{
start flow mapping//">curly</a> <a href="#} end flow mapping//">braces</a>.</p>

<p><strong>Example 2.5. Sequence of Sequences</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- [name        , hr, avg  ]
- [Mark McGwire, 65, 0.278]
- [Sammy Sosa  , 63, 0.288]
</code></pre></div></div>

<p><strong>Example 2.6. Mapping of Mappings</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mark McGwire: {hr: 65, avg: 0.278}
Sammy Sosa: {
    hr: 63,
    avg: 0.288
  }
</code></pre></div></div>

<h2 id="22structures">2.2. Structures</h2>

<p>YAML uses three dashes (<a href="#marker/directives end/">“<strong><code class="language-plaintext highlighter-rouge">---</code></strong>”</a>) to separate
<a href="#directive//">directives</a> from <a href="#document//">document</a> <a href="#content//">content</a>.
This also serves to signal the start of a document if no
<a href="#directive//">directives</a> are present.
Three dots ( <a href="#marker/document end/">“<strong><code class="language-plaintext highlighter-rouge">...</code></strong>”</a>) indicate the end of a
document without starting a new one, for use in communication channels.</p>

<p><strong>Example 2.7.  Two Documents in a Stream<br />
(each with a leading comment)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Ranking of 1998 home runs
---
- Mark McGwire
- Sammy Sosa
- Ken Griffey

# Team ranking
---
- Chicago Cubs
- St Louis Cardinals
</code></pre></div></div>

<p><strong>Example 2.8.  Play by Play Feed<br />
from a Game</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
time: 20:03:20
player: Sammy Sosa
action: strike (miss)
...
---
time: 20:03:47
player: Sammy Sosa
action: grand slam
...
</code></pre></div></div>

<p>Repeated <a href="#node//">nodes</a> (objects) are first <a href="#alias/identified/">identified</a>
by an <a href="#anchor//">anchor</a> (marked with the ampersand - <a href="#&amp;
anchor//">“<strong><code class="language-plaintext highlighter-rouge">&amp;</code></strong>”</a>), and are then <a href="#alias//">aliased</a> (referenced with an
asterisk - <a href="#* alias//">“<strong><code class="language-plaintext highlighter-rouge">*</code></strong>”</a>) thereafter.</p>

<p><strong>Example 2.9.  Single Document with<br />
Two Comments</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
hr: # 1998 hr ranking
  - Mark McGwire
  - Sammy Sosa
rbi:
  # 1998 rbi ranking
  - Sammy Sosa
  - Ken Griffey
</code></pre></div></div>

<p><strong>Example 2.10.  Node for “</strong><code class="language-plaintext highlighter-rouge">Sammy Sosa</code><strong>”<br />
appears twice in this document</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
hr:
  - Mark McGwire
  # Following node labeled SS
  - &amp;SS Sammy Sosa
rbi:
  - *SS # Subsequent occurrence
  - Ken Griffey
</code></pre></div></div>

<p>A question mark and space (<a href="#? mapping key//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong> “</a>) indicate a complex
<a href="#mapping//">mapping</a> <a href="#key//">key</a>.
Within a <a href="#style/block/collection">block collection</a>, <a href="#key:
value pair//">key: value pairs</a> can start immediately following the <a href="#- block sequence
entry//">dash</a>, <a href="#: mapping value//">colon</a>, or <a href="#? mapping key//">question mark</a>.</p>

<p><strong>Example 2.11. Mapping between Sequences</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>? - Detroit Tigers
  - Chicago cubs
:
  - 2001-07-23

? [ New York Yankees,
    Atlanta Braves ]
: [ 2001-07-02, 2001-08-12,
    2001-08-14 ]
</code></pre></div></div>

<p><strong>Example 2.12. Compact Nested Mapping</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
# Products purchased
- item    : Super Hoop
  quantity: 1
- item    : Basketball
  quantity: 4
- item    : Big Shoes
  quantity: 1
</code></pre></div></div>

<h2 id="23scalars">2.3. Scalars</h2>

<p><a href="#scalar//">Scalar content</a> can be written in <a href="#style/block/">block</a> notation,
using a <a href="#style/block/literal">literal style</a> (indicated by <a href="#|
literal style//">“<strong><code class="language-plaintext highlighter-rouge">|</code></strong>”</a>) where all <a href="#line break//">line breaks</a> are significant.
Alternatively, they can be written with the <a href="#style/block/folded">folded
style</a> <a href="#&gt; folded style//">(denoted by “<strong><code class="language-plaintext highlighter-rouge">&gt;</code></strong>”</a>) where
each <a href="#line break//">line break</a> is <a href="#line folding//">folded</a> to a
<a href="#space//">space</a> unless it ends an <a href="#empty line//">empty</a> or a
<a href="#more-indented//">more-indented</a> line.</p>

<p><strong>Example 2.13.  In literals,<br />
newlines are preserved</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ASCII Art
--- |
  \\//||\\/||
  // ||  ||\_\_
</code></pre></div></div>

<p><strong>Example 2.14.  In the folded scalars,<br />
newlines become spaces</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--- &gt;
  Mark McGwire's
  year was crippled
  by a knee injury.
</code></pre></div></div>

<p><strong>Example 2.15.  Folded newlines are preserved<br />
for “more indented” and blank lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;
 Sammy Sosa completed another
 fine season with great stats.

   63 Home Runs
   0.288 Batting Average

 What a year!
</code></pre></div></div>

<p><strong>Example 2.16.  Indentation determines scope</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>name: Mark McGwire
accomplishment: &gt;
  Mark set a major league
  home run record in 1998.
stats: |
  65 Home Runs
  0.278 Batting Average
</code></pre></div></div>

<p>YAML’s <a href="#style/flow/scalar">flow scalars</a> include the <a href="#style/flow/plain">plain
style</a> (most examples thus far) and two quoted styles.
The <a href="#style/flow/double-quoted">double-quoted style</a> provides <a href="#escaping/in double-quoted scalars/">escape
sequences</a>.
The <a href="#style/flow/">single-quoted style</a> is useful when <a href="#escaping/in
double-quoted scalars/">escaping</a> is not needed.
All <a href="#style/flow/scalar">flow scalars</a> can span multiple lines; <a href="#line break//">line
breaks</a> are always <a href="#line folding//">folded</a>.</p>

<p><strong>Example 2.17. Quoted Scalars</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unicode: "Sosa did fine.\\u263A"
control: "\\b1998\\t1999\\t2000\\n"
hex esc: "\\x0d\\x0a is \\r\\n"

single: '"Howdy!" he cried.'
quoted: ' # Not a ''comment''.'
tie-fighter: '|\\-*-/|'
</code></pre></div></div>

<p><strong>Example 2.18. Multi-line Flow Scalars</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plain:
  This unquoted scalar
  spans many lines.

quoted: "So does this
  quoted scalar.\\n"
</code></pre></div></div>

<h2 id="24tags">2.4. Tags</h2>

<p>In YAML, <a href="#tag/non-specific/">untagged nodes</a> are given a type depending on the
<a href="#application//">application</a>.
The examples in this specification generally use the
<a href="#tag/repository/seq"><strong><code class="language-plaintext highlighter-rouge">seq</code></strong></a>, <a href="#tag/repository/map"><strong><code class="language-plaintext highlighter-rouge">map</code></strong></a> and
<a href="#tag/repository/str"><strong><code class="language-plaintext highlighter-rouge">str</code></strong></a> types from the <a href="#schema/failsafe/">fail safe
schema</a>.
A few examples also use the <a href="#tag/repository/int"><strong><code class="language-plaintext highlighter-rouge">int</code></strong></a>,
<a href="#tag/repository/float"><strong><code class="language-plaintext highlighter-rouge">float</code></strong></a>, and <a href="#tag/repository/null"><strong><code class="language-plaintext highlighter-rouge">null</code></strong></a>
types from the <a href="#schema/JSON/">JSON schema</a>.
The <a href="#tag/repository/">repository</a> includes additional types such as
<a href="http://yaml.org/type/binary.html"><strong><code class="language-plaintext highlighter-rouge">binary</code></strong></a>,
<a href="http://yaml.org/type/omap.html"><strong><code class="language-plaintext highlighter-rouge">omap</code></strong></a>,
<a href="http://yaml.org/type/set.html"><strong><code class="language-plaintext highlighter-rouge">set</code></strong></a> and others.</p>

<p><strong>Example 2.19. Integers</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>canonical: 12345
decimal: +12345
octal: 0o14
hexadecimal: 0xC
</code></pre></div></div>

<p><strong>Example 2.20. Floating Point</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>canonical: 1.23015e+3
exponential: 12.3015e+02
fixed: 1230.15
negative infinity: -.inf
not a number: .NaN
</code></pre></div></div>

<p><strong>Example 2.21. Miscellaneous</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>null:
booleans: [ true, false ]
string: '012345'
</code></pre></div></div>

<p><strong>Example 2.22. Timestamps</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>canonical: 2001-12-15T02:59:43.1Z
iso8601: 2001-12-14t21:59:43.10-05:00
spaced: 2001-12-14 21:59:43.10 -5
date: 2002-12-14
</code></pre></div></div>

<p>Explicit typing is denoted with a <a href="#tag//">tag</a> using the exclamation point
(<a href="#! tag indicator//">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a>) symbol. <a href="#tag/global/">Global tags</a> are URIs
and may be specified in a <a href="#tag/shorthand/">tag shorthand</a> notation using a
<a href="#tag/handle/">handle</a>. <a href="#application//">Application</a>-specific <a href="#tag/local/">local
tags</a> may also be used.</p>

<p><strong>Example 2.23. Various Explicit Tags</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
not-date: !!str 2002-04-28

picture: !!binary |
 R0lGODlhDAAMAIQAAP//9/X
 17unp5WZmZgAAAOfn515eXv
 Pz7Y6OjuDg4J+fn5OTk6enp
 56enmleECcgggoBADs=

application specific tag: !something |
 The semantics of the tag
 above may be different for
 different documents.
</code></pre></div></div>

<p><strong>Example 2.24. Global Tags</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG ! tag:clarkevans.com,2002:
--- !shape
  # Use the ! handle for presenting
  # tag:clarkevans.com,2002:circle
- !circle
  center: &amp;ORIGIN {x: 73, y: 129}
  radius: 7
- !line
  start: *ORIGIN
  finish: { x: 89, y: 102 }
- !label
  start: *ORIGIN
  color: 0xFFEEBB
  text: Pretty vector drawing.
</code></pre></div></div>

<p><strong>Example 2.25. Unordered Sets</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Sets are represented as a
# Mapping where each key is
# associated with a null value
--- !!set
? Mark McGwire
? Sammy Sosa
? Ken Griff
</code></pre></div></div>

<p><strong>Example 2.26. Ordered Mappings</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Ordered maps are represented as
# A sequence of mappings, with
# each mapping having one key
--- !!omap
- Mark McGwire: 65
- Sammy Sosa: 63
- Ken Griffy: 58
</code></pre></div></div>

<h2 id="25full-length-example">2.5. Full Length Example</h2>

<p>Below are two full-length examples of YAML.
On the left is a sample invoice; on the right is a sample log file.</p>

<p><strong>Example 2.27. Invoice</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--- !&lt;tag:clarkevans.com,2002:invoice&gt;
invoice: 34843
date   : 2001-01-23
bill-to: &amp;id001
    given  : Chris
    family : Dumars
    address:
        lines: |
            458 Walkman Dr.
            Suite #292
        city    : Royal Oak
        state   : MI
        postal  : 48046
ship-to: *id001
product:
    - sku         : BL394D
      quantity    : 4
      description : Basketball
      price       : 450.00
    - sku         : BL4438H
      quantity    : 1
      description : Super Hoop
      price       : 2392.00
tax  : 251.42
total: 4443.52
comments:
    Late afternoon is best.
    Backup contact is Nancy
    Billsmer @ 338-4338.
</code></pre></div></div>

<p><strong>Example 2.28. Log File</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
Time: 2001-11-23 15:01:42 -5
User: ed
Warning:
  This is an error message
  for the log file
---
Time: 2001-11-23 15:02:31 -5
User: ed
Warning:
  A slightly different error
  message.
---
Date: 2001-11-23 15:03:17 -5
User: ed
Fatal:
  Unknown variable "bar"
Stack:
  - file: TopClass.py
    line: 23
    code: |
      x = MoreObject("345\\n")
  - file: MoreClass.py
    line: 58
    code: |-
      foo = bar
</code></pre></div></div>

<h1 id="chapter3processing-yaml-information">Chapter 3. Processing YAML Information</h1>

<p>YAML is both a text format and a method for <a href="#present//">presenting</a> any
<a href="#native data structure//">native data structure</a> in this format.
Therefore, this specification defines two concepts: a class of data objects
called YAML <a href="#representation//">representations</a>, and a syntax for
<a href="#present//">presenting</a> YAML <a href="#representation//">representations</a> as a series
of characters, called a YAML <a href="#stream//">stream</a>.
A YAML <em>processor</em> is a tool for converting information between these
complementary views.
It is assumed that a YAML processor does its work on behalf of another module,
called an <em>application</em>.
This chapter describes the information structures a YAML processor must provide
to or obtain from the application.</p>

<p>YAML information is used in two ways: for machine processing, and for human
consumption.
The challenge of reconciling these two perspectives is best done in three
distinct translation stages: <a href="#representation//">representation</a>,
<a href="#serialization//">serialization</a>, and <a href="#presentation//">presentation</a>.
<a href="#representation//">Representation</a> addresses how YAML views <a href="#native data structure//">native data
structures</a> to achieve portability between
programming environments. <a href="#serialization//">Serialization</a> concerns itself
with turning a YAML <a href="#representation//">representation</a> into a serial form,
that is, a form with sequential access constraints.
<a href="#presentation//">Presentation</a> deals with the formatting of a YAML
<a href="#serialization//">serialization</a> as a series of characters in a human-friendly
manner.</p>

<h2 id="31processes">3.1. Processes</h2>

<p>Translating between <a href="#native data structure//">native data structures</a> and a
character <a href="#stream//">stream</a> is done in several logically distinct stages,
each with a well defined input and output data model, as shown in the following
diagram:</p>

<p><strong>Figure 3.1. Processing Overview</strong></p>

<p><img src="/img/overview2.png" alt="Processing Overview" /></p>

<p>A YAML processor need not expose the <a href="#serialization//">serialization</a> or
<a href="#representation//">representation</a> stages.
It may translate directly between <a href="#native data
structure//">native data structures</a> and a character <a href="#stream//">stream</a> (<a href="#dump//">dump</a> and
<a href="#load//">load</a> in the diagram above).
However, such a direct translation should take place so that the <a href="#native data structure//">native data
structures</a> are <a href="#construct//">constructed</a> only from
information available in the <a href="#representation//">representation</a>.
In particular, <a href="#key/order/">mapping key order</a>, <a href="#comment//">comments</a>, and
<a href="#tag/handle/">tag handles</a> should not be referenced during
<a href="#compose//">composition</a>.</p>

<h3 id="311dump">3.1.1. Dump</h3>

<p><em>Dumping</em> native data structures to a character <a href="#stream//">stream</a> is done
using the following three stages:</p>

<p>Representing Native Data Structures</p>

<p>YAML <em>represents</em> any <em>native data structure</em> using three <a href="#kind//">node
kinds</a>: <a href="#sequence//">sequence</a> - an ordered series of entries;
<a href="#mapping//">mapping</a> - an unordered association of <a href="#equality//">unique</a>
<a href="#key//">keys</a> to <a href="#value//">values</a>; and <a href="#scalar//">scalar</a> - any datum with
opaque structure presentable as a series of Unicode characters.
Combined, these primitives generate directed graph structures.
These primitives were chosen because they are both powerful and familiar: the
<a href="#sequence//">sequence</a> corresponds to a Perl array and a Python list, the
<a href="#mapping//">mapping</a> corresponds to a Perl hash table and a Python dictionary.
The <a href="#scalar//">scalar</a> represents strings, integers, dates, and other atomic
data types.</p>

<p>Each YAML <a href="#node//">node</a> requires, in addition to its <a href="#kind//">kind</a> and
<a href="#content//">content</a>, a <a href="#tag//">tag</a> specifying its data type.
Type specifiers are either <a href="#tag/global/">global</a> URIs, or are
<a href="#tag/local/">local</a> in scope to a single <a href="#application//">application</a>.
For example, an integer is represented in YAML with a <a href="#scalar//">scalar</a> plus
the <a href="#tag/global/">global tag</a> “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:int</code></strong>”.
Similarly, an invoice object, particular to a given organization, could be
represented as a <a href="#mapping//">mapping</a> together with the <a href="#tag/local/">local
tag</a> “<strong><code class="language-plaintext highlighter-rouge">!invoice</code></strong>”.
This simple model can represent any data structure independent of programming
language.</p>

<p>Serializing the Representation Graph</p>

<p>For sequential access mediums, such as an event callback API, a YAML
<a href="#representation//">representation</a> must be <em>serialized</em> to an ordered tree.
Since in a YAML <a href="#representation//">representation</a>, <a href="#key//">mapping keys</a> are
unordered and <a href="#node//">nodes</a> may be referenced more than once (have more than
one incoming “arrow”), the serialization process is required to impose an
<a href="#key/order/">ordering</a> on the <a href="#key//">mapping keys</a> and to replace the second
and subsequent references to a given <a href="#node//">node</a> with place holders called
<a href="#alias//">aliases</a>.
YAML does not specify how these <em>serialization details</em> are chosen.
It is up to the YAML <a href="#processor//">processor</a> to come up with human-friendly
<a href="#key/order/">key order</a> and <a href="#anchor//">anchor</a> names, possibly with the help
of the <a href="#application//">application</a>.
The result of this process, a YAML <a href="#serialization//">serialization tree</a>, can
then be traversed to produce a series of event calls for one-pass processing of
YAML data.</p>

<p>Presenting the Serialization Tree</p>

<p>The final output process is <em>presenting</em> the YAML
<a href="#serialization//">serializations</a> as a character <a href="#stream//">stream</a> in a
human-friendly manner.
To maximize human readability, YAML offers a rich set of stylistic options
which go far beyond the minimal functional needs of simple data storage.
Therefore the YAML <a href="#processor//">processor</a> is required to introduce various
<em>presentation details</em> when creating the <a href="#stream//">stream</a>, such as the
choice of <a href="#style//">node styles</a>, how to <a href="#scalar/content format/">format scalar
content</a>, the amount of
<a href="#space/indentation/">indentation</a>, which <a href="#tag/handle/">tag handles</a> to use,
the <a href="#tag//">node tags</a> to leave <a href="#tag/non-specific/">unspecified</a>, the set of
<a href="#directive//">directives</a> to provide and possibly even what
<a href="#comment//">comments</a> to add.
While some of this can be done with the help of the
<a href="#application//">application</a>, in general this process should be guided by the
preferences of the user.</p>

<h3 id="312load">3.1.2. Load</h3>

<p><em>Loading</em> <a href="#native data structure//">native data structures</a> from a character
<a href="#stream//">stream</a> is done using the following three stages:</p>

<p>Parsing the Presentation Stream</p>

<p><em>Parsing</em> is the inverse process of <a href="#present//">presentation</a>, it takes a
<a href="#stream//">stream</a> of characters and produces a series of events.
Parsing discards all the <a href="#presentation/detail/">details</a> introduced in the
<a href="#present//">presentation</a> process, reporting only the
<a href="#serialization//">serialization</a> events.
Parsing can fail due to <a href="#stream/ill-formed/">ill-formed</a> input.</p>

<p>Composing the Representation Graph</p>

<p><em>Composing</em> takes a series of <a href="#serialization//">serialization</a> events and
produces a <a href="#representation//">representation graph</a>.
Composing discards all the <a href="#serialization/detail/">details</a> introduced in the
<a href="#serialize//">serialization</a> process, producing only the <a href="#representation//">representation
graph</a>.
Composing can fail due to any of several reasons, detailed
<a href="#load/failure point/">below</a>.</p>

<p>Constructing Native Data Structures</p>

<p>The final input process is <em>constructing</em> <a href="#native data
structure//">native data structures</a> from the YAML <a href="#representation//">representation</a>.
Construction must be based only on the information available in the
<a href="#representation//">representation</a>, and not on additional
<a href="#serialization//">serialization</a> or <a href="#presentation/detail/">presentation
details</a> such as <a href="#comment//">comments</a>,
<a href="#directive//">directives</a>, <a href="#key/order/">mapping key order</a>, <a href="#style//">node
styles</a>, <a href="#scalar/content format/">scalar content format</a>,
<a href="#space/indentation/">indentation</a> levels etc.
Construction can fail due to the <a href="#tag/unavailable/">unavailability</a> of the
required <a href="#native data structure//">native data types</a>.</p>

<h2 id="32information-models">3.2. Information Models</h2>

<p>This section specifies the formal details of the results of the above processes.
To maximize data portability between programming languages and implementations,
users of YAML should be mindful of the distinction between
<a href="#serialization//">serialization</a> or <a href="#presentation//">presentation</a> properties
and those which are part of the YAML <a href="#representation//">representation</a>.
Thus, while imposing a <a href="#key/order/">order</a> on <a href="#key//">mapping keys</a> is
necessary for flattening YAML <a href="#representation//">representations</a> to a
sequential access medium, this <a href="#serialization/detail/">serialization detail</a>
must not be used to convey <a href="#application//">application</a> level information.
In a similar manner, while <a href="#space/indentation/">indentation</a> technique and a
choice of a <a href="#style//">node style</a> are needed for the human readability, these
<a href="#presentation/detail/">presentation details</a> are neither part of the YAML
<a href="#serialization//">serialization</a> nor the YAML
<a href="#representation//">representation</a>.
By carefully separating properties needed for <a href="#serialization//">serialization</a>
and <a href="#presentation//">presentation</a>, YAML <a href="#representation//">representations</a>
of <a href="#application//">application</a> information will be consistent and portable
between various programming environments.</p>

<p>The following diagram summarizes the three <em>information models</em>.
Full arrows denote composition, hollow arrows denote inheritance, “<strong><code class="language-plaintext highlighter-rouge">1</code></strong>” and
“<strong><code class="language-plaintext highlighter-rouge">*</code></strong>” denote “one” and “many” relationships.
A single “<strong><code class="language-plaintext highlighter-rouge">+</code></strong>” denotes <a href="#serialization//">serialization</a> details, a double
“<strong><code class="language-plaintext highlighter-rouge">++</code></strong>” denotes <a href="#presentation//">presentation</a> details.</p>

<p><strong>Figure 3.2. Information Models</strong></p>

<p><img src="/img/model2.png" alt="Information Models" /></p>

<h3 id="321representation-graph">3.2.1. Representation Graph</h3>

<p>YAML’s <em>representation</em> of <a href="#native data structure//">native data structure</a> is
a rooted, connected, directed graph of <a href="#tag//">tagged</a> <a href="#node//">nodes</a>.
By “directed graph” we mean a set of <a href="#node//">nodes</a> and directed edges
(“arrows”), where each edge connects one <a href="#node//">node</a> to another (see <a href="http://www.nist.gov/dads/HTML/directedGraph.html">a
formal definition</a>).
All the <a href="#node//">nodes</a> must be reachable from the <em>root node</em> via such edges.
Note that the YAML graph may include cycles, and a <a href="#node//">node</a> may have
more than one incoming edge.</p>

<p><a href="#node//">Nodes</a> that are defined in terms of other <a href="#node//">nodes</a> are
<a href="#collection//">collections</a>; <a href="#node//">nodes</a> that are independent of any
other <a href="#node//">nodes</a> are <a href="#scalar//">scalars</a>.
YAML supports two <a href="#kind//">kinds</a> of <a href="#collection//">collection nodes</a>:
<a href="#sequence//">sequences</a> and <a href="#mapping//">mappings</a>. <a href="#mapping//">Mapping
nodes</a> are somewhat tricky because their <a href="#key//">keys</a> are
unordered and must be <a href="#equality//">unique</a>.</p>

<p><strong>Figure 3.3. Representation Model</strong></p>

<p><img src="/img/represent2.png" alt="Representation Model" /></p>

<h4 id="3211nodes">3.2.1.1. Nodes</h4>

<p>A YAML <em>node</em> <a href="#representation//">represents</a> a single <a href="#native data structure//">native data
structure</a>.
Such nodes have <em>content</em> of one of three <em>kinds</em>: scalar, sequence, or mapping.
In addition, each node has a <a href="#tag//">tag</a> which serves to restrict the set of
possible values the content can have.</p>

<p>Scalar</p>

<p>The content of a <em>scalar</em> node is an opaque datum that can be
<a href="#present//">presented</a> as a series of zero or more Unicode characters.</p>

<p>Sequence</p>

<p>The content of a <em>sequence</em> node is an ordered series of zero or more nodes.
In particular, a sequence may contain the same node more than once.
It could even contain itself (directly or indirectly).</p>

<p>Mapping</p>

<p>The content of a <em>mapping</em> node is an unordered set of <em>key:</em> <em>value</em> node
<em>pairs</em>, with the restriction that each of the keys is <a href="#equality//">unique</a>.
YAML places no further restrictions on the nodes.
In particular, keys may be arbitrary nodes, the same node may be used as the
value of several key: value pairs, and a mapping could even contain itself as a
key or a value (directly or indirectly).</p>

<p>When appropriate, it is convenient to consider sequences and mappings together,
as <em>collections</em>.
In this view, sequences are treated as mappings with integer keys starting at
zero.
Having a unified collections view for sequences and mappings is helpful both
for theoretical analysis and for creating practical YAML tools and APIs.
This strategy is also used by the Javascript programming language.</p>

<h4 id="3212tags">3.2.1.2. Tags</h4>

<p>YAML <a href="#represent//">represents</a> type information of <a href="#native data structure//">native data
structures</a> with a simple identifier, called a <em>tag</em>.
<em>Global tags</em> are <a href="http://www.ietf.org/rfc/rfc2396.txt">URIs</a> and hence
globally unique across all <a href="#application//">applications</a>.
The “<strong><code class="language-plaintext highlighter-rouge">tag:</code></strong>” <a href="http://www.faqs.org/rfcs/rfc4151.html">URI scheme</a> is
recommended for all global YAML tags.
In contrast, <em>local tags</em> are specific to a single
<a href="#application//">application</a>.
Local tags start with <em>“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>“</em>, are not URIs and are not expected to be
globally unique.
YAML provides a <a href="#directive/TAG/">“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive</a> to make tag notation
less verbose; it also offers easy migration from local to global tags.
To ensure this, local tags are restricted to the URI character set and use URI
character <a href="#% escaping in URI//">escaping</a>.</p>

<p>YAML does not mandate any special relationship between different tags that
begin with the same substring.
Tags ending with URI fragments (containing “<strong><code class="language-plaintext highlighter-rouge">#</code></strong>”) are no exception; tags
that share the same base URI but differ in their fragment part are considered
to be different, independent tags.
By convention, fragments are used to identify different “variants” of a tag,
while “<strong><code class="language-plaintext highlighter-rouge">/</code></strong>” is used to define nested tag “namespace” hierarchies.
However, this is merely a convention, and each tag may employ its own rules.
For example, Perl tags may use “<strong><code class="language-plaintext highlighter-rouge">::</code></strong>” to express namespace hierarchies,
Java tags may use “<strong><code class="language-plaintext highlighter-rouge">.</code></strong>”, etc.</p>

<p>YAML tags are used to associate meta information with each <a href="#node//">node</a>.
In particular, each tag must specify the expected <a href="#kind//">node kind</a>
(<a href="#scalar//">scalar</a>, <a href="#sequence//">sequence</a>, or <a href="#mapping//">mapping</a>).
<a href="#scalar//">Scalar</a> tags must also provide a mechanism for converting
<a href="#scalar/content format/">formatted content</a> to a <a href="#scalar/canonical form/">canonical
form</a> for supporting <a href="#equality//">equality</a> testing.
Furthermore, a tag may provide additional information such as the set of
allowed <a href="#content//">content</a> values for validation, a mechanism for <a href="#tag/resolution/">tag
resolution</a>, or any other data that is applicable to all of
the tag’s <a href="#node//">nodes</a>.</p>

<h4 id="3213node-comparison">3.2.1.3. Node Comparison</h4>

<p>Equality</p>

<p>Since YAML <a href="#mapping//">mappings</a> require <a href="#key//">key</a> uniqueness,
<a href="#representation//">representations</a> must include a mechanism for testing the
equality of <a href="#node//">nodes</a>.
In general, it is impossible to ensure uniqueness for
<a href="#presentation//">presentations</a>, for the following reasons:</p>

<ul>
  <li>
    <p>YAML allows various ways to <a href="#scalar/content format/">format scalar content</a>.
For example, the integer eleven can be written as “<strong><code class="language-plaintext highlighter-rouge">0o13</code></strong>” (octal) or
“<strong><code class="language-plaintext highlighter-rouge">0xB</code></strong>” (hexadecimal).
If both notations are used as <a href="#key//">keys</a> in the same <a href="#mapping//">mapping</a>,
only a YAML <a href="#processor//">processor</a> which recognizes integer
<a href="#scalar/content format/">formats</a> would correctly flag the duplicate
<a href="#key//">key</a> as an error.</p>
  </li>
  <li>
    <p>The semantics of the <a href="#representation//">representation</a> may require that
values with different <a href="#tag//">tags</a> be considered equal.
For example, the integer one and the float one are considered equal.
If both are used as <a href="#key//">keys</a> in the same <a href="#mapping//">mapping</a>, only a
YAML <a href="#processor//">processor</a> which recognizes integer and float
<a href="#representation//">representations</a> would correctly flag the duplicate
<a href="#key//">key</a> as an error.</p>
  </li>
</ul>

<p>YAML therefore requires that each <a href="#tag//">tag</a> must specify a mechanism for
testing any of its values for <em>equality</em> with any other value (including values
of any different <a href="#tag//">tag</a>).
This is often implemented directly by the <a href="#native data
structure//">native data structure</a> instead of the YAML <a href="#processor//">processor</a>.
That is, duplicate <a href="#key//">keys</a> are often flagged as an error during the
<a href="#construct//">construction</a> processing stage.</p>

<p>In order to ensure greater compatibility and clarity, YAML allows the
<a href="#processor//">processor</a> to flag obvious duplicate <a href="#key//">keys</a> based on the
<a href="#presentation//">presentation</a>.
Specifically, two <a href="#scalar//">scalar</a> <a href="#key//">keys</a> in the same
<a href="#mapping//">mapping</a>, with the same <a href="#tag//">tag</a> and the same
<a href="#content//">content</a>, may be flagged as an error as soon as the
<a href="#parse//">parsing</a> stage.
Note that this tests also works for <a href="#tag/non-specific/">non-specific tags</a> due
to the way that <a href="#tag/resolution/">tag resolution</a> is defined.
This allows a human reader to reasonably identify <strong><code class="language-plaintext highlighter-rouge">{ a: 1, a: 2 }</code></strong> as an
error.
Such constructs are silently accepted by many languages, but have no well
defined meaning, and are therefore disallowed in YAML to avoid surprising
behavior.</p>

<p>Canonical Form</p>

<p>YAML also requires that every <a href="#scalar//">scalar</a> <a href="#tag//">tag</a> must specify a
mechanism for producing the <em>canonical form</em> of any <a href="#scalar/content format/">formatted
content</a>.
This form is a Unicode character string which also <a href="#present//">presents</a> the
same <a href="#scalar/content format/">content</a>.
While this can be used for equality testing (as long as the compared values
have the same <a href="#tag//">tag</a>), it has other uses, such as the production of
digital signatures.</p>

<p>Identity</p>

<p>Two <a href="#node//">nodes</a> are <em>identical</em> only when they <a href="#represent//">represent</a>
the same <a href="#native data structure//">native data structure</a>.
Typically, this corresponds to a single memory address.
Identity should not be confused with equality; two equal <a href="#node//">nodes</a> need
not have the same identity.
A YAML <a href="#processor//">processor</a> may treat equal <a href="#scalar//">scalars</a> as if
they were identical.
In contrast, the separate identity of two distinct but equal
<a href="#collection//">collections</a> must be preserved.</p>

<p>A common programming idiom is creating an empty object to obtain a value that
is only equal to itself (for example, in order to generate a dynamic
“enumerated type”).
The proper way to <a href="#representation//">represent</a> this in YAML would be
<strong><code class="language-plaintext highlighter-rouge">!object {}</code></strong>, where the <strong><code class="language-plaintext highlighter-rouge">!object</code></strong> <a href="#tag//">tag</a> defines two objects to
be equal only if they are identical.
The alternative <a href="#scalar//">scalar</a> <a href="#representation//">representation</a>
<strong><code class="language-plaintext highlighter-rouge">!object ''</code></strong> will not work as expected, as the YAML
<a href="#processor//">processor</a> is not required to preserve the identity of such
objects.</p>

<h3 id="322serialization-tree">3.2.2. Serialization Tree</h3>

<p>To express a YAML <a href="#representation//">representation</a> using a serial API, it is
necessary to impose an <a href="#key/order/">order</a> on <a href="#key//">mapping keys</a> and
employ <a href="#alias//">alias nodes</a> to indicate a subsequent occurrence of a
previously encountered <a href="#node//">node</a>.
The result of this process is a <em>serialization tree</em>, where each
<a href="#node//">node</a> has an ordered set of children.
This tree can be traversed for a serial event-based API.
<a href="#construct//">Construction</a> of <a href="#native data
structure//">native data structures</a> from the serial interface should not use <a href="#key/order/">key order</a>
or <a href="#anchor//">anchor names</a> for the preservation of
<a href="#application//">application</a> data.</p>

<p><strong>Figure 3.4. Serialization Model</strong></p>

<p><img src="/img/serialize2.png" alt="Serialization Model" /></p>

<h4 id="3221keys-order">3.2.2.1. Keys Order</h4>

<p>In the <a href="#representation//">representation</a> model, <a href="#key//">mapping keys</a> do not
have an order.
To <a href="#serialize//">serialize</a> a <a href="#mapping//">mapping</a>, it is necessary to impose
an <em>ordering</em> on its <a href="#key//">keys</a>.
This order is a <a href="#serialization/detail/">serialization detail</a> and should not
be used when <a href="#compose//">composing</a> the <a href="#representation//">representation
graph</a> (and hence for the preservation of
<a href="#application//">application</a> data).
In every case where <a href="#node//">node</a> order is significant, a
<a href="#sequence//">sequence</a> must be used.
For example, an ordered <a href="#mapping//">mapping</a> can be
<a href="#represent//">represented</a> as a <a href="#sequence//">sequence</a> of
<a href="#mapping//">mappings</a>, where each <a href="#mapping//">mapping</a> is a single
<a href="#key: value pair//">key: value pair</a>.
YAML provides convenient <a href="#style/single key:value pair
mapping/">compact notation</a> for this case.</p>

<h4 id="3222anchors-and-aliases">3.2.2.2. Anchors and Aliases</h4>

<p>In the <a href="#representation//">representation graph</a>, a <a href="#node//">node</a> may appear
in more than one <a href="#collection//">collection</a>.
When <a href="#serialize//">serializing</a> such data, the first occurrence of the
<a href="#node//">node</a> is <em>identified</em> by an <em>anchor</em>.
Each subsequent occurrence is <a href="#serialize//">serialized</a> as an <a href="#alias//">alias
node</a> which refers back to this anchor.
Otherwise, anchor names are a <a href="#serialization/detail/">serialization detail</a>
and are discarded once <a href="#compose//">composing</a> is completed.
When <a href="#compose//">composing</a> a <a href="#representation//">representation graph</a> from
<a href="#serialize//">serialized</a> events, an alias node refers to the most recent
<a href="#node//">node</a> in the <a href="#serialization//">serialization</a> having the specified
anchor.
Therefore, anchors need not be unique within a
<a href="#serialization//">serialization</a>.
In addition, an anchor need not have an alias node referring to it.
It is therefore possible to provide an anchor for all <a href="#node//">nodes</a> in
<a href="#serialization//">serialization</a>.</p>

<h3 id="323presentation-stream">3.2.3. Presentation Stream</h3>

<p>A YAML <em>presentation</em> is a <a href="#stream//">stream</a> of Unicode characters making use
of <a href="#style//">styles</a>, <a href="#scalar/content format/">scalar content formats</a>,
<a href="#comment//">comments</a>, <a href="#directive//">directives</a> and other <a href="#presentation/detail/">presentation
details</a> to <a href="#present//">present</a> a YAML
<a href="#serialization//">serialization</a> in a human readable way.
Although a YAML <a href="#processor//">processor</a> may provide these
<a href="#presentation/detail/">details</a> when <a href="#parse//">parsing</a>, they should not be
reflected in the resulting <a href="#serialization//">serialization</a>.
YAML allows several <a href="#serialization//">serialization trees</a> to be contained in
the same YAML character stream, as a series of <a href="#document//">documents</a>
separated by <a href="#marker//">markers</a>.
Documents appearing in the same stream are independent; that is, a
<a href="#node//">node</a> must not appear in more than one <a href="#serialization//">serialization
tree</a> or <a href="#representation//">representation graph</a>.</p>

<p><strong>Figure 3.5. Presentation Model</strong></p>

<p><img src="/img/present2.png" alt="Presentation Model" /></p>

<h4 id="3231node-styles">3.2.3.1. Node Styles</h4>

<p>Each <a href="#node//">node</a> is presented in some <em>style</em>, depending on its
<a href="#kind//">kind</a>.
The node style is a <a href="#presentation/detail/">presentation detail</a> and is not
reflected in the <a href="#serialization//">serialization tree</a> or <a href="#representation//">representation
graph</a>.
There are two groups of styles. <a href="#style/block/">Block styles</a> use
<a href="#space/indentation/">indentation</a> to denote structure; in contrast, <a href="#style/flow/">flow
styles</a> rely on explicit <a href="#indicator//">indicators</a>.</p>

<p>YAML provides a rich set of <em>scalar styles</em>. <a href="#style/block/scalar">Block
scalar</a> styles include the <a href="#style/block/literal">literal
style</a> and the <a href="#style/block/folded">folded style</a>. <a href="#style/flow/scalar">Flow
scalar</a> styles include the <a href="#style/flow/plain">plain style</a>
and two quoted styles, the <a href="#style/flow/single-quoted">single-quoted style</a> and
the <a href="#style/flow/double-quoted">double-quoted style</a>.
These styles offer a range of trade-offs between expressive power and
readability.</p>

<p>Normally, <a href="#style/block/sequence">block sequences</a> and
<a href="#style/block/mapping">mappings</a> begin on the next line.
In some cases, YAML also allows nested <a href="#style/block/">block</a>
<a href="#collection//">collections</a> to start in-line for a more <a href="#style/compact block collection/">compact
notation</a>.
In addition, YAML provides a <a href="#style/single key:value pair
mapping/">compact notation</a> for <a href="#style/flow/mapping">flow mappings</a> with a single <a href="#key: value pair//">key: value
pair</a>, nested inside a <a href="#style/flow/sequence">flow
sequence</a>.
These allow for a natural “ordered mapping” notation.</p>

<p><strong>Figure 3.6. Kind/Style Combinations</strong></p>

<p><img src="/img/styles2.png" alt="Kind/Style Combinations" /></p>

<h4 id="3232scalar-formats">3.2.3.2. Scalar Formats</h4>

<p>YAML allows <a href="#scalar//">scalars</a> to be <a href="#present//">presented</a> in several
<em>formats</em>.
For example, the integer “<strong><code class="language-plaintext highlighter-rouge">11</code></strong>” might also be written as “<strong><code class="language-plaintext highlighter-rouge">0xB</code></strong>”.
<a href="#tag//">Tags</a> must specify a mechanism for converting the formatted content to
a <a href="#scalar/canonical form/">canonical form</a> for use in <a href="#equality//">equality</a>
testing.
Like <a href="#style//">node style</a>, the format is a <a href="#presentation/detail/">presentation
detail</a> and is not reflected in the <a href="#serialization//">serialization
tree</a> and <a href="#representation//">representation graph</a>.</p>

<h4 id="3233comments">3.2.3.3. Comments</h4>

<p><a href="#comment//">Comments</a> are a <a href="#presentation/detail/">presentation detail</a> and
must not have any effect on the <a href="#serialization//">serialization tree</a> or
<a href="#representation//">representation graph</a>.
In particular, comments are not associated with a particular <a href="#node//">node</a>.
The usual purpose of a comment is to communicate between the human maintainers
of a file.
A typical example is comments in a configuration file.
Comments must not appear inside <a href="#scalar//">scalars</a>, but may be interleaved
with such <a href="#scalar//">scalars</a> inside <a href="#collection//">collections</a>.</p>

<h4 id="3234directives">3.2.3.4. Directives</h4>

<p>Each <a href="#document//">document</a> may be associated with a set of
<a href="#directive//">directives</a>.
A directive has a name and an optional sequence of parameters.
Directives are instructions to the YAML <a href="#processor//">processor</a>, and like all
other <a href="#presentation/detail/">presentation details</a> are not reflected in the
YAML <a href="#serialization//">serialization tree</a> or <a href="#representation//">representation
graph</a>.
This version of YAML defines two directives, <a href="#directive/YAML/">“<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>”</a>
and <a href="#directive/TAG/">“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>”</a>.
All other directives are <a href="#directive/reserved/">reserved</a> for future versions
of YAML.</p>

<h2 id="33loading-failure-points">3.3. Loading Failure Points</h2>

<p>The process of <a href="#load//">loading</a> <a href="#native data
structure//">native data structures</a> from a YAML <a href="#stream//">stream</a> has several potential <em>failure
points</em>.
The character <a href="#stream//">stream</a> may be <a href="#stream/ill-formed/">ill-formed</a>,
<a href="#alias//">aliases</a> may be <a href="#alias/unidentified/">unidentified</a>, <a href="#tag/non-specific/">unspecified
tags</a> may be <a href="#tag/unresolved/">unresolvable</a>,
<a href="#tag//">tags</a> may be <a href="#tag/unrecognized/">unrecognized</a>, the
<a href="#content//">content</a> may be <a href="#invalid content//">invalid</a>, and a native type
may be <a href="#tag/unavailable/">unavailable</a>.
Each of these failures results with an incomplete loading.</p>

<p>A <em>partial representation</em> need not <a href="#tag/resolution/">resolve</a> the
<a href="#tag//">tag</a> of each <a href="#node//">node</a>, and the <a href="#scalar/canonical form/">canonical
form</a> of <a href="#scalar/content
format/">formatted scalar content</a> need not be available.
This weaker representation is useful for cases of incomplete knowledge of the
types used in the <a href="#document//">document</a>.
In contrast, a <em>complete representation</em> specifies the <a href="#tag//">tag</a> of each
<a href="#node//">node</a>, and provides the <a href="#scalar/canonical form/">canonical form</a> of
<a href="#scalar/content format/">formatted scalar content</a>, allowing for
<a href="#equality//">equality</a> testing.
A complete representation is required in order to <a href="#construct//">construct</a>
<a href="#native data structure//">native data structures</a>.</p>

<p><strong>Figure 3.7. Loading Failure Points</strong></p>

<p><img src="/img/validity2.png" alt="Loading Failure Points" /></p>

<h3 id="331well-formed-streams-and-identified-aliases">3.3.1. Well-Formed Streams and Identified Aliases</h3>

<p>A <a href="#stream/well-formed/">well-formed</a> character <a href="#stream//">stream</a> must match
the BNF productions specified in the following chapters.
Successful loading also requires that each <a href="#alias//">alias</a> shall refer to a
previous <a href="#node//">node</a> <a href="#alias/identified/">identified</a> by the
<a href="#anchor//">anchor</a>.
A YAML <a href="#processor//">processor</a> should reject <em>ill-formed streams</em> and
<em>unidentified aliases</em>.
A YAML <a href="#processor//">processor</a> may recover from syntax errors, possibly by
ignoring certain parts of the input, but it must provide a mechanism for
reporting such errors.</p>

<h3 id="332resolved-tags">3.3.2. Resolved Tags</h3>

<p>Typically, most <a href="#tag//">tags</a> are not explicitly specified in the character
<a href="#stream//">stream</a>.
During <a href="#parse//">parsing</a>, <a href="#node//">nodes</a> lacking an explicit <a href="#tag//">tag</a>
are given a <em>non-specific tag</em>: <em>“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>“</em> for non-<a href="#style/flow/plain">plain
scalars</a>, and <em>“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>“</em> for all other <a href="#node//">nodes</a>.
<a href="#compose//">Composing</a> a <a href="#representation/complete/">complete representation</a>
requires each such non-specific tag to be <em>resolved</em> to a <em>specific tag</em>, be it
a <a href="#tag/global/">global tag</a> or a <a href="#tag/local/">local tag</a>.</p>

<p>Resolving the <a href="#tag//">tag</a> of a <a href="#node//">node</a> must only depend on the
following three parameters: (1) the non-specific tag of the <a href="#node//">node</a>,
(2) the path leading from the <a href="#node/root/">root</a> to the <a href="#node//">node</a>, and
(3) the <a href="#content//">content</a> (and hence the <a href="#kind//">kind</a>) of the
<a href="#node//">node</a>.
When a <a href="#node//">node</a> has more than one occurrence (using
<a href="#alias//">aliases</a>), tag resolution must depend only on the path to the first
(<a href="#anchor//">anchored</a>) occurrence of the <a href="#node//">node</a>.</p>

<p>Note that resolution must not consider <a href="#presentation/detail/">presentation
details</a> such as <a href="#comment//">comments</a>,
<a href="#space/indentation/">indentation</a> and <a href="#style//">node style</a>.
Also, resolution must not consider the <a href="#content//">content</a> of any other
<a href="#node//">node</a>, except for the <a href="#content//">content</a> of the <a href="#key//">key
nodes</a> directly along the path leading from the <a href="#node/root/">root</a> to
the resolved <a href="#node//">node</a>.
Finally, resolution must not consider the <a href="#content//">content</a> of a sibling
<a href="#node//">node</a> in a <a href="#collection//">collection</a>, or the <a href="#content//">content</a>
of the <a href="#value//">value node</a> associated with a <a href="#key//">key node</a> being
resolved.</p>

<p>These rules ensure that tag resolution can be performed as soon as a
<a href="#node//">node</a> is first encountered in the <a href="#stream//">stream</a>, typically
before its <a href="#content//">content</a> is <a href="#parse//">parsed</a>.
Also, tag resolution only requires referring to a relatively small number of
previously parsed <a href="#node//">nodes</a>.
Thus, in most cases, tag resolution in one-pass <a href="#processor//">processors</a> is
both possible and practical.</p>

<p>YAML <a href="#processor//">processors</a> should resolve <a href="#node//">nodes</a> having the
“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>” non-specific tag as “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>”,
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>” or “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong>” depending on
their <a href="#kind//">kind</a>.
This <em>tag resolution convention</em> allows the author of a YAML character
<a href="#stream//">stream</a> to effectively “disable” the tag resolution process.
By explicitly specifying a “<strong><code class="language-plaintext highlighter-rouge">!</code></strong>” non-specific <a href="#tag/property/">tag
property</a>, the <a href="#node//">node</a> would then be resolved to a
“vanilla” <a href="#sequence//">sequence</a>, <a href="#mapping//">mapping</a>, or string, according
to its <a href="#kind//">kind</a>.</p>

<p><a href="#application//">Application</a> specific tag resolution rules should be
restricted to resolving the “<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific tag, most commonly to
resolving <a href="#style/flow/plain">plain scalars</a>.
These may be matched against a set of regular expressions to provide automatic
resolution of integers, floats, timestamps, and similar types.
An <a href="#application//">application</a> may also match the <a href="#content//">content</a> of
<a href="#mapping//">mapping nodes</a> against sets of expected <a href="#key//">keys</a> to
automatically resolve points, complex numbers, and similar types.
Resolved <a href="#sequence//">sequence node</a> types such as the “ordered mapping” are
also possible.</p>

<p>That said, tag resolution is specific to the <a href="#application//">application</a>.
YAML <a href="#processor//">processors</a> should therefore provide a mechanism allowing
the <a href="#application//">application</a> to override and expand these default tag
resolution rules.</p>

<p>If a <a href="#document//">document</a> contains <em>unresolved tags</em>, the YAML
<a href="#processor//">processor</a> is unable to <a href="#compose//">compose</a> a <a href="#representation/complete/">complete
representation</a> graph.
In such a case, the YAML <a href="#processor//">processor</a> may <a href="#compose//">compose</a> a
<a href="#representation/partial/">partial representation</a>, based on each <a href="#kind//">node’s
kind</a> and allowing for non-specific tags.</p>

<h3 id="333recognized-and-valid-tags">3.3.3. Recognized and Valid Tags</h3>

<p>To be <em>valid</em>, a <a href="#node//">node</a> must have a <a href="#tag//">tag</a> which is
<em>recognized</em> by the YAML <a href="#processor//">processor</a> and its
<a href="#content//">content</a> must satisfy the constraints imposed by this
<a href="#tag//">tag</a>.
If a <a href="#document//">document</a> contains a <a href="#scalar//">scalar node</a> with an
<em>unrecognized tag</em> or <em>invalid content</em>, only a <a href="#representation/partial/">partial
representation</a> may be <a href="#compose//">composed</a>.
In contrast, a YAML <a href="#processor//">processor</a> can always <a href="#compose//">compose</a>
a <a href="#representation/complete/">complete representation</a> for an unrecognized or
an invalid <a href="#collection//">collection</a>, since <a href="#collection//">collection</a>
<a href="#equality//">equality</a> does not depend upon knowledge of the
<a href="#collection//">collection’s</a> data type.
However, such a <a href="#representation/complete/">complete representation</a> cannot be
used to <a href="#construct//">construct</a> a <a href="#native data
structure//">native data structure</a>.</p>

<h3 id="334available-tags">3.3.4. Available Tags</h3>

<p>In a given processing environment, there need not be an <em>available</em> native type
corresponding to a given <a href="#tag//">tag</a>.
If a <a href="#tag//">node’s tag</a> is <em>unavailable</em>, a YAML <a href="#processor//">processor</a>
will not be able to <a href="#construct//">construct</a> a <a href="#native
data structure//">native data structure</a> for it.
In this case, a <a href="#representation/complete/">complete representation</a> may still
be <a href="#compose//">composed</a>, and an <a href="#application//">application</a> may wish to use
this <a href="#representation//">representation</a> directly.</p>

<h1 id="chapter4syntax-conventions">Chapter 4. Syntax Conventions</h1>

<p>The following chapters formally define the syntax of YAML character
<a href="#stream//">streams</a>, using parameterized BNF productions.
Each BNF production is both named and numbered for easy reference.
Whenever possible, basic structures are specified before the more complex
structures using them in a “bottom up” fashion.</p>

<p>The order of alternatives inside a production is significant.
Subsequent alternatives are only considered when previous ones fails.
See for example the <a href="#b-break"><strong><code class="language-plaintext highlighter-rouge">b-break</code></strong></a> production.
In addition, production matching is expected to be greedy.
Optional (<strong><code class="language-plaintext highlighter-rouge">?</code></strong>), zero-or-more (<strong><code class="language-plaintext highlighter-rouge">*</code></strong>) and one-or-more (<strong><code class="language-plaintext highlighter-rouge">+</code></strong>) patterns
are always expected to match as much of the input as possible.</p>

<p>The productions are accompanied by examples, which are given side-by-side next
to equivalent YAML text in an explanatory format.
This format uses only <a href="#style/flow/collection">flow collections</a>,
<a href="#style/flow/double-quoted">double-quoted scalars</a>, and explicit <a href="#tag//">tags</a>
for each <a href="#node//">node</a>.</p>

<p>A reference implementation using the productions is available as the
<a href="http://hackage.haskell.org/cgi-bin/hackage-scripts/package/Yaml
Reference">YamlReference</a> Haskell package.
This reference implementation is also available as an interactive web
application at <a href="http://dev.yaml.org/ypaste">http://dev.yaml.org/ypaste</a>.</p>

<h2 id="41production-parameters">4.1. Production Parameters</h2>

<p>YAML’s syntax is designed for maximal human readability.
This requires <a href="#parse//">parsing</a> to depend on the surrounding text.
For notational compactness, this dependency is expressed using parameterized
BNF productions.</p>

<p>This context sensitivity is the cause of most of the complexity of the YAML
syntax definition.
It is further complicated by struggling with the human tendency to look ahead
when interpreting text.
These complications are of course the source of most of YAML’s power to
<a href="#presentation//">present</a> data in a very human readable way.</p>

<p>Productions use any of the following parameters:</p>

<p>Indentation: <code class="language-plaintext highlighter-rouge">n</code> or <code class="language-plaintext highlighter-rouge">m</code></p>

<p>Many productions use an explicit <a href="#space/indentation/">indentation</a> level
parameter.
This is less elegant than Python’s “indent” and “undent” conceptual tokens.
However it is required to formally express YAML’s indentation rules.</p>

<p>Context: <code class="language-plaintext highlighter-rouge">c</code></p>

<p>This parameter allows productions to tweak their behavior according to their
surrounding.
YAML supports two groups of <em>contexts</em>, distinguishing between <a href="#style/block/">block
styles</a> and <a href="#style/flow/">flow styles</a>.</p>

<p>In <a href="#style/block/">block styles</a>, <a href="#space/indentation/">indentation</a> is used to
delineate structure.
To capture human perception of <a href="#space/indentation/">indentation</a> the rules
require special treatment of the <a href="#- block sequence entry//">“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>”</a>
character, used in <a href="#style/block/sequence">block sequences</a>.
Hence in some cases productions need to behave differently inside <a href="#style/block/sequence">block
sequences</a> (<em>block-in context</em>) and outside them
(<em>block-out context</em>).</p>

<p>In <a href="#style/flow/">flow styles</a>, explicit <a href="#indicator//">indicators</a> are used to
delineate structure.
These styles can be viewed as the natural extension of JSON to cover
<a href="#tag//">tagged</a>, <a href="#style/flow/single-quoted">single-quoted</a> and <a href="#style/flow/plain">plain
scalars</a>.
Since the latter have no delineating <a href="#indicator//">indicators</a>, they are
subject to some restrictions to avoid ambiguities.
These restrictions depend on where they appear: as implicit keys directly
inside a <a href="#style/block/mapping">block mapping</a> (<em>block-key</em>); as implicit keys
inside a <a href="#style/flow/mapping">flow mapping</a> (<em>flow-key</em>); as values inside a
<a href="#style/flow/collection">flow collection</a> (<em>flow-in</em>); or as values outside one
(<em>flow-out</em>).</p>

<p>(Block) Chomping: <code class="language-plaintext highlighter-rouge">t</code></p>

<p>Block scalars offer three possible mechanisms for <a href="#chomping//">chomping</a> any
trailing <a href="#line break//">line breaks</a>: <a href="#chomping/strip/">strip</a>,
<a href="#chomping/clip/">clip</a> and <a href="#chomping/keep/">keep</a>.
Unlike the previous parameters, this only controls interpretation; the <a href="#line break//">line
breaks</a> are valid in all cases.</p>

<h2 id="42production-naming-conventions">4.2. Production Naming Conventions</h2>

<p>To make it easier to follow production combinations, production names use a
Hungarian-style naming convention.
Each production is given a prefix based on the type of characters it begins and
ends with.</p>

<p><strong><code class="language-plaintext highlighter-rouge">e-</code></strong></p>

<p>A production matching no characters.</p>

<p><strong><code class="language-plaintext highlighter-rouge">c-</code></strong></p>

<p>A production starting and ending with a special character.</p>

<p><strong><code class="language-plaintext highlighter-rouge">b-</code></strong></p>

<p>A production matching a single <a href="#line break//">line break</a>.</p>

<p><strong><code class="language-plaintext highlighter-rouge">nb-</code></strong></p>

<p>A production starting and ending with a non-<a href="#line break//">break</a> character.</p>

<p><strong><code class="language-plaintext highlighter-rouge">s-</code></strong></p>

<p>A production starting and ending with a <a href="#space/white/">white space</a> character.</p>

<p><strong><code class="language-plaintext highlighter-rouge">ns-</code></strong></p>

<p>A production starting and ending with a non-<a href="#space/white/">space</a> character.</p>

<p><strong><code class="language-plaintext highlighter-rouge">l-</code></strong></p>

<p>A production matching complete line(s).</p>

<p><code class="language-plaintext highlighter-rouge">X</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong><code class="language-plaintext highlighter-rouge">Y</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong></p>

<p>A production starting with an <code class="language-plaintext highlighter-rouge">X</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong> character and ending with a <code class="language-plaintext highlighter-rouge">Y</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong>
character, where <code class="language-plaintext highlighter-rouge">X</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong> and <code class="language-plaintext highlighter-rouge">Y</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong> are any of the above prefixes.</p>

<p><code class="language-plaintext highlighter-rouge">X</code><strong><code class="language-plaintext highlighter-rouge">+</code></strong>, <code class="language-plaintext highlighter-rouge">X</code><strong><code class="language-plaintext highlighter-rouge">-</code></strong><code class="language-plaintext highlighter-rouge">Y</code><strong><code class="language-plaintext highlighter-rouge">+</code></strong></p>

<p>A production as above, with the additional property that the matched content
<a href="#space/indentation/">indentation</a> level is greater than the specified <code class="language-plaintext highlighter-rouge">n</code>
parameter.</p>

<h1 id="chapter5characters">Chapter 5. Characters</h1>

<h2 id="51character-set">5.1. Character Set</h2>

<p>To ensure readability, YAML <a href="#stream//">streams</a> use only the <em>printable</em>
subset of the Unicode character set.
The allowed character range explicitly excludes the C0 control block
<strong><code class="language-plaintext highlighter-rouge">#x0-#x1F</code></strong> (except for TAB <strong><code class="language-plaintext highlighter-rouge">#x9</code></strong>, LF <strong><code class="language-plaintext highlighter-rouge">#xA</code></strong>, and CR <strong><code class="language-plaintext highlighter-rouge">#xD</code></strong> which
are allowed), DEL <strong><code class="language-plaintext highlighter-rouge">#x7F</code></strong>, the C1 control block <strong><code class="language-plaintext highlighter-rouge">#x80-#x9F</code></strong> (except for
NEL <strong><code class="language-plaintext highlighter-rouge">#x85</code></strong> which is allowed), the surrogate block <strong><code class="language-plaintext highlighter-rouge">#xD800-#xDFFF</code></strong>,
<strong><code class="language-plaintext highlighter-rouge">#xFFFE</code></strong>, and <strong><code class="language-plaintext highlighter-rouge">#xFFFF</code></strong>.</p>

<p>On input, a YAML <a href="#processor//">processor</a> must accept all Unicode characters
except those explicitly excluded above.</p>

<p>On output, a YAML <a href="#processor//">processor</a> must only produce acceptable
characters.
Any excluded characters must be <a href="#present//">presented</a> using
<a href="#escaping/in double-quoted scalars/">escape</a> sequences.
In addition, any allowed characters known to be non-printable should also be
<a href="#escaping/in double-quoted scalars/">escaped</a>.
This isn’t mandatory since a full implementation would require extensive
character property tables.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1] c-printable ::=
    #x9 | #xA | #xD | [#x20-#x7E]          /* 8 bit */
  | #x85 | [#xA0-#xD7FF] | [#xE000-#xFFFD] /* 16 bit */
  | [#x10000-#x10FFFF]                     /* 32 bit */
</code></pre></div></div>

<p>To ensure <a href="#JSON compatibility//">JSON compatibility</a>, YAML
<a href="#processor//">processors</a> must allow all non-control characters inside <a href="#style/flow/double-quoted">quoted
scalars</a>.
To ensure readability, non-printable characters should be
<a href="#escaping/in double-quoted scalars/">escaped</a> on output, even inside such
<a href="#style/flow/double-quoted">scalars</a>.
Note that JSON <a href="#style/flow/double-quoted">quoted scalars</a> cannot span multiple
lines or contain <a href="#tab//">tabs</a>, but YAML <a href="#style/flow/double-quoted">quoted
scalars</a> can.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2] nb-json ::=
  #x9 | [#x20-#x10FFFF]
</code></pre></div></div>

<h2 id="52character-encodings">5.2. Character Encodings</h2>

<p>All characters mentioned in this specification are Unicode code points.
Each such code point is written as one or more bytes depending on the
<em>character encoding</em> used.
Note that in UTF-16, characters above <strong><code class="language-plaintext highlighter-rouge">#xFFFF</code></strong> are written as four bytes,
using a surrogate pair.</p>

<p>The character encoding is a <a href="#presentation/detail/">presentation detail</a> and
must not be used to convey <a href="#content//">content</a> information.</p>

<p>On input, a YAML <a href="#processor//">processor</a> must support the UTF-8 and UTF-16
character encodings.
For <a href="#JSON compatibility//">JSON compatibility</a>, the UTF-32 encodings must also
be supported.</p>

<p>If a character <a href="#stream//">stream</a> begins with a <em>byte order mark</em>, the
character encoding will be taken to be as indicated by the byte order mark.
Otherwise, the <a href="#stream//">stream</a> must begin with an ASCII character.
This allows the encoding to be deduced by the pattern of null (<strong><code class="language-plaintext highlighter-rouge">#x00</code></strong>)
characters.</p>

<p>To make it easier to concatenate <a href="#stream//">streams</a>, byte order marks may
appear at the start of any <a href="#document//">document</a>.
However all <a href="#document//">documents</a> in the same <a href="#stream//">stream</a> must use
the same character encoding.</p>

<p>To allow for <a href="#JSON compatibility//">JSON compatibility</a>, byte order marks are
also allowed inside <a href="#style/flow/double-quoted">quoted scalars</a>.
For readability, such <a href="#content//">content</a> byte order marks should be
<a href="#escaping/in double-quoted scalars/">escaped</a> on output.</p>

<p>The encoding can therefore be deduced by matching the first few bytes of the
<a href="#stream//">stream</a> with the following table rows (in order):</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Byte0</th>
      <th>Byte1</th>
      <th>Byte2</th>
      <th>Byte3</th>
      <th>Encoding</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Explicit BOM</td>
      <td>#x00</td>
      <td>#x00</td>
      <td>#xFE</td>
      <td>#xFF</td>
      <td>UTF-32BE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>#x00</td>
      <td>#x00</td>
      <td>#x00</td>
      <td>any</td>
      <td>UTF-32BE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>#xFF</td>
      <td>#xFE</td>
      <td>#x00</td>
      <td>#x00</td>
      <td>UTF-32LE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>any</td>
      <td>#x00</td>
      <td>#x00</td>
      <td>#x00</td>
      <td>UTF-32LE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>#xFE</td>
      <td>#xFF</td>
      <td> </td>
      <td> </td>
      <td>UTF-16BE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>#x00</td>
      <td>any</td>
      <td> </td>
      <td> </td>
      <td>UTF-16BE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>#xFF</td>
      <td>#xFE</td>
      <td> </td>
      <td> </td>
      <td>UTF-16LE</td>
    </tr>
    <tr>
      <td>ASCII first character</td>
      <td>any</td>
      <td>#x00</td>
      <td> </td>
      <td> </td>
      <td>UTF-16LE</td>
    </tr>
    <tr>
      <td>Explicit BOM</td>
      <td>#xEF</td>
      <td>#xBB</td>
      <td>#xBF</td>
      <td> </td>
      <td>UTF-8</td>
    </tr>
    <tr>
      <td>Default</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td>UTF-8</td>
    </tr>
  </tbody>
</table>

<p>The recommended output encoding is UTF-8.
If another encoding is used, it is recommended that an explicit byte order mark
be used, even if the first <a href="#stream//">stream</a> character is ASCII.</p>

<p>For more information about the byte order mark and the Unicode character
encoding schemes see the <a href="http://www.unicode.org/unicode/faq/utf_bom.html">Unicode
FAQ</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[3] c-byte-order-mark ::= #xFEFF
</code></pre></div></div>

<p>In the examples, byte order mark characters are displayed as “<strong><code class="language-plaintext highlighter-rouge">⇔</code></strong>”.</p>

<p><strong>Example 5.1. Byte Order Mark</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`⇔`\# Comment only.

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-byte-order-mark](#c-byte-order-mark)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># This stream contains no
# documents, only comments.
</code></pre></div></div>

<p><strong>Example 5.2. Invalid Byte Order Mark</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Invalid use of BOM
`⇔`
- Inside a document.
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
 A `BOM` must not appear
 inside a document.
</code></pre></div></div>

<h2 id="53indicator-characters">5.3. Indicator Characters</h2>

<p><em>Indicators</em> are characters that have special semantics.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[4] c-sequence-entry ::= "-"
</code></pre></div></div>

<p>A <a href="#- block sequence entry//">“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x2D</code></strong>, hyphen) denotes a <a href="#style/block/sequence">block sequence</a> entry.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[5] c-mapping-key ::= "?"
</code></pre></div></div>

<p>A <a href="#? mapping key//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x3F</code></strong>, question mark) denotes a <a href="#key//">mapping key</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[6] c-mapping-value ::= ":"
</code></pre></div></div>

<p>A <a href="#: mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x3A</code></strong>, colon) denotes a <a href="#value//">mapping value</a>.</p>

<p><strong>Example 5.3. Block Structure Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sequence:
`-` one
`-` two
mapping:
  `?` sky
  : blue
  sea : green
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-sequence-entry](#c-sequence-entry)`
  `[c-mapping-key](#c-mapping-key)` [c-mapping-value](#c-mapping-value)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "sequence"
  : !!seq [ !!str "one", !!str "two" ],
  ? !!str "mapping"
  : !!map {
    ? !!str "sky" : !!str "blue",
    ? !!str "sea" : !!str "green",
  },
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[7] c-collect-entry ::= ","
</code></pre></div></div>

<p>A <a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x2C</code></strong>, comma) ends a <a href="#style/flow/collection">flow collection</a> entry.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[8] c-sequence-start ::= "["
</code></pre></div></div>

<p>A <a href="#[ start flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x5B</code></strong>, left bracket) starts a <a href="#style/flow/sequence">flow sequence</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[9] c-sequence-end ::= "]"
</code></pre></div></div>

<p>A <a href="#] end flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x5D</code></strong>, right bracket) ends a <a href="#style/flow/sequence">flow sequence</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[10] c-mapping-start ::= "{"
</code></pre></div></div>

<p>A <a href="#{ start flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x7B</code></strong>, left brace) starts a <a href="#style/flow/mapping">flow mapping</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[11] c-mapping-end ::= "}"
</code></pre></div></div>

<p>A <a href="#} end flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x7D</code></strong>, right brace) ends a <a href="#style/flow/mapping">flow mapping</a>.</p>

<p><strong>Example 5.4. Flow Collection Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sequence: `[` one, two, `]`
mapping: `{` sky: blue, sea: green `}`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-sequence-start](#c-sequence-start)` `[c-sequence-end](#c-sequence-end)`
  `[c-mapping-start](#c-mapping-start)`  `[c-mapping-end](#c-mapping-end)`
  [c-collect-entry](#c-collect-entry)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "sequence"
  : !!seq [ !!str "one", !!str "two" ],
  ? !!str "mapping"
  : !!map {
    ? !!str "sky" : !!str "blue",
    ? !!str "sea" : !!str "green",
  },
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[12] c-comment ::= "#"
</code></pre></div></div>

<p>An <a href="## comment//">“<strong><code class="language-plaintext highlighter-rouge">#</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x23</code></strong>, octothorpe, hash, sharp, pound, number sign) denotes a <a href="#comment//">comment</a>.</p>

<p><strong>Example 5.5. Comment Indicator</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`#` Comment only.

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-comment](#c-comment)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># This stream contains no
# documents, only comments.
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[13] c-anchor ::= "&amp;"
</code></pre></div></div>

<p>An <a href="#&amp; anchor//">“<strong><code class="language-plaintext highlighter-rouge">&amp;</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x26</code></strong>, ampersand) denotes a <a href="#anchor//">node’s anchor property</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[14] c-alias ::= "*"
</code></pre></div></div>

<p>An <a href="#* alias//">“<strong><code class="language-plaintext highlighter-rouge">*</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x2A</code></strong>, asterisk) denotes an <a href="#alias//">alias node</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[15] c-tag ::= "!"
</code></pre></div></div>

<p>The <a href="#! tag indicator//">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x21</code></strong>, exclamation) is heavily overloaded for specifying <a href="#tag//">node tags</a>. It is used to denote <a href="#tag/handle/">tag handles</a> used in <a href="#directive/TAG/">tag directives</a> and <a href="#tag/property/">tag properties</a>; to denote <a href="#tag/local/">local tags</a>; and as the <a href="#tag/non-specific/">non-specific tag</a> for non-<a href="#style/flow/plain">plain scalars</a>.</p>

<p><strong>Example 5.6. Node Property Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>anchored: `!`local `&amp;`anchor value
alias: *anchor
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-tag](#c-tag)` `[c-anchor](#c-anchor)` [c-alias](#c-alias)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "anchored"
  : !local &amp;A1 "value",
  ? !!str "alias"
  : *A1,
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[16] c-literal ::= "|"
</code></pre></div></div>

<table>
  <tbody>
    <tr>
      <td>A [“<strong><code class="language-plaintext highlighter-rouge">|</code></strong>”](#</td>
      <td>literal style//) (<strong><code class="language-plaintext highlighter-rouge">7C</code></strong>, vertical bar) denotes a <a href="#style/block/literal">literal block scalar</a>.</td>
    </tr>
  </tbody>
</table>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[17] c-folded ::= "&gt;"
</code></pre></div></div>

<p>A <a href="#&gt; folded style//">“<strong><code class="language-plaintext highlighter-rouge">&gt;</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x3E</code></strong>, greater than) denotes a <a href="#style/block/folded">folded block scalar</a>.</p>

<p><strong>Example 5.7. Block Scalar Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>literal: `|`
  some
  text
folded: `&gt;`
  some
  text
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-literal](#c-literal)` `[c-folded](#c-folded)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "literal"
  : !!str "some\\ntext\\n",
  ? !!str "folded"
  : !!str "some text\\n",
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[18] c-single-quote ::= "'"
</code></pre></div></div>

<p>An <a href="#' single-quoted style//">“<strong><code class="language-plaintext highlighter-rouge">'</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x27</code></strong>, apostrophe, single quote) surrounds a <a href="#style/flow/single-quoted">single-quoted flow scalar</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[19] c-double-quote ::= '"'
</code></pre></div></div>

<p>A <a href="#&quot; double-quoted style//">“<strong><code class="language-plaintext highlighter-rouge">"</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x22</code></strong>, double quote) surrounds a <a href="#style/flow/double-quoted">double-quoted flow scalar</a>.</p>

<p><strong>Example 5.8. Quoted Scalar Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>single: `'`text`'`
double: `"`text`"`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-single-quote](#c-single-quote)` `[c-double-quote](#c-double-quote)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "single"
  : !!str "text",
  ? !!str "double"
  : !!str "text",
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[20] c-directive ::= "%"
</code></pre></div></div>

<p>A <a href="#% directive//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> (<strong><code class="language-plaintext highlighter-rouge">#x25</code></strong>, percent) denotes a <a href="#directive//">directive</a> line.</p>

<p><strong>Example 5.9. Directive Indicator</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`%`YAML 1.2
--- text
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-directive](#c-directive)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "text"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[21] c-reserved ::=
  "@" | "`"
</code></pre></div></div>

<p>The <em>“<strong><code class="language-plaintext highlighter-rouge">@</code></strong>“</em> (<strong><code class="language-plaintext highlighter-rouge">#x40</code></strong>, at) and <em>“<strong>```</strong>“</em> (<strong><code class="language-plaintext highlighter-rouge">#x60</code></strong>, grave accent) are <em>reserved</em> for future use.</p>

<p><strong>Example 5.10. Invalid use of Reserved Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>commercial-at: `@`text
grave-accent: ```text
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
 `Reserved indicators` can't
 start a plain scalar.
</code></pre></div></div>

<p>Any indicator character:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[22] c-indicator ::=
    "-" | "?" | ":" | "," | "[" | "]" | "{" | "}"
  | "#" | "&amp;" | "*" | "!" | "|" | "&gt;" | "'" | '"'
  | "%" | "@" | "`"
</code></pre></div></div>

<p>The <a href="#[ start flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>”</a>, <a href="#] end flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>”</a>,
<a href="#{ start flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>”</a>, <a href="#} end flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”</a> and
<a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> indicators denote structure in <a href="#style/flow/collection">flow
collections</a>.
They are therefore forbidden in some cases, to avoid ambiguity in several
constructs.
This is handled on a case-by-case basis by the relevant productions.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[23] c-flow-indicator ::=
  "," | "[" | "]" | "{" | "}"
</code></pre></div></div>

<h2 id="54line-break-characters">5.4. Line Break Characters</h2>

<p>YAML recognizes the following ASCII <em>line break</em> characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[24] b-line-feed ::=
  #xA    /* LF */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[25] b-carriage-return ::=
  #xD    /* CR */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[26] b-char ::=
  b-line-feed | b-carriage-return
</code></pre></div></div>

<p>All other characters, including the form feed (<strong><code class="language-plaintext highlighter-rouge">#x0C</code></strong>), are considered to
be non-break characters.
Note that these include the <em>non-ASCII line breaks</em>: next line (<strong><code class="language-plaintext highlighter-rouge">#x85</code></strong>),
line separator (<strong><code class="language-plaintext highlighter-rouge">#x2028</code></strong>) and paragraph separator (<strong><code class="language-plaintext highlighter-rouge">#x2029</code></strong>).</p>

<p><a href="#YAML 1.1 processing//">YAML version 1.1</a> did support the above non-ASCII line
break characters; however, JSON does not.
Hence, to ensure <a href="#JSON compatibility//">JSON compatibility</a>, YAML treats them
as non-break characters as of version 1.2.
In theory this would cause incompatibility with <a href="#YAML 1.1
processing//">version 1.1</a>; in practice these characters were rarely (if ever) used.
YAML 1.2 <a href="#processor//">processors</a> <a href="#parse//">parsing</a> a <a href="#YAML
1.1 processing//">version 1.1</a> <a href="#document//">document</a> should therefore treat these line
breaks as non-break characters, with an appropriate warning.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[27] nb-char ::=
  c-printable - b-char - c-byte-order-mark
</code></pre></div></div>

<p>Line breaks are interpreted differently by different systems, and have several
widely used formats.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[28] b-break ::=
    ( b-carriage-return b-line-feed ) /* DOS, Windows */
  | b-carriage-return                 /* MacOS upto 9.x */
  | b-line-feed                       /* UNIX, MacOS X */
</code></pre></div></div>

<p>Line breaks inside <a href="#scalar//">scalar content</a> must be <em>normalized</em> by the YAML
<a href="#processor//">processor</a>.
Each such line break must be <a href="#parse//">parsed</a> into a single line feed
character.
The original line break format is a <a href="#presentation/detail/">presentation
detail</a> and must not be used to convey
<a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[29] b-as-line-feed ::= b-break
</code></pre></div></div>

<p>Outside <a href="#scalar//">scalar content</a>, YAML allows any line break to be used to
terminate lines.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[30] b-non-content ::= b-break
</code></pre></div></div>

<p>On output, a YAML <a href="#processor//">processor</a> is free to emit line breaks using
whatever convention is most appropriate.</p>

<p>In the examples, line breaks are sometimes displayed using the “<strong><code class="language-plaintext highlighter-rouge">↓</code></strong>” glyph
for clarity.</p>

<p><strong>Example 5.11. Line Break Characters</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|
  Line break (no glyph)
  Line break (glyphed)`↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[b-break](#b-break)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "line break (no glyph)\\n\\
      line break (glyphed)\\n"
</code></pre></div></div>

<h2 id="55white-space-characters">5.5. White Space Characters</h2>

<p>YAML recognizes two <em>white space</em> characters: <em>space</em> and <em>tab</em>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[31] s-space ::=
  #x20 /* SP */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[32] s-tab ::=
  #x9  /* TAB */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[33] s-white ::=
  s-space | s-tab
</code></pre></div></div>

<p>The rest of the (<a href="#printable character//">printable</a>) non-<a href="#line
break//">break</a> characters are considered to be non-space characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[34] ns-char ::=
  nb-char - s-white
</code></pre></div></div>

<p>In the examples, tab characters are displayed as the glyph “<strong><code class="language-plaintext highlighter-rouge">→</code></strong>”.
Space characters are sometimes displayed as the glyph “<strong><code class="language-plaintext highlighter-rouge">·</code></strong>” for clarity.</p>

<p><strong>Example 5.12. Tabs and Spaces</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Tabs and spaces
quoted:`·`"Quoted `→`"
block:`→`|
`··`void main() {
`··``→`printf("Hello, world!\\n");
`··`}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-space](#s-space)` `[s-tab](#s-tab)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "quoted"
  : "Quoted \\t",
  ? !!str "block"
  : "void main() {\\n\\
    \\tprintf(\\"Hello, world!\\\\n\\");\\n\\
    }\\n",
}
</code></pre></div></div>

<h2 id="56miscellaneous-characters">5.6. Miscellaneous Characters</h2>

<p>The YAML syntax productions make use of the following additional character
classes:</p>

<ul>
  <li>A decimal digit for numbers:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[35] ns-dec-digit ::=
  [#x30-#x39] /* 0-9 */
</code></pre></div></div>

<ul>
  <li>A hexadecimal digit for <a href="#escaping/in double-quoted scalars/">escape sequences</a>:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[36] ns-hex-digit ::=
    ns-dec-digit
  | [#x41-#x46] /* A-F */ | [#x61-#x66] /* a-f */
</code></pre></div></div>

<ul>
  <li>ASCII letter (alphabetic) characters:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[37] ns-ascii-letter ::=
  [#x41-#x5A] /* A-Z */ | [#x61-#x7A] /* a-z */
</code></pre></div></div>

<ul>
  <li>Word (alphanumeric) characters for identifiers:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[38] ns-word-char ::=
  ns-dec-digit | ns-ascii-letter | "-"
</code></pre></div></div>

<ul>
  <li>
    <p>URI characters for <a href="#tag//">tags</a>, as specified in
<a href="http://www.ietf.org/rfc/rfc2396.txt">RFC2396</a>, with the addition of the
“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>” and “<strong><code class="language-plaintext highlighter-rouge">]</code></strong>” for presenting IPv6 addresses as proposed in
<a href="http://www.ietf.org/rfc/rfc2732.txt">RFC2732</a>.</p>

    <p>By convention, any URI characters other than the allowed printable ASCII
characters are first <em>encoded</em> in UTF-8, and then each byte is <em>escaped</em> using
the <em>“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>“</em> character.
The YAML <a href="#processor//">processor</a> must not expand such escaped characters.
<a href="#tag//">Tag</a> characters must be preserved and compared exactly as
<a href="#present//">presented</a> in the YAML <a href="#stream//">stream</a>, without any
processing.</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[39] ns-uri-char ::=
    "%" ns-hex-digit ns-hex-digit | ns-word-char | "#"
  | ";" | "/" | "?" | ":" | "@" | "&amp;" | "=" | "+" | "$" | ","
  | "_" | "." | "!" | "~" | "*" | "'" | "(" | ")" | "[" | "]"
</code></pre></div></div>

<ul>
  <li>The <a href="#c-tag">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a> character is used to indicate the end of a <a href="#tag/handle/named">named tag handle</a>; hence its use in <a href="#tag/shorthand/">tag shorthands</a> is restricted. In addition, such <a href="#tag/shorthand/">shorthands</a> must not contain the <a href="#[ start flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>”</a>, <a href="#] end flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>”</a>, <a href="#{ start flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>”</a>, <a href="#} end flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”</a> and <a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> characters. These characters would cause ambiguity with <a href="#style/flow/collection">flow collection</a> structures.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[40] ns-tag-char ::=
  ns-uri-char - "!" - c-flow-indicator
</code></pre></div></div>

<h2 id="57escaped-characters">5.7. Escaped Characters</h2>

<p>All non-<a href="#printable character//">printable</a> characters must be <em>escaped</em>.
YAML escape sequences use the <em>“<strong><code class="language-plaintext highlighter-rouge">\</code></strong>“</em> notation common to most modern
computer languages.
Each escape sequence must be <a href="#parse//">parsed</a> into the appropriate Unicode
character.
The original escape sequence is a <a href="#presentation/detail/">presentation detail</a>
and must not be used to convey <a href="#content//">content</a> information.</p>

<p>Note that escape sequences are only interpreted in <a href="#style/flow/double-quoted">double-quoted
scalars</a>.
In all other <a href="#style/scalar/">scalar styles</a>, the “<strong><code class="language-plaintext highlighter-rouge">\</code></strong>” character has no
special meaning and non-<a href="#printable character//">printable</a> characters are not
available.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[41] c-escape ::= "\"
</code></pre></div></div>

<p>YAML escape sequences are a superset of C’s escape sequences:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[42] ns-esc-null ::= "0"
</code></pre></div></div>

<p>Escaped ASCII null (<strong><code class="language-plaintext highlighter-rouge">#x0</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[43] ns-esc-bell ::= "a"
</code></pre></div></div>

<p>Escaped ASCII bell (<strong><code class="language-plaintext highlighter-rouge">#x7</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[44] ns-esc-backspace ::= "b"
</code></pre></div></div>

<p>Escaped ASCII backspace (<strong><code class="language-plaintext highlighter-rouge">#x8</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[45] ns-esc-horizontal-tab ::=
  "t" | #x9
</code></pre></div></div>

<p>Escaped ASCII horizontal tab (<strong><code class="language-plaintext highlighter-rouge">#x9</code></strong>) character. This is useful at the start or the end of a line to force a leading or trailing tab to become part of the <a href="#content//">content</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[46] ns-esc-line-feed ::= "n"
</code></pre></div></div>

<p>Escaped ASCII line feed (<strong><code class="language-plaintext highlighter-rouge">#xA</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[47] ns-esc-vertical-tab ::= "v"
</code></pre></div></div>

<p>Escaped ASCII vertical tab (<strong><code class="language-plaintext highlighter-rouge">#xB</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[48] ns-esc-form-feed ::= "f"
</code></pre></div></div>

<p>Escaped ASCII form feed (<strong><code class="language-plaintext highlighter-rouge">#xC</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[49] ns-esc-carriage-return ::= "r"
</code></pre></div></div>

<p>Escaped ASCII carriage return (<strong><code class="language-plaintext highlighter-rouge">#xD</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[50] ns-esc-escape ::= "e"
</code></pre></div></div>

<p>Escaped ASCII escape (<strong><code class="language-plaintext highlighter-rouge">#x1B</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[51] ns-esc-space ::= #x20
</code></pre></div></div>

<p>Escaped ASCII space (<strong><code class="language-plaintext highlighter-rouge">#x20</code></strong>) character. This is useful at the start or the end of a line to force a leading or trailing space to become part of the <a href="#content//">content</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[52] ns-esc-double-quote ::= '"'
</code></pre></div></div>

<p>Escaped ASCII double quote (<strong><code class="language-plaintext highlighter-rouge">#x22</code></strong>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[53] ns-esc-slash ::= "/"
</code></pre></div></div>

<p>Escaped ASCII slash (<strong><code class="language-plaintext highlighter-rouge">#x2F</code></strong>), for <a href="#JSON compatibility//">JSON compatibility</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[54] ns-esc-backslash ::= "\"
</code></pre></div></div>

<p>Escaped ASCII back slash (<strong><code class="language-plaintext highlighter-rouge">#x5C</code></strong>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[55] ns-esc-next-line ::= "N"
</code></pre></div></div>

<p>Escaped Unicode next line (<strong><code class="language-plaintext highlighter-rouge">#x85</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[56] ns-esc-non-breaking-space ::= "_"
</code></pre></div></div>

<p>Escaped Unicode non-breaking space (<strong><code class="language-plaintext highlighter-rouge">#xA0</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[57] ns-esc-line-separator ::= "L"
</code></pre></div></div>

<p>Escaped Unicode line separator (<strong><code class="language-plaintext highlighter-rouge">#x2028</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[58] ns-esc-paragraph-separator ::= "P"
</code></pre></div></div>

<p>Escaped Unicode paragraph separator (<strong><code class="language-plaintext highlighter-rouge">#x2029</code></strong>) character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[59] ns-esc-8-bit ::=
  "x"
  ( ns-hex-digit × 2 )
</code></pre></div></div>

<p>Escaped 8-bit Unicode character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[60] ns-esc-16-bit ::=
  "u"
  ( ns-hex-digit × 4 )
</code></pre></div></div>

<p>Escaped 16-bit Unicode character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[61] ns-esc-32-bit ::=
  "U"
  ( ns-hex-digit × 8 )
</code></pre></div></div>

<p>Escaped 32-bit Unicode character.</p>

<p>Any escaped character:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[62] c-ns-esc-char ::=
  "\"
  ( ns-esc-null | ns-esc-bell | ns-esc-backspace
  | ns-esc-horizontal-tab | ns-esc-line-feed
  | ns-esc-vertical-tab | ns-esc-form-feed
  | ns-esc-carriage-return | ns-esc-escape | ns-esc-space
  | ns-esc-double-quote | ns-esc-slash | ns-esc-backslash
  | ns-esc-next-line | ns-esc-non-breaking-space
  | ns-esc-line-separator | ns-esc-paragraph-separator
  | ns-esc-8-bit | ns-esc-16-bit | ns-esc-32-bit )
</code></pre></div></div>

<p><strong>Example 5.13. Escaped Characters</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Fun with `\\`
`\"` `\a` `\b` `\e` `\f` `\↓`
`\n` `\r` `\t` `\v` `\0` `\↓`
`\ ` `\_` `\N` `\L` `\P` `\↓`
`\x41` `\u0041` `\U00000041`"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-ns-esc-char](#c-ns-esc-char)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
"Fun with \\x5C
\x22 \\x07 \\x08 \\x1B \\x0C
\x0A \\x0D \\x09 \\x0B \\x00
\x20 \\xA0 \\x85 \\u2028 \\u2029
A A A"
</code></pre></div></div>

<p><strong>Example 5.14. Invalid Escaped Characters</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bad escapes:
  "\\`c`
  \\x`q-`"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
- `c` is an invalid escaped character.
- `q` and `-` are invalid hex digits.
</code></pre></div></div>

<h1 id="chapter6basic-structures">Chapter 6. Basic Structures</h1>

<h2 id="61indentation-spaces">6.1. Indentation Spaces</h2>

<p>In YAML <a href="#style/block/">block styles</a>, structure is determined by <em>indentation</em>.
In general, indentation is defined as a zero or more <a href="#space//">space</a>
characters at the start of a line.</p>

<p>To maintain portability, <a href="#tab//">tab</a> characters must not be used in
indentation, since different systems treat <a href="#tab//">tabs</a> differently.
Note that most modern editors may be configured so that pressing the
<a href="#tab//">tab</a> key results in the insertion of an appropriate number of
<a href="#space//">spaces</a>.</p>

<p>The amount of indentation is a <a href="#presentation/detail/">presentation detail</a> and
must not be used to convey <a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[63] s-indent(n) ::=
  s-space × n
</code></pre></div></div>

<p>A <a href="#style/block/">block style</a> construct is terminated when encountering a line
which is less indented than the construct.
The productions use the notation “<strong><code class="language-plaintext highlighter-rouge">s-indent(&lt;n)</code></strong>” and “<strong><code class="language-plaintext highlighter-rouge">s-indent(≤n)</code></strong>”
to express this.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[64] s-indent(&lt;n) ::=
  s-space × m /* Where m &lt; n */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[65] s-indent(≤n) ::=
  s-space × m /* Where m ≤ n */
</code></pre></div></div>

<p>Each <a href="#node//">node</a> must be indented further than its parent <a href="#node//">node</a>.
All sibling <a href="#node//">nodes</a> must use the exact same indentation level.
However the <a href="#content//">content</a> of each sibling <a href="#node//">node</a> may be
further indented independently.</p>

<p><strong>Example 6.1. Indentation Spaces</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>··\# Leading comment line spaces are
···\# neither content nor indentation.
····
Not indented:
`·`By one space: |
`····`By four
`····``··`spaces
`·`Flow style: [    # Leading spaces
`··`·By two,        # in flow style
`··`Also by two,    # are neither
`··`→Still by two   # content nor
`··`··]             # indentation.
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-indent(n)](#s-indent(n))` `Content`
  Neither content nor indentation

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
- - -
!!map {
  ? !!str "Not indented"
  : !!map {
      ? !!str "By one space"
      : !!str "By four\\n  spaces\\n",
      ? !!str "Flow style"
      : !!seq [
          !!str "By two",
          !!str "Also by two",
          !!str "Still by two",
        ]
    }
}
</code></pre></div></div>

<p>The <a href="#- block sequence entry//">“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>”</a>, <a href="#? mapping key//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>”</a> and
<a href="#: mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”</a> characters used to denote <a href="#style/block/collection">block
collection</a> entries are perceived by people to be part
of the indentation.
This is handled on a case-by-case basis by the relevant productions.</p>

<p><strong>Example 6.2. Indentation Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`?`·a
`:`·`-`→b
``··`-`··`-`→c
``·····`-`·d
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `Total Indentation`
  `[s-indent(n)](#s-indent(n))` Indicator as indentation

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "a"
  : !!seq [
    !!str "b",
    !!seq [ !!str "c", !!str "d" ]
  ],
}
</code></pre></div></div>

<h2 id="62separation-spaces">6.2. Separation Spaces</h2>

<p>Outside <a href="#space/indentation/">indentation</a> and <a href="#scalar//">scalar content</a>,
YAML uses <a href="#space/white/">white space</a> characters for <em>separation</em> between
tokens within a line.
Note that such <a href="#space/white/">white space</a> may safely include <a href="#tab//">tab</a>
characters.</p>

<p>Separation spaces are a <a href="#presentation/detail/">presentation detail</a> and must
not be used to convey <a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[66] s-separate-in-line ::=
  s-white+ | /* Start of line */
</code></pre></div></div>

<p><strong>Example 6.3. Separation Spaces</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-`·`foo:`→·`bar
- -`·`baz
  -`→`baz
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-separate-in-line](#s-separate-in-line)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!map {
    ? !!str "foo" : !!str "bar",
  },
  !!seq [ !!str "baz", !!str "baz" ],
]
</code></pre></div></div>

<h2 id="63line-prefixes">6.3. Line Prefixes</h2>

<p>Inside <a href="#scalar//">scalar content</a>, each line begins with a
non-<a href="#content//">content</a> <em>line prefix</em>.
This prefix always includes the <a href="#space/indentation/">indentation</a>.
For <a href="#style/flow/scalar">flow scalar styles</a> it additionally includes all
leading <a href="#space/white/">white space</a>, which may contain <a href="#tab//">tab</a>
characters.</p>

<p>Line prefixes are a <a href="#presentation/detail/">presentation detail</a> and must not
be used to convey <a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[67] s-line-prefix(n,c) ::=
  c = block-out ⇒ s-block-line-prefix(n)
  c = block-in  ⇒ s-block-line-prefix(n)
  c = flow-out  ⇒ s-flow-line-prefix(n)
  c = flow-in   ⇒ s-flow-line-prefix(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[68] s-block-line-prefix(n) ::= s-indent(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[69] s-flow-line-prefix(n) ::=
  s-indent(n) s-separate-in-line?
</code></pre></div></div>

<p><strong>Example 6.4. Line Prefixes</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plain: text
`··`lines
quoted: "text
`··→`lines"
block: |
`··`text
`··`·→lines
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-flow-line-prefix(n)](#s-flow-line-prefix(n))` `[s-block-line-prefix(n)](#s-block-line-prefix(n))` [s-indent(n)](#s-indent(n))

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "plain"
  : !!str "text lines",
  ? !!str "quoted"
  : !!str "text lines",
  ? !!str "block"
  : !!str "text\\n·→lines\\n",
}
</code></pre></div></div>

<h2 id="64empty-lines">6.4. Empty Lines</h2>

<p>An <em>empty line</em> line consists of the non-<a href="#content//">content</a> <a href="#line
prefix//">prefix</a> followed by a <a href="#line break//">line break</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[70] l-empty(n,c) ::=
  ( s-line-prefix(n,c) | s-indent(&lt;n) )
  b-as-line-feed
</code></pre></div></div>

<p>The semantics of empty lines depend on the <a href="#style/scalar/">scalar style</a> they
appear in.
This is handled on a case-by-case basis by the relevant productions.</p>

<p><strong>Example 6.5. Empty Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Folding:
  "Empty line
`···→`
  as a line feed"
Chomping: |
  Clipped empty lines
`·`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[l-empty(n,c)](#l-empty(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "Folding"
  : !!str "Empty line\\nas a line feed",
  ? !!str "Chomping"
  : !!str "Clipped empty lines\\n",
}
</code></pre></div></div>

<h2 id="65line-folding">6.5. Line Folding</h2>

<p><em>Line folding</em> allows long lines to be broken for readability, while retaining
the semantics of the original long line.
If a <a href="#line break//">line break</a> is followed by an <a href="#empty line//">empty line</a>,
it is <em>trimmed</em>; the first <a href="#line break//">line break</a> is discarded and the
rest are retained as <a href="#content//">content</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[71] b-l-trimmed(n,c) ::=
  b-non-content l-empty(n,c)+
</code></pre></div></div>

<p>Otherwise (the following line is not <a href="#empty line//">empty</a>), the <a href="#line break//">line
break</a> is converted to a single <a href="#space//">space</a> (<strong><code class="language-plaintext highlighter-rouge">#x20</code></strong>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[72] b-as-space ::= b-break
</code></pre></div></div>

<p>A folded non-<a href="#empty line//">empty line</a> may end with either of the above <a href="#line break//">line
breaks</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[73] b-l-folded(n,c) ::=
  b-l-trimmed(n,c) | b-as-space
</code></pre></div></div>

<p><strong>Example 6.6. Line Folding</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;-
  trimmed`↓
··↓
·↓
↓`
  as`↓`
  space
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "trimmed\\n\\n\\nas space"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[b-l-trimmed(n,c)](#b-l-trimmed(n,c))`
   `[b-as-space](#b-as-space)`

</code></pre></div></div>

<p>The above rules are common to both the <a href="#style/block/folded">folded block
style</a> and the <a href="#style/flow/scalar">scalar flow styles</a>.
Folding does distinguish between these cases in the following way:</p>

<p>Block Folding</p>

<p>In the <a href="#style/block/folded">folded block style</a>, the final <a href="#line
break//">line break</a> and trailing <a href="#empty line//">empty lines</a> are subject to
<a href="#chomping//">chomping</a>, and are never folded.
In addition, folding does not apply to <a href="#line break//">line breaks</a> surrounding
text lines that contain leading <a href="#space/white/">white space</a>.
Note that such a <a href="#more-indented//">more-indented</a> line may consist only of
such leading <a href="#space/white/">white space</a>.</p>

<p>The combined effect of the <em>block line folding</em> rules is that each “paragraph”
is interpreted as a line, <a href="#empty line//">empty lines</a> are interpreted as a
line feed, and the formatting of <a href="#more-indented//">more-indented</a> lines is
preserved.</p>

<p><strong>Example 6.7. Block Folding</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;
`··`foo·`↓`
`·↓`
`··`→·bar`↓`
`↓`
`··`baz↓
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
--- !!str
"foo \\n\\n\\t bar\\n\\nbaz\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[b-l-folded(n,c)](#b-l-folded(n,c))`
   `Non-content spaces` Content spaces

</code></pre></div></div>

<p>Flow Folding</p>

<p>Folding in <a href="#style/flow/">flow styles</a> provides more relaxed semantics. <a href="#style/flow/">Flow
styles</a> typically depend on explicit <a href="#indicator//">indicators</a>
rather than <a href="#space/indentation/">indentation</a> to convey structure.
Hence spaces preceding or following the text in a line are a <a href="#presentation/detail/">presentation
detail</a> and must not be used to convey
<a href="#content//">content</a> information.
Once all such spaces have been discarded, all <a href="#line break//">line breaks</a> are
folded, without exception.</p>

<p>The combined effect of the <em>flow line folding</em> rules is that each “paragraph”
is interpreted as a line, <a href="#empty line//">empty lines</a> are interpreted as line
feeds, and text can be freely <a href="#more-indented//">more-indented</a> without
affecting the <a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[74] s-flow-folded(n) ::=
  s-separate-in-line? b-l-folded(n,flow-in)
  s-flow-line-prefix(n)
</code></pre></div></div>

<p><strong>Example 6.8. Flow Folding</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"`↓
`··``foo``·`↓
`·`↓
`··→·``bar`↓
↓
`··``baz`↓` "
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
--- !!str
" foo\\nbar\\nbaz "
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[s-flow-folded(n)](#s-flow-folded(n))`
   `Non-content spaces`

</code></pre></div></div>

<h2 id="66comments">6.6. Comments</h2>

<p>An explicit <em>comment</em> is marked by a <em>“<strong><code class="language-plaintext highlighter-rouge">#</code></strong>” indicator</em>.
Comments are a <a href="#presentation/detail/">presentation detail</a> and must not be
used to convey <a href="#content//">content</a> information.</p>

<p>Comments must be <a href="#space/separation/">separated</a> from other tokens by <a href="#space/white/">white
space</a> characters.
To ensure <a href="#JSON compatibility//">JSON compatibility</a>, YAML
<a href="#processor//">processors</a> must allow for the omission of the final comment
<a href="#line break//">line break</a> of the input <a href="#stream//">stream</a>.
However, as this confuses many tools, YAML <a href="#processor//">processors</a> should
terminate the <a href="#stream//">stream</a> with an explicit <a href="#line break//">line break</a>
on output.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[75] c-nb-comment-text ::=
  "#" nb-char*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[76] b-comment ::=
  b-non-content | /* End of file */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[77] s-b-comment ::=
  ( s-separate-in-line c-nb-comment-text? )?
  b-comment
</code></pre></div></div>

<p><strong>Example 6.9. Separated Comment</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>key:····`# Comment``↓`
  value`_eof_`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-nb-comment-text](#c-nb-comment-text)` `[b-comment](#b-comment)`
  [s-b-comment](#s-b-comment)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "key"
  : !!str "value",
}
</code></pre></div></div>

<p>Outside <a href="#scalar//">scalar content</a>, comments may appear on a line of their
own, independent of the <a href="#space/indentation/">indentation</a> level.
Note that outside <a href="#scalar//">scalar content</a>, a line containing only <a href="#space/white/">white
space</a> characters is taken to be a comment line.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[78] l-comment ::=
  s-separate-in-line c-nb-comment-text? b-comment
</code></pre></div></div>

<p><strong>Example 6.10. Comment Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`··`# Comment↓``
`···`↓``
``↓``
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># This stream contains no
# documents, only comments.
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[s-b-comment](#s-b-comment)` `[l-comment](#l-comment)`

</code></pre></div></div>

<p>In most cases, when a line may end with a comment, YAML allows it to be
followed by additional comment lines.
The only exception is a comment ending a <a href="#block scalar
header//">block scalar header</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[79] s-l-comments ::=
  ( s-b-comment | /* Start of line */ )
  l-comment*
</code></pre></div></div>

<p><strong>Example 6.11. Multi-Line Comments</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>key:`····# Comment↓`
`········# lines↓`
  value`↓`
`↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "key"
  : !!str "value",
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-b-comment](#s-b-comment)` `[l-comment](#l-comment)` [s-l-comments](#s-l-comments)

</code></pre></div></div>

<h2 id="67separation-lines">6.7. Separation Lines</h2>

<p><a href="#key/implicit/">Implicit keys</a> are restricted to a single line.
In all other cases, YAML allows tokens to be separated by multi-line (possibly
empty) <a href="#comment//">comments</a>.</p>

<p>Note that structures following multi-line comment separation must be properly
<a href="#space/indentation/">indented</a>, even though there is no such restriction on
the separation <a href="#comment//">comment</a> lines themselves.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[80] s-separate(n,c) ::=
  c = block-out ⇒ s-separate-lines(n)
  c = block-in  ⇒ s-separate-lines(n)
  c = flow-out  ⇒ s-separate-lines(n)
  c = flow-in   ⇒ s-separate-lines(n)
  c = block-key ⇒ s-separate-in-line
  c = flow-key  ⇒ s-separate-in-line
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[81] s-separate-lines(n) ::=
    ( s-l-comments s-flow-line-prefix(n) )
  | s-separate-in-line
</code></pre></div></div>

<p><strong>Example 6.12. Separation Spaces</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{`·`first:`·`Sammy,`·`last:`·`Sosa`·`}:`↓
# Statistics:
··`hr:`··# Home runs
·····`65
··avg:`·# Average
···`0.278
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-separate-in-line](#s-separate-in-line)`
  `[s-separate-lines(n)](#s-separate-lines(n))`
  [s-indent(n)](#s-indent(n))

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!map {
    ? !!str "first"
    : !!str "Sammy",
    ? !!str "last"
    : !!str "Sosa",
  }
  : !!map {
    ? !!str "hr"
    : !!int "65",
    ? !!str "avg"
    : !!float "0.278",
  },
}
</code></pre></div></div>

<h2 id="68directives">6.8. Directives</h2>

<p><em>Directives</em> are instructions to the YAML <a href="#processor//">processor</a>.
This specification defines two directives, <a href="#directive/YAML/">“<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>”</a> and
<a href="#directive/TAG/">“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>”</a>, and <em>reserves</em> all other directives for future
use.
There is no way to define private directives.
This is intentional.</p>

<p>Directives are a <a href="#presentation/detail/">presentation detail</a> and must not be
used to convey <a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[82] l-directive ::=
  "%"
  ( ns-yaml-directive
  | ns-tag-directive
  | ns-reserved-directive )
  s-l-comments
</code></pre></div></div>

<p>Each directive is specified on a separate non-<a href="#space/indentation/">indented</a>
line starting with the <em>“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>” indicator</em>, followed by the directive name
and a list of parameters.
The semantics of these parameters depends on the specific directive.
A YAML <a href="#processor//">processor</a> should ignore unknown directives with an
appropriate warning.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[83] ns-reserved-directive ::=
  ns-directive-name
  ( s-separate-in-line ns-directive-parameter )*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[84] ns-directive-name ::= ns-char+
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[85] ns-directive-parameter ::= ns-char+
</code></pre></div></div>

<p><strong>Example 6.13. Reserved Directives</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%``FOO`  bar baz` # Should be ignored
               # with a warning.
--- "foo"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
--- !!str
"foo"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-reserved-directive](#ns-reserved-directive)` `[ns-directive-name](#ns-directive-name)` [ns-directive-parameter](#ns-directive-parameter)

</code></pre></div></div>

<h3 id="681yaml-directives">6.8.1. ”<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>” Directives</h3>

<p>The <em>“<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>” directive</em> specifies the version of YAML the
<a href="#document//">document</a> conforms to.
This specification defines version “<strong><code class="language-plaintext highlighter-rouge">1.2</code></strong>”, including recommendations for
<em>YAML 1.1 processing</em>.</p>

<p>A version 1.2 YAML <a href="#processor//">processor</a> must accept
<a href="#document//">documents</a> with an explicit “<strong><code class="language-plaintext highlighter-rouge">%YAML 1.2</code></strong>” directive, as well
as <a href="#document//">documents</a> lacking a “<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>” directive.
Such <a href="#document//">documents</a> are assumed to conform to the 1.2 version
specification. <a href="#document//">Documents</a> with a “<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>” directive
specifying a higher minor version (e.g. “<strong><code class="language-plaintext highlighter-rouge">%YAML 1.3</code></strong>”) should be processed
with an appropriate warning. <a href="#document//">Documents</a> with a “<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>”
directive specifying a higher major version (e.g. “<strong><code class="language-plaintext highlighter-rouge">%YAML 2.0</code></strong>”) should be
rejected with an appropriate error message.</p>

<p>A version 1.2 YAML <a href="#processor//">processor</a> must also accept
<a href="#document//">documents</a> with an explicit “<strong><code class="language-plaintext highlighter-rouge">%YAML 1.1</code></strong>” directive.
Note that version 1.2 is mostly a superset of version 1.1, defined for the
purpose of ensuring <em>JSON compatibility</em>.
Hence a version 1.2 <a href="#processor//">processor</a> should process version 1.1
<a href="#document//">documents</a> as if they were version 1.2, giving a warning on
points of incompatibility (handling of <a href="#line
break/non-ASCII/">non-ASCII line breaks</a>, as described <a href="#non-ASCII line breaks">above</a>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[86] ns-yaml-directive ::=
  "Y" "A" "M" "L"
  s-separate-in-line ns-yaml-version
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[87] ns-yaml-version ::=
  ns-dec-digit+ "." ns-dec-digit+
</code></pre></div></div>

<p><strong>Example 6.14. ”</strong><code class="language-plaintext highlighter-rouge">YAML</code><strong>” directive</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%`YAML `1.3`` # Attempt parsing
           # with a warning
---
"foo"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "foo"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[ns-yaml-directive](#ns-yaml-directive)` `[ns-yaml-version](#ns-yaml-version)`

</code></pre></div></div>

<p>It is an error to specify more than one “<strong><code class="language-plaintext highlighter-rouge">YAML</code></strong>” directive for the same
document, even if both occurrences give the same version number.</p>

<p><strong>Example 6.15. Invalid Repeated YAML directive</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
%`YAML` 1.1
foo
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
The `YAML` directive must only be
given at most once per document.
</code></pre></div></div>

<h3 id="682tag-directives">6.8.2. ”<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” Directives</h3>

<p>The <em>“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive</em> establishes a <a href="#tag/shorthand/">tag shorthand</a>
notation for specifying <a href="#tag//">node tags</a>.
Each “<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive associates a <a href="#tag/handle/">handle</a> with a
<a href="#tag/prefix/">prefix</a>.
This allows for compact and readable <a href="#tag//">tag</a> notation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[88] ns-tag-directive ::=
  "T" "A" "G"
  s-separate-in-line c-tag-handle
  s-separate-in-line ns-tag-prefix
</code></pre></div></div>

<p><strong>Example 6.16. ”</strong><code class="language-plaintext highlighter-rouge">TAG</code><strong>” directive</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%`TAG `!yaml!` tag:yaml.org,2002:`
---
!yaml!str "foo"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "foo"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-tag-directive](#ns-tag-directive)` `[c-tag-handle](#c-tag-handle)` [ns-tag-prefix](#ns-tag-prefix)

</code></pre></div></div>

<p>It is an error to specify more than one “<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive for the same
<a href="#tag/handle/">handle</a> in the same document, even if both occurrences give the
same <a href="#tag/prefix/">prefix</a>.</p>

<p><strong>Example 6.17. Invalid Repeated TAG directive</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG ! !foo
%TAG `!` !foo
bar
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
The TAG directive must only
be given at most once per
`handle` in the same document.
</code></pre></div></div>

<h4 id="6821tag-handles">6.8.2.1. Tag Handles</h4>

<p>The <em>tag handle</em> exactly matches the prefix of the affected <a href="#tag/shorthand/">tag
shorthand</a>.
There are three tag handle variants:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[89] c-tag-handle ::=
    c-named-tag-handle
  | c-secondary-tag-handle
  | c-primary-tag-handle
</code></pre></div></div>

<p>Primary Handle</p>

<p>The <em>primary tag handle</em> is a single <em>“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>“</em> character.
This allows using the most compact possible notation for a single “primary”
name space.
By default, the prefix associated with this handle is <a href="#! tag
indicator/! local tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a>.
Thus, by default, <a href="#tag/shorthand/">shorthands</a> using this handle are
interpreted as <a href="#tag/local/">local tags</a>.</p>

<p>It is possible to override the default behavior by providing an explicit
“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive, associating a different prefix for this handle.
This provides smooth migration from using <a href="#tag/local/">local tags</a> to using
<a href="#tag/global/">global tags</a>, by the simple addition of a single “<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>”
directive.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[90] c-primary-tag-handle ::= "!"
</code></pre></div></div>

<p><strong>Example 6.18. Primary Tag Handle</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Private
`!`foo "bar"
...
# Global
%TAG `!` tag:example.com,2000:app/
---
`!`foo "bar"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!&lt;!foo&gt; "bar"
...
---
!&lt;tag:example.com,2000:app/foo&gt; "bar"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-primary-tag-handle](#c-primary-tag-handle)`

</code></pre></div></div>

<p>Secondary Handle</p>

<p>The <em>secondary tag handle</em> is written as <em>“<strong><code class="language-plaintext highlighter-rouge">!!</code></strong>“</em>.
This allows using a compact notation for a single “secondary” name space.
By default, the prefix associated with this handle is
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:</code></strong>”.
This prefix is used by the <a href="#tag/repository/">YAML tag repository</a>.</p>

<p>It is possible to override this default behavior by providing an explicit
“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive associating a different prefix for this handle.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[91] c-secondary-tag-handle ::=
  "!" "!"
</code></pre></div></div>

<p><strong>Example 6.19. Secondary Tag Handle</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG `!!` tag:example.com,2000:app/
---
`!!`int 1 - 3 # Interval, not integer
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-secondary-tag-handle](#c-secondary-tag-handle)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!&lt;tag:example.com,2000:app/int&gt; "1 - 3"
</code></pre></div></div>

<p>Named Handles</p>

<p>A <em>named tag handle</em> surrounds a non-empty name with <em>“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>“</em> characters.
A handle name must not be used in a <a href="#tag/shorthand/">tag shorthand</a> unless an
explicit “<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>” directive has associated some prefix with it.</p>

<p>The name of the handle is a <a href="#presentation/detail/">presentation detail</a> and
must not be used to convey <a href="#content//">content</a> information.
In particular, the YAML <a href="#processor//">processor</a> need not preserve the handle
name once <a href="#parse//">parsing</a> is completed.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[92] c-named-tag-handle ::=
  "!" ns-word-char+ "!"
</code></pre></div></div>

<p><strong>Example 6.20. Tag Handles</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG `!e!` tag:example.com,2000:app/
---
`!e!`foo "bar"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-named-tag-handle](#c-named-tag-handle)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!&lt;tag:example.com,2000:app/foo&gt; "bar"
</code></pre></div></div>

<h4 id="6822tag-prefixes">6.8.2.2. Tag Prefixes</h4>

<p>There are two <em>tag prefix</em> variants:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[93] ns-tag-prefix ::=
  c-ns-local-tag-prefix | ns-global-tag-prefix
</code></pre></div></div>

<p>Local Tag Prefix</p>

<p>If the prefix begins with a <a href="#! tag indicator/! local tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a>
character, <a href="#tag/shorthand/">shorthands</a> using the <a href="#tag/handle/">handle</a> are
expanded to a <a href="#tag/local/">local tag</a>.
Note that such a <a href="#tag//">tag</a> is intentionally not a valid URI, and its
semantics are specific to the <a href="#application//">application</a>.
In particular, two <a href="#document//">documents</a> in the same <a href="#stream//">stream</a> may
assign different semantics to the same <a href="#tag/local/">local tag</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[94] c-ns-local-tag-prefix ::=
  "!" ns-uri-char*
</code></pre></div></div>

<p><strong>Example 6.21. Local Tag Prefix</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG !m! `!my-`
--- # Bulb here
!m!light fluorescent
...
%TAG !m! `!my-`
--- # Color here
!m!light green
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-ns-local-tag-prefix](#c-ns-local-tag-prefix)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!&lt;!my-light&gt; "fluorescent"
...
%YAML 1.2
---
!&lt;!my-light&gt; "green"
</code></pre></div></div>

<p>Global Tag Prefix</p>

<p>If the prefix begins with a character other than <a href="#! tag indicator/!
local tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a>, it must be a valid URI prefix, and should contain at least the
scheme and the authority. <a href="#tag/shorthand/">Shorthands</a> using the associated
<a href="#tag/handle/">handle</a> are expanded to globally unique URI tags, and their
semantics is consistent across <a href="#application//">applications</a>.
In particular, every <a href="#document//">documents</a> in every <a href="#stream//">stream</a> must
assign the same semantics to the same <a href="#tag/global/">global tag</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[95] ns-global-tag-prefix ::=
  ns-tag-char ns-uri-char*
</code></pre></div></div>

<p><strong>Example 6.22. Global Tag Prefix</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG !e! `tag:example.com,2000:app/`
---
- !e!foo "bar"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-global-tag-prefix](#ns-global-tag-prefix)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!&lt;tag:example.com,2000:app/foo&gt; "bar"
</code></pre></div></div>

<h2 id="69node-properties">6.9. Node Properties</h2>

<p>Each <a href="#node//">node</a> may have two optional <em>properties</em>, <a href="#anchor//">anchor</a>
and <a href="#tag//">tag</a>, in addition to its <a href="#content//">content</a>.
Node properties may be specified in any order before the <a href="#content//">node’s
content</a>.
Either or both may be omitted.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[96] c-ns-properties(n,c) ::=
    ( c-ns-tag-property
      ( s-separate(n,c) c-ns-anchor-property )? )
  | ( c-ns-anchor-property
      ( s-separate(n,c) c-ns-tag-property )? )
</code></pre></div></div>

<p><strong>Example 6.23. Node Properties</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`!!str `&amp;a1`` "foo":
  `!!str` bar
``&amp;a2`` baz : *a1
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-ns-properties(n,c)](#c-ns-properties(n,c))`
  `[c-ns-anchor-property](#c-ns-anchor-property)`
  [c-ns-tag-property](#c-ns-tag-property)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? &amp;B1 !!str "foo"
  : !!str "bar",
  ? !!str "baz"
  : *B1,
}
</code></pre></div></div>

<h3 id="691node-tags">6.9.1. Node Tags</h3>

<p>The <em>tag property</em> identifies the type of the <a href="#native
data structure//">native data structure</a> <a href="#present//">presented</a> by the <a href="#node//">node</a>.
A tag is denoted by the <em>“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>” indicator</em>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[97] c-ns-tag-property ::=
    c-verbatim-tag
  | c-ns-shorthand-tag
  | c-non-specific-tag
</code></pre></div></div>

<p>Verbatim Tags</p>

<p>A tag may be written <em>verbatim</em> by surrounding it with the <em>“<strong><code class="language-plaintext highlighter-rouge">&lt;</code></strong>” and
“<strong><code class="language-plaintext highlighter-rouge">&gt;</code></strong>“</em> characters.
In this case, the YAML <a href="#processor//">processor</a> must deliver the verbatim tag
as-is to the <a href="#application//">application</a>.
In particular, verbatim tags are not subject to <a href="#tag/resolution/">tag
resolution</a>.
A verbatim tag must either begin with a <a href="#! tag indicator/! local
tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a> (a <a href="#tag/local/">local tag</a>) or be a valid URI (a <a href="#tag/global/">global
tag</a>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[98] c-verbatim-tag ::=
  "!" "&lt;" ns-uri-char+ "&gt;"
</code></pre></div></div>

<p><strong>Example 6.24. Verbatim Tags</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`!&lt;tag:yaml.org,2002:str&gt;` foo :
  `!&lt;!bar&gt;` baz
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-verbatim-tag](#c-verbatim-tag)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !&lt;tag:yaml.org,2002:str&gt; "foo"
  : !&lt;!bar&gt; "baz",
}
</code></pre></div></div>

<p><strong>Example 6.25. Invalid Verbatim Tags</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- !&lt;`!`\&gt; foo
- !&lt;`$:?`\&gt; bar
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
- Verbatim tags aren't resolved,
  so `!` is invalid.
- The `$:?` tag is neither a global
  URI tag nor a local tag starting
  with "!".
</code></pre></div></div>

<p>Tag Shorthands</p>

<p>A <em>tag shorthand</em> consists of a valid <a href="#tag/handle/">tag handle</a> followed by a
non-empty suffix.
The <a href="#tag/handle/">tag handle</a> must be associated with a
<a href="#tag/prefix/">prefix</a>, either by default or by using a <a href="#directive/TAG/">“<strong><code class="language-plaintext highlighter-rouge">TAG</code></strong>”
directive</a>.
The resulting <a href="#parse//">parsed</a> <a href="#tag//">tag</a> is the concatenation of the
<a href="#tag/prefix/">prefix</a> and the suffix, and must either begin with
<a href="#! tag indicator/! local tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a> (a <a href="#tag/local/">local tag</a>) or be a
valid URI (a <a href="#tag/global/">global tag</a>).</p>

<p>The choice of <a href="#tag/handle/">tag handle</a> is a <a href="#presentation/detail/">presentation
detail</a> and must not be used to convey
<a href="#content//">content</a> information.
In particular, the <a href="#tag/handle/">tag handle</a> may be discarded once
<a href="#parse//">parsing</a> is completed.</p>

<p>The suffix must not contain any <a href="#! tag indicator/!…! named handle/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a>
character.
This would cause the tag shorthand to be interpreted as having a <a href="#tag/handle/named">named tag
handle</a>.
In addition, the suffix must not contain the <a href="#[ start flow
sequence//">“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>”</a>, <a href="#] end flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>”</a>, <a href="#{ start flow
mapping//">“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>”</a>, <a href="#} end flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”</a> and <a href="#, end flow
entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> characters.
These characters would cause ambiguity with <a href="#style/flow/collection">flow
collection</a> structures.
If the suffix needs to specify any of the above restricted characters, they
must be <a href="#% escaping in URI//">escaped</a> using the <a href="#% escaping in
URI//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> character.
This behavior is consistent with the URI character escaping rules
(specifically, section 2.3 of <a href="http://www.ietf.org/rfc/rfc2396.txt">RFC2396</a>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[99] c-ns-shorthand-tag ::=
  c-tag-handle ns-tag-char+
</code></pre></div></div>

<p><strong>Example 6.26. Tag Shorthands</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG !e! tag:example.com,2000:app/
---
- `!local` foo
- `!!str` bar
- `!e!tag%21` baz
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-ns-shorthand-tag](#c-ns-shorthand-tag)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !&lt;!local&gt; "foo",
  !&lt;tag:yaml.org,2002:str&gt; "bar",
  !&lt;tag:example.com,2000:app/tag!&gt; "baz"
]
</code></pre></div></div>

<p><strong>Example 6.27. Invalid Tag Shorthands</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%TAG !e! tag:example,2000:app/
---
- `!e!` foo
- `!h!`bar baz
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
- The `!o!` handle has no suffix.
- The `!h!` handle wasn't declared.
</code></pre></div></div>

<p>Non-Specific Tags</p>

<p>If a <a href="#node//">node</a> has no tag property, it is assigned a <a href="#tag/non-specific/">non-specific
tag</a> that needs to be <a href="#tag/resolution/">resolved</a> to a
<a href="#tag/specific/">specific</a> one.
This <a href="#tag/non-specific/">non-specific tag</a> is <a href="#! tag indicator/!
non-specific tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”</a> for non-<a href="#style/flow/plain">plain scalars</a> and
<a href="#? non-specific tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>”</a> for all other <a href="#node//">nodes</a>.
This is the only case where the <a href="#style//">node style</a> has any effect on the
<a href="#content//">content</a> information.</p>

<p>It is possible for the tag property to be explicitly set to the <a href="#! tag indicator/! non-specific tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>”
non-specific tag</a>.
By <a href="#tag/resolution/convention">convention</a>, this “disables” <a href="#tag/resolution/">tag
resolution</a>, forcing the <a href="#node//">node</a> to be interpreted as
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>”, “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>”, or
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong>”, according to its <a href="#kind//">kind</a>.</p>

<p>There is no way to explicitly specify the <a href="#?
non-specific tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific</a> tag.
This is intentional.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[100] c-non-specific-tag ::= "!"
</code></pre></div></div>

<p><strong>Example 6.28. Non-Specific Tags</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Assuming conventional resolution:
- "12"
- 12
- `!` 12
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-non-specific-tag](#c-non-specific-tag)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !&lt;tag:yaml.org,2002:str&gt; "12",
  !&lt;tag:yaml.org,2002:int&gt; "12",
  !&lt;tag:yaml.org,2002:str&gt; "12",
]
</code></pre></div></div>

<h3 id="692node-anchors">6.9.2. Node Anchors</h3>

<p>An anchor is denoted by the <em>“<strong><code class="language-plaintext highlighter-rouge">&amp;</code></strong>” indicator</em>.
It marks a <a href="#node//">node</a> for future reference.
An <a href="#alias//">alias node</a> can then be used to indicate additional inclusions of
the anchored <a href="#node//">node</a>.
An anchored <a href="#node//">node</a> need not be referenced by any <a href="#alias//">alias
nodes</a>; in particular, it is valid for all <a href="#node//">nodes</a> to be
anchored.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[101] c-ns-anchor-property ::=
  "&amp;" ns-anchor-name
</code></pre></div></div>

<p>Note that as a <a href="#serialization/detail/">serialization detail</a>, the anchor name
is preserved in the <a href="#serialization//">serialization tree</a>.
However, it is not reflected in the <a href="#representation//">representation</a> graph
and must not be used to convey <a href="#content//">content</a> information.
In particular, the YAML <a href="#processor//">processor</a> need not preserve the anchor
name once the <a href="#representation//">representation</a> is <a href="#compose//">composed</a>.</p>

<p>Anchor names must not contain the <a href="#[ start flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>”</a>,
<a href="#] end flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>”</a>, <a href="#{ start flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>”</a>,
<a href="#} end flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”</a> and <a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a>
characters.
These characters would cause ambiguity with <a href="#style/flow/collection">flow
collection</a> structures.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[102] ns-anchor-char ::=
  ns-char - c-flow-indicator
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[103] ns-anchor-name ::= ns-anchor-char+
</code></pre></div></div>

<p><strong>Example 6.29. Node Anchors</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>First occurrence: `&amp;`anchor`` Value
Second occurrence: *`anchor`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-ns-anchor-property](#c-ns-anchor-property)` `[ns-anchor-name](#ns-anchor-name)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "First occurrence"
  : &amp;A !!str "Value",
  ? !!str "Second occurrence"
  : *A,
}
</code></pre></div></div>

<h1 id="chapter7flow-styles">Chapter 7. Flow Styles</h1>

<p>YAML’s <em>flow styles</em> can be thought of as the natural extension of JSON to
cover <a href="#line folding//">folding</a> long content lines for readability,
<a href="#tag//">tagging</a> nodes to control <a href="#construct//">construction</a> of <a href="#native data structure//">native data
structures</a>, and using <a href="#anchor//">anchors</a> and
<a href="#alias//">aliases</a> to reuse <a href="#construct//">constructed</a> object instances.</p>

<h2 id="71alias-nodes">7.1. Alias Nodes</h2>

<p>Subsequent occurrences of a previously <a href="#serialize//">serialized</a> node are
<a href="#present//">presented</a> as <em>alias nodes</em>.
The first occurrence of the <a href="#node//">node</a> must be marked by an
<a href="#anchor//">anchor</a> to allow subsequent occurrences to be
<a href="#present//">presented</a> as alias nodes.</p>

<p>An alias node is denoted by the <em>“<strong><code class="language-plaintext highlighter-rouge">*</code></strong>” indicator</em>.
The alias refers to the most recent preceding <a href="#node//">node</a> having the same
<a href="#anchor//">anchor</a>.
It is an error for an alias node to use an <a href="#anchor//">anchor</a> that does not
previously occur in the <a href="#document//">document</a>.
It is not an error to specify an <a href="#anchor//">anchor</a> that is not used by any
alias node.</p>

<p>Note that an alias node must not specify any <a href="#node/property/">properties</a> or
<a href="#content//">content</a>, as these were already specified at the first occurrence
of the <a href="#node//">node</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[104] c-ns-alias-node ::=
  "*" ns-anchor-name
</code></pre></div></div>

<p><strong>Example 7.1. Alias Nodes</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>First occurrence: &amp;`anchor` Foo
Second occurrence: `*`anchor``
Override anchor: &amp;`anchor` Bar
Reuse anchor: `*`anchor``
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-ns-alias-node](#c-ns-alias-node)` `[ns-anchor-name](#ns-anchor-name)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "First occurrence"
  : &amp;A !!str "Foo",
  ? !!str "Override anchor"
  : &amp;B !!str "Bar",
  ? !!str "Second occurrence"
  : *A,
  ? !!str "Reuse anchor"
  : *B,
}
</code></pre></div></div>

<h2 id="72empty-nodes">7.2. Empty Nodes</h2>

<p>YAML allows the <a href="#content//">node content</a> to be omitted in many cases.
<a href="#node//">Nodes</a> with empty <a href="#content//">content</a> are interpreted as if they
were <a href="#style/flow/plain">plain scalars</a> with an empty value.
Such <a href="#node//">nodes</a> are commonly resolved to a
<a href="#tag/repository/null">“<strong><code class="language-plaintext highlighter-rouge">null</code></strong>”</a> value.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[105] e-scalar ::=
  /* Empty */
</code></pre></div></div>

<p>In the examples, empty <a href="#scalar//">scalars</a> are sometimes displayed as the
glyph “<strong><code class="language-plaintext highlighter-rouge">°</code></strong>” for clarity.
Note that this glyph corresponds to a position in the characters
<a href="#stream//">stream</a> rather than to an actual character.</p>

<p><strong>Example 7.2. Empty Content</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  foo : !!str`°`,
  !!str`°` : bar,
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[e-scalar](#e-scalar)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "foo" : !!str "",
  ? !!str ""    : !!str "bar",
}
</code></pre></div></div>

<p>Both the <a href="#node/property/">node’s properties</a> and <a href="#content//">node content</a>
are optional.
This allows for a <em>completely empty node</em>.
Completely empty nodes are only valid when following some explicit indication
for their existence.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[106] e-node ::= e-scalar
</code></pre></div></div>

<p><strong>Example 7.3. Completely Empty Flow Nodes</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  ? foo :`°`,
  `°`: bar,
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[e-node](#e-node)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "foo" : !!null "",
  ? !!null ""   : !!str "bar",
}
</code></pre></div></div>

<h2 id="73flow-scalar-styles">7.3. Flow Scalar Styles</h2>

<p>YAML provides three <em>flow scalar styles</em>:
<a href="#style/flow/double-quoted">double-quoted</a>,
<a href="#style/flow/single-quoted">single-quoted</a> and <a href="#style/flow/plain">plain</a>
(unquoted).
Each provides a different trade-off between readability and expressive power.</p>

<p>The <a href="#style/scalar/">scalar style</a> is a <a href="#presentation/detail/">presentation
detail</a> and must not be used to convey
<a href="#content//">content</a> information, with the exception that <a href="#style/flow/plain">plain
scalars</a> are distinguished for the purpose of <a href="#tag/resolution/">tag
resolution</a>.</p>

<h3 id="731double-quoted-style">7.3.1. Double-Quoted Style</h3>

<p>The <em>double-quoted style</em> is specified by surrounding <em>“<strong><code class="language-plaintext highlighter-rouge">"</code></strong>” indicators</em>.
This is the only <a href="#style//">style</a> capable of expressing arbitrary strings, by
using <a href="#\ escaping in double-quoted scalars//">“<strong><code class="language-plaintext highlighter-rouge">\</code></strong>”</a> <a href="#escaping/in double-quoted scalars/">escape
sequences</a>.
This comes at the cost of having to escape the <a href="#\ escaping in
double-quoted scalars//">“<strong><code class="language-plaintext highlighter-rouge">\</code></strong>”</a> and “<strong><code class="language-plaintext highlighter-rouge">"</code></strong>” characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[107] nb-double-char ::=
  c-ns-esc-char | ( nb-json - "\" - '"' )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[108] ns-double-char ::=
  nb-double-char - s-white
</code></pre></div></div>

<p>Double-quoted scalars are restricted to a single line when contained inside an
<a href="#key/implicit/">implicit key</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[109] c-double-quoted(n,c) ::=
  '"' nb-double-text(n,c) '"'
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[110] nb-double-text(n,c) ::=
  c = flow-out  ⇒ nb-double-multi-line(n)
  c = flow-in   ⇒ nb-double-multi-line(n)
  c = block-key ⇒ nb-double-one-line
  c = flow-key  ⇒ nb-double-one-line
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[111] nb-double-one-line ::= nb-double-char*
</code></pre></div></div>

<p><strong>Example 7.4. Double Quoted Implicit Keys</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`"`implicit block key`"` : [
  `"`implicit flow key`"` : value,
 ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[nb-double-one-line](#nb-double-one-line)`
  `[c-double-quoted(n,c)](#c-double-quoted(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "implicit block key"
  : !!seq [
    !!map {
      ? !!str "implicit flow key"
      : !!str "value",
    }
  ]
}
</code></pre></div></div>

<p>In a multi-line double-quoted scalar, <a href="#line break//">line breaks</a> are subject
to <a href="#line folding/flow/">flow line folding</a>, which discards any trailing <a href="#space/white/">white
space</a> characters.
It is also possible to <em>escape</em> the <a href="#line break//">line break</a> character.
In this case, the <a href="#line break//">line break</a> is excluded from the
<a href="#content//">content</a>, and the trailing <a href="#space/white/">white space</a> characters
are preserved.
Combined with the ability to <a href="#escaping/in double-quoted scalars/">escape</a>
<a href="#space/white/">white space</a> characters, this allows double-quoted lines to be
broken at arbitrary positions.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[112] s-double-escaped(n) ::=
  s-white* "\" b-non-content
  l-empty(n,flow-in)* s-flow-line-prefix(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[113] s-double-break(n) ::=
  s-double-escaped(n) | s-flow-folded(n)
</code></pre></div></div>

<p><strong>Example 7.5. Double Quoted Line Breaks</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"folded`·↓`
to a space,`→↓
·↓`
to a line feed, or`·→\↓
·`\\·→non-content"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "folded to a space,\\n\\
      to a line feed, \\
      or \\t \\tnon-content"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-flow-folded(n)](#s-flow-folded(n))` `[s-double-escaped(n)](#s-double-escaped(n))`

</code></pre></div></div>

<p>All leading and trailing <a href="#space/white/">white space</a> characters are excluded
from the <a href="#content//">content</a>.
Each continuation line must therefore contain at least one
non-<a href="#space/white/">space</a> character.
Empty lines, if any, are consumed as part of the <a href="#line
folding//">line folding</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[114] nb-ns-double-in-line ::=
  ( s-white* ns-double-char )*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[115] s-double-next-line(n) ::=
  s-double-break(n)
  ( ns-double-char nb-ns-double-in-line
    ( s-double-next-line(n) | s-white* ) )?
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[116] nb-double-multi-line(n) ::=
  nb-ns-double-in-line
  ( s-double-next-line(n) | s-white* )
</code></pre></div></div>

<p><strong>Example 7.6. Double Quoted Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"`·1st non-empty``↓
↓
·`2nd non-empty```·
→`3rd non-empty``·"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str " 1st non-empty\\n\\
      2nd non-empty \\
      3rd non-empty "
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[nb-ns-double-in-line](#nb-ns-double-in-line)` `[s-double-next-line(n)](#s-double-next-line(n))`

</code></pre></div></div>

<h3 id="732single-quoted-style">7.3.2. Single-Quoted Style</h3>

<p>The <em>single-quoted style</em> is specified by surrounding <em>“<strong><code class="language-plaintext highlighter-rouge">'</code></strong>” indicators</em>.
Therefore, within a single-quoted scalar, such characters need to be repeated.
This is the only form of <em>escaping</em> performed in single-quoted scalars.
In particular, the “<strong><code class="language-plaintext highlighter-rouge">\</code></strong>” and “<strong><code class="language-plaintext highlighter-rouge">"</code></strong>” characters may be freely used.
This restricts single-quoted scalars to <a href="#printable character//">printable</a>
characters.
In addition, it is only possible to break a long single-quoted line where a
<a href="#space//">space</a> character is surrounded by non-<a href="#space/white/">spaces</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[117] c-quoted-quote ::=
  "'" "'"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[118] nb-single-char ::=
  c-quoted-quote | ( nb-json - "'" )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[119] ns-single-char ::=
  nb-single-char - s-white
</code></pre></div></div>

<p><strong>Example 7.7. Single Quoted Characters</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 'here`''`s to "quotes"'
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-quoted-quote](#c-quoted-quote)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "here's to \\"quotes\\""
</code></pre></div></div>

<p>Single-quoted scalars are restricted to a single line when contained inside a
<a href="#key/implicit/">implicit key</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[120] c-single-quoted(n,c) ::=
  "'" nb-single-text(n,c) "'"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[121] nb-single-text(n,c) ::=
  c = flow-out  ⇒ nb-single-multi-line(n)
  c = flow-in   ⇒ nb-single-multi-line(n)
  c = block-key ⇒ nb-single-one-line
  c = flow-key  ⇒ nb-single-one-line
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[122] nb-single-one-line ::= nb-single-char*
</code></pre></div></div>

<p><strong>Example 7.8. Single Quoted Implicit Keys</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`'`implicit block key`'` : [
  `'`implicit flow key`'` : value,
 ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[nb-single-one-line](#nb-single-one-line)`
  `[c-single-quoted(n,c)](#c-single-quoted(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "implicit block key"
  : !!seq [
    !!map {
      ? !!str "implicit flow key"
      : !!str "value",
    }
  ]
}
</code></pre></div></div>

<p>All leading and trailing <a href="#space/white/">white space</a> characters are excluded
from the <a href="#content//">content</a>.
Each continuation line must therefore contain at least one
non-<a href="#space/white/">space</a> character.
Empty lines, if any, are consumed as part of the <a href="#line
folding//">line folding</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[123] nb-ns-single-in-line ::=
  ( s-white* ns-single-char )*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[124] s-single-next-line(n) ::=
  s-flow-folded(n)
  ( ns-single-char nb-ns-single-in-line
    ( s-single-next-line(n) | s-white* ) )?
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[125] nb-single-multi-line(n) ::=
  nb-ns-single-in-line
  ( s-single-next-line(n) | s-white* )
</code></pre></div></div>

<p><strong>Example 7.9. Single Quoted Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'`·1st non-empty``↓
↓
·`2nd non-empty```·
→`3rd non-empty``·'
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str " 1st non-empty\\n\\
      2nd non-empty \\
      3rd non-empty "
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[nb-ns-single-in-line(n)](#nb-ns-single-in-line)` `[s-single-next-line(n)](#s-single-next-line(n))`

</code></pre></div></div>

<h3 id="733plain-style">7.3.3. Plain Style</h3>

<p>The <em>plain</em> (unquoted) style has no identifying <a href="#indicator//">indicators</a> and
provides no form of escaping.
It is therefore the most readable, most limited and most <a href="#context//">context</a>
sensitive <a href="#style//">style</a>.
In addition to a restricted character set, a plain scalar must not be empty, or
contain leading or trailing <a href="#space/white/">white space</a> characters.
It is only possible to break a long plain line where a <a href="#space//">space</a>
character is surrounded by non-<a href="#space/white/">spaces</a>.</p>

<p>Plain scalars must not begin with most <a href="#indicator//">indicators</a>, as this
would cause ambiguity with other YAML constructs.
However, the <a href="#: mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”</a>, <a href="#? mapping key//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>”</a> and
<a href="#- block sequence entry//">“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>”</a> <a href="#indicator//">indicators</a> may be used
as the first character if followed by a non-<a href="#space/white/">space</a> “safe”
character, as this causes no ambiguity.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[126] ns-plain-first(c) ::=
    ( ns-char - c-indicator )
  | ( ( "?" | ":" | "-" )
      /* Followed by an ns-plain-safe(c)) */ )
</code></pre></div></div>

<p>Plain scalars must never contain the <a href="#: mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong> “</a> and <a href="## comment//">”
<strong><code class="language-plaintext highlighter-rouge">#</code></strong>”</a> character combinations.
Such combinations would cause ambiguity with <a href="#mapping//">mapping</a> <a href="#key: value pair//">key: value
pairs</a> and <a href="#comment//">comments</a>.
In addition, inside <a href="#style/flow/collection">flow collections</a>, or when used as
<a href="#key/implicit/">implicit keys</a>, plain scalars must not contain the
<a href="#[ start flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>”</a>, <a href="#] end flow sequence//">“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>”</a>,
<a href="#{ start flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>”</a>, <a href="#} end flow mapping//">“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”</a> and
<a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> characters.
These characters would cause ambiguity with <a href="#style/flow/collection">flow
collection</a> structures.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[127] ns-plain-safe(c) ::=
  c = flow-out  ⇒ ns-plain-safe-out
  c = flow-in   ⇒ ns-plain-safe-in
  c = block-key ⇒ ns-plain-safe-out
  c = flow-key  ⇒ ns-plain-safe-in
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[128] ns-plain-safe-out ::= ns-char
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[129] ns-plain-safe-in ::=
  ns-char - c-flow-indicator
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[130] ns-plain-char(c) ::=
    ( ns-plain-safe(c) - ":" - "#" )
  | ( /* An ns-char preceding */ "#" )
  | ( ":" /* Followed by an ns-plain-safe(c) */ )
</code></pre></div></div>

<p><strong>Example 7.10. Plain Characters</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Outside flow collection:
- `:``:`vector
- ": - ()"
- Up`,` up, and away!
- `-`123
- http`:`//example.com/foo`#`bar
# Inside flow collection:
- [ `:``:`vector,
  ": - ()",
  "Up`,` up and away!",
  `-`123,
  http`:`//example.com/foo`#`bar ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!str "::vector",
  !!str ": - ()",
  !!str "Up, up, and away!",
  !!int "-123",
  !!str "http://example.com/foo#bar",
  !!seq [
    !!str "::vector",
    !!str ": - ()",
    !!str "Up, up, and away!",
    !!int "-123",
    !!str "http://example.com/foo#bar",
  ],
]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-plain-first(c)](#ns-plain-first(c))` Not ns-plain-first(c) `[ns-plain-char(c)](#ns-plain-char(c))` `Not ns-plain-char(c)`

</code></pre></div></div>

<p>Plain scalars are further restricted to a single line when contained inside an
<a href="#key/implicit/">implicit key</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[131] ns-plain(n,c) ::=
  c = flow-out  ⇒ ns-plain-multi-line(n,c)
  c = flow-in   ⇒ ns-plain-multi-line(n,c)
  c = block-key ⇒ ns-plain-one-line(c)
  c = flow-key  ⇒ ns-plain-one-line(c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[132] nb-ns-plain-in-line(c) ::=
  ( s-white* ns-plain-char(c) )*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[133] ns-plain-one-line(c) ::=
  ns-plain-first(c) nb-ns-plain-in-line(c)
</code></pre></div></div>

<p><strong>Example 7.11. Plain Implicit Keys</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`implicit block key` : [
  `implicit flow key` : value,
 ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-plain-one-line(c)](#ns-plain-one-line(c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "implicit block key"
  : !!seq [
    !!map {
      ? !!str "implicit flow key"
      : !!str "value",
    }
  ]
}
</code></pre></div></div>

<p>All leading and trailing <a href="#space/white/">white space</a> characters are excluded
from the <a href="#content//">content</a>.
Each continuation line must therefore contain at least one
non-<a href="#space/white/">space</a> character.
Empty lines, if any, are consumed as part of the <a href="#line
folding//">line folding</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[134] s-ns-plain-next-line(n,c) ::=
  s-flow-folded(n)
  ns-plain-char(c) nb-ns-plain-in-line(c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[135] ns-plain-multi-line(n,c) ::=
  ns-plain-one-line(c)
  s-ns-plain-next-line(n,c)*
</code></pre></div></div>

<p><strong>Example 7.12. Plain Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`1st non-empty``↓
↓
·`2nd non-empty```·
→`3rd non-empty``
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "1st non-empty\\n\\
      2nd non-empty \\
      3rd non-empty"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[nb-ns-plain-in-line(c)](#nb-ns-plain-in-line(c))` `[s-ns-plain-next-line(n,c)](#s-ns-plain-next-line(n,c))`

</code></pre></div></div>

<h2 id="74flow-collection-styles">7.4. Flow Collection Styles</h2>

<p>A <em>flow collection</em> may be nested within a <a href="#style/block/collection">block
collection</a> (<a href="#context/flow-out/"><strong><code class="language-plaintext highlighter-rouge">flow-out</code></strong>
context</a>), nested within another flow collection
(<a href="#context/flow-in/"><strong><code class="language-plaintext highlighter-rouge">flow-in</code></strong> context</a>), or be a part of an <a href="#key/implicit/">implicit
key</a> (<a href="#context/flow-key/"><strong><code class="language-plaintext highlighter-rouge">flow-key</code></strong> context</a> or
<a href="#context/block-key/"><strong><code class="language-plaintext highlighter-rouge">block-key</code></strong> context</a>).
Flow collection entries are terminated by the <em>“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>” indicator</em>.
The final “<strong><code class="language-plaintext highlighter-rouge">,</code></strong>” may be omitted.
This does not cause ambiguity because flow collection entries can never be
<a href="#node/completely empty/">completely empty</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[136] in-flow(c) ::=
  c = flow-out  ⇒ flow-in
  c = flow-in   ⇒ flow-in
  c = block-key ⇒ flow-key
  c = flow-key  ⇒ flow-key
</code></pre></div></div>

<h3 id="741flow-sequences">7.4.1. Flow Sequences</h3>

<p><em>Flow sequence content</em> is denoted by surrounding <em>“<strong><code class="language-plaintext highlighter-rouge">[</code></strong>“</em> and <em>“<strong><code class="language-plaintext highlighter-rouge">]</code></strong>“</em>
characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[137] c-flow-sequence(n,c) ::=
  "[" s-separate(n,c)?
  ns-s-flow-seq-entries(n,in-flow(c))? "]"
</code></pre></div></div>

<p>Sequence entries are separated by a <a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[138] ns-s-flow-seq-entries(n,c) ::=
  ns-flow-seq-entry(n,c) s-separate(n,c)?
  ( "," s-separate(n,c)?
    ns-s-flow-seq-entries(n,c)? )?
</code></pre></div></div>

<p><strong>Example 7.13. Flow Sequence</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `[` `one`, `two`, `]`
- `[``three` ,`four``]`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-sequence-start](#c-sequence-start)` `[c-sequence-end](#c-sequence-end)`
  `[ns-flow-seq-entry(n,c)](#ns-flow-seq-entry(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!seq [
    !!str "one",
    !!str "two",
  ],
  !!seq [
    !!str "three",
    !!str "four",
  ],
]
</code></pre></div></div>

<p>Any <a href="#style/flow/">flow node</a> may be used as a flow sequence entry.
In addition, YAML provides a <a href="#style/single key:value pair
mapping/">compact notation</a> for the case where a flow sequence entry is a <a href="#mapping//">mapping</a>
with a <a href="#style/single key:value pair mapping/">single key: value pair</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[139] ns-flow-seq-entry(n,c) ::=
  ns-flow-pair(n,c) | ns-flow-node(n,c)
</code></pre></div></div>

<p><strong>Example 7.14. Flow Sequence Entries</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[
`"double
 quoted"`, `'single
           quoted'`,
`plain
 text`, `[ nested ]`,
`single: pair`,
]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-flow-node(n,c)](#ns-flow-node(n,c))` `[ns-flow-pair(n,c)](#ns-flow-pair(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!str "double quoted",
  !!str "single quoted",
  !!str "plain text",
  !!seq [
    !!str "nested",
  ],
  !!map {
    ? !!str "single"
    : !!str "pair",
  },
]
</code></pre></div></div>

<h3 id="742flow-mappings">7.4.2. Flow Mappings</h3>

<p><em>Flow mappings</em> are denoted by surrounding <em>“<strong><code class="language-plaintext highlighter-rouge">{</code></strong>“</em> and <em>“<strong><code class="language-plaintext highlighter-rouge">}</code></strong>“</em>
characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[140] c-flow-mapping(n,c) ::=
  "{" s-separate(n,c)?
  ns-s-flow-map-entries(n,in-flow(c))? "}"
</code></pre></div></div>

<p>Mapping entries are separated by a <a href="#, end flow entry//">“<strong><code class="language-plaintext highlighter-rouge">,</code></strong>”</a> character.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[141] ns-s-flow-map-entries(n,c) ::=
  ns-flow-map-entry(n,c) s-separate(n,c)?
  ( "," s-separate(n,c)?
    ns-s-flow-map-entries(n,c)? )?
</code></pre></div></div>

<p><strong>Example 7.15. Flow Mappings</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `{` `one : two` , `three: four` , `}`
- `{``five: six`,`seven : eight``}`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-mapping-start](#c-mapping-start)` `[c-mapping-end](#c-mapping-end)`
  `[ns-flow-map-entry(n,c)](#ns-flow-map-entry(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!map {
    ? !!str "one"   : !!str "two",
    ? !!str "three" : !!str "four",
  },
  !!map {
    ? !!str "five"  : !!str "six",
    ? !!str "seven" : !!str "eight",
  },
]
</code></pre></div></div>

<p>If the optional <em>“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” mapping key indicator</em> is specified, the rest of the
entry may be <a href="#node/completely empty/">completely empty</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[142] ns-flow-map-entry(n,c) ::=
    ( "?" s-separate(n,c)
      ns-flow-map-explicit-entry(n,c) )
  | ns-flow-map-implicit-entry(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[143] ns-flow-map-explicit-entry(n,c) ::=
    ns-flow-map-implicit-entry(n,c)
  | ( e-node /* Key */
      e-node /* Value */ )
</code></pre></div></div>

<p><strong>Example 7.16. Flow Mapping Entries</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
? `explicit: entry`,
`implicit: entry`,
?°°
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-flow-map-explicit-entry(n,c)](#ns-flow-map-explicit-entry(n,c))`
  `[ns-flow-map-implicit-entry(n,c)](#ns-flow-map-implicit-entry(n,c))`
  [e-node](#e-node)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "explicit" : !!str "entry",
  ? !!str "implicit" : !!str "entry",
  ? !!null "" : !!null "",
}
</code></pre></div></div>

<p>Normally, YAML insists the <em>“<strong><code class="language-plaintext highlighter-rouge">:</code></strong>” mapping value indicator</em> be
<a href="#space/separation/">separated</a> from the <a href="#value//">value</a> by <a href="#space/white/">white
space</a>.
A benefit of this restriction is that the “<strong><code class="language-plaintext highlighter-rouge">:</code></strong>” character can be used
inside <a href="#style/flow/plain">plain scalars</a>, as long as it is not followed by
<a href="#space/white/">white space</a>.
This allows for unquoted URLs and timestamps.
It is also a potential source for confusion as “<strong><code class="language-plaintext highlighter-rouge">a:1</code></strong>” is a <a href="#style/flow/plain">plain
scalar</a> and not a <a href="#key: value pair//">key: value pair</a>.</p>

<p>Note that the <a href="#value//">value</a> may be <a href="#node/completely
empty/">completely empty</a> since its existence is indicated by the “<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[144] ns-flow-map-implicit-entry(n,c) ::=
    ns-flow-map-yaml-key-entry(n,c)
  | c-ns-flow-map-empty-key-entry(n,c)
  | c-ns-flow-map-json-key-entry(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[145] ns-flow-map-yaml-key-entry(n,c) ::=
  ns-flow-yaml-node(n,c)
  ( ( s-separate(n,c)?
      c-ns-flow-map-separate-value(n,c) )
  | e-node )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[146] c-ns-flow-map-empty-key-entry(n,c) ::=
  e-node /* Key */
  c-ns-flow-map-separate-value(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[147] c-ns-flow-map-separate-value(n,c) ::=
  ":" /* Not followed by an
         ns-plain-safe(c) */
  ( ( s-separate(n,c) ns-flow-node(n,c) )
  | e-node /* Value */ )
</code></pre></div></div>

<p><strong>Example 7.17. Flow Mapping Separate Values</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
`unquoted`·`:·"separate"`,
`http://foo.com`,
`omitted value``:°`,
°`:·omitted key`,
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-flow-yaml-node(n,c)](#ns-flow-yaml-node(n,c))` [e-node](#e-node)
  `[c-ns-flow-map-separate-value(n,c)](#c-ns-flow-map-separate-value(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "unquoted" : !!str "separate",
  ? !!str "http://foo.com" : !!null "",
  ? !!str "omitted value" : !!null "",
  ? !!null "" : !!str "omitted key",
}
</code></pre></div></div>

<p>To ensure <a href="#JSON compatibility//">JSON compatibility</a>, if a <a href="#key//">key</a>
inside a flow mapping is <a href="#JSON-like//">JSON-like</a>, YAML allows the following
<a href="#value//">value</a> to be specified adjacent to the “<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”.
This causes no ambiguity, as all <a href="#JSON-like//">JSON-like</a> <a href="#key//">keys</a> are
surrounded by <a href="#indicator//">indicators</a>.
However, as this greatly reduces readability, YAML <a href="#processor//">processors</a>
should <a href="#space/separation/">separate</a> the <a href="#value//">value</a> from the “<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”
on output, even in this case.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[148] c-ns-flow-map-json-key-entry(n,c) ::=
  c-flow-json-node(n,c)
  ( ( s-separate(n,c)?
      c-ns-flow-map-adjacent-value(n,c) )
  | e-node )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[149] c-ns-flow-map-adjacent-value(n,c) ::=
  ":" ( ( s-separate(n,c)?
          ns-flow-node(n,c) )
      | e-node ) /* Value */
</code></pre></div></div>

<p><strong>Example 7.18. Flow Mapping Adjacent Values</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
`"adjacent"`:`value`,
`"readable"`:`·value`,
`"empty"`:°
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-flow-json-node(n,c)](#c-flow-json-node(n,c))` [e-node](#e-node)
  `[c-ns-flow-map-adjacent-value(n,c)](#c-ns-flow-map-adjacent-value(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "adjacent" : !!str "value",
  ? !!str "readable" : !!str "value",
  ? !!str "empty"    : !!null "",
}
</code></pre></div></div>

<p>A more compact notation is usable inside <a href="#style/flow/sequence">flow
sequences</a>, if the <a href="#mapping//">mapping</a> contains a
<em>single key: value pair</em>.
This notation does not require the surrounding “<strong><code class="language-plaintext highlighter-rouge">{</code></strong>” and “<strong><code class="language-plaintext highlighter-rouge">}</code></strong>”
characters.
Note that it is not possible to specify any <a href="#node/property/">node properties</a>
for the <a href="#mapping//">mapping</a> in this case.</p>

<p><strong>Example 7.19. Single Pair Flow Mappings</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[
`foo: bar`
]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-flow-pair(n,c)](#ns-flow-pair(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!map { ? !!str "foo" : !!str "bar" }
]
</code></pre></div></div>

<p>If the “<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” indicator is explicitly specified, <a href="#parse//">parsing</a> is
unambiguous, and the syntax is identical to the general case.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[150] ns-flow-pair(n,c) ::=
    ( "?" s-separate(n,c)
      ns-flow-map-explicit-entry(n,c) )
  | ns-flow-pair-entry(n,c)
</code></pre></div></div>

<p><strong>Example 7.20. Single Pair Explicit Entry</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[
? `foo
 bar : baz`
]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-flow-map-explicit-entry(n,c)](#ns-flow-map-explicit-entry(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!map {
    ? !!str "foo bar"
    : !!str "baz",
  },
]
</code></pre></div></div>

<p>If the “<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” indicator is omitted, <a href="#parse//">parsing</a> needs to see past
the <em>implicit key</em> to recognize it as such.
To limit the amount of lookahead required, the “<strong><code class="language-plaintext highlighter-rouge">:</code></strong>” indicator must appear
at most 1024 Unicode characters beyond the start of the <a href="#key//">key</a>.
In addition, the <a href="#key//">key</a> is restricted to a single line.</p>

<p>Note that YAML allows arbitrary <a href="#node//">nodes</a> to be used as <a href="#key//">keys</a>.
In particular, a <a href="#key//">key</a> may be a <a href="#sequence//">sequence</a> or a
<a href="#mapping//">mapping</a>.
Thus, without the above restrictions, practical one-pass <a href="#parse//">parsing</a>
would have been impossible to implement.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[151] ns-flow-pair-entry(n,c) ::=
    ns-flow-pair-yaml-key-entry(n,c)
  | c-ns-flow-map-empty-key-entry(n,c)
  | c-ns-flow-pair-json-key-entry(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[152] ns-flow-pair-yaml-key-entry(n,c) ::=
  ns-s-implicit-yaml-key(flow-key)
  c-ns-flow-map-separate-value(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[153] c-ns-flow-pair-json-key-entry(n,c) ::=
  c-s-implicit-json-key(flow-key)
  c-ns-flow-map-adjacent-value(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[154] ns-s-implicit-yaml-key(c) ::=
  ns-flow-yaml-node(n/a,c) s-separate-in-line?
  /* At most 1024 characters altogether */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[155] c-s-implicit-json-key(c) ::=
  c-flow-json-node(n/a,c) s-separate-in-line?
  /* At most 1024 characters altogether */
</code></pre></div></div>

<p><strong>Example 7.21. Single Pair Implicit Entries</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- [ `YAML·``: separate` ]
- [ `°``: empty key entry` ]
- [ {JSON: like}`:adjacent` ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-s-implicit-yaml-key](#ns-s-implicit-yaml-key(c))`
  [c-s-implicit-json-key](#c-s-implicit-json-key(c))
  `[e-node](#e-node)` `Value`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!seq [
    !!map {
      ? !!str "YAML"
      : !!str "separate"
    },
  ],
  !!seq [
    !!map {
      ? !!null ""
      : !!str "empty key entry"
    },
  ],
  !!seq [
    !!map {
      ? !!map {
        ? !!str "JSON"
        : !!str "like"
      } : "adjacent",
    },
  ],
]
</code></pre></div></div>

<p><strong>Example 7.22. Invalid Implicit Keys</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ `foo
 bar`: invalid,
 `"foo_...&gt;1K characters..._bar"`: invalid ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
- The `foo bar` key spans multiple lines
- The `foo...bar` key is too long
</code></pre></div></div>

<h2 id="75flow-nodes">7.5. Flow Nodes</h2>

<p><em>JSON-like</em> <a href="#style/flow/">flow styles</a> all have explicit start and end
<a href="#indicator//">indicators</a>.
The only <a href="#style/flow/">flow style</a> that does not have this property is the
<a href="#style/flow/plain">plain scalar</a>.
Note that none of the “JSON-like” styles is actually acceptable by JSON.
Even the <a href="#style/flow/double-quoted">double-quoted style</a> is a superset of the
JSON string format.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[156] ns-flow-yaml-content(n,c) ::= ns-plain(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[157] c-flow-json-content(n,c) ::=
    c-flow-sequence(n,c) | c-flow-mapping(n,c)
  | c-single-quoted(n,c) | c-double-quoted(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[158] ns-flow-content(n,c) ::=
  ns-flow-yaml-content(n,c) | c-flow-json-content(n,c)
</code></pre></div></div>

<p><strong>Example 7.23. Flow Content</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `[ a, b ]`
- `{ a: b }`
- `"a"`
- `'b'`
- `c`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-flow-json-content(n,c)](#c-flow-json-content(n,c))`
  `[ns-flow-yaml-content(n,c)](#ns-flow-yaml-content(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!seq [ !!str "a", !!str "b" ],
  !!map { ? !!str "a" : !!str "b" },
  !!str "a",
  !!str "b",
  !!str "c",
]
</code></pre></div></div>

<p>A complete <a href="#style/flow/">flow</a> <a href="#node//">node</a> also has optional <a href="#node/property/">node
properties</a>, except for <a href="#alias//">alias nodes</a> which refer to
the <a href="#anchor//">anchored</a> <a href="#node/property/">node properties</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[159] ns-flow-yaml-node(n,c) ::=
    c-ns-alias-node
  | ns-flow-yaml-content(n,c)
  | ( c-ns-properties(n,c)
      ( ( s-separate(n,c)
          ns-flow-yaml-content(n,c) )
        | e-scalar ) )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[160] c-flow-json-node(n,c) ::=
  ( c-ns-properties(n,c) s-separate(n,c) )?
  c-flow-json-content(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[161] ns-flow-node(n,c) ::=
    c-ns-alias-node
  | ns-flow-content(n,c)
  | ( c-ns-properties(n,c)
      ( ( s-separate(n,c)
          ns-flow-content(n,c) )
        | e-scalar ) )
</code></pre></div></div>

<p><strong>Example 7.24. Flow Nodes</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `!!str "a"`
- `'b'`
- `&amp;anchor "c"`
- `*anchor`
- `!!str°`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-flow-json-node(n,c)](#c-flow-json-node(n,c))`
  `[ns-flow-yaml-node(n,c)](#ns-flow-yaml-node(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!str "a",
  !!str "b",
  &amp;A !!str "c",
  *A,
  !!str "",
]
</code></pre></div></div>

<h1 id="chapter8block-styles">Chapter 8. Block Styles</h1>

<p>YAML’s <em>block styles</em> employ <a href="#space/indentation/">indentation</a> rather than
<a href="#indicator//">indicators</a> to denote structure.
This results in a more human readable (though less compact) notation.</p>

<h2 id="81block-scalar-styles">8.1. Block Scalar Styles</h2>

<p>YAML provides two <em>block scalar styles</em>, <a href="#style/block/literal">literal</a> and
<a href="#style/block/folded">folded</a>.
Each provides a different trade-off between readability and expressive power.</p>

<h3 id="811block-scalar-headers">8.1.1. Block Scalar Headers</h3>

<p><a href="#style/block/scalar">Block scalars</a> are controlled by a few
<a href="#indicator//">indicators</a> given in a <em>header</em> preceding the
<a href="#content//">content</a> itself.
This header is followed by a non-content <a href="#line break//">line break</a> with an
optional <a href="#comment//">comment</a>.
This is the only case where a <a href="#comment//">comment</a> must not be followed by
additional <a href="#comment//">comment</a> lines.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[162] c-b-block-header(m,t) ::=
  ( ( c-indentation-indicator(m)
      c-chomping-indicator(t) )
  | ( c-chomping-indicator(t)
      c-indentation-indicator(m) ) )
  s-b-comment
</code></pre></div></div>

<p><strong>Example 8.1. Block Scalar Header</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- | `# Empty header↓`
 literal
- &gt;`1 # Indentation indicator↓`
 ·folded
- |`+ # Chomping indicator↓`
 keep

- &gt;`1- # Both indicators↓`
 ·strip
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!str "literal\\n",
  !!str "·folded\\n",
  !!str "keep\\n\\n",
  !!str "·strip",
]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[c-b-block-header(m,t)](#c-b-block-header(m,t))`

</code></pre></div></div>

<h4 id="8111block-indentation-indicator">8.1.1.1. Block Indentation Indicator</h4>

<p>Typically, the <a href="#space/indentation/">indentation</a> level of a <a href="#style/block/scalar">block
scalar</a> is detected from its first non-<a href="#empty
line//">empty</a> line.
It is an error for any of the leading <a href="#empty line//">empty lines</a> to contain
more <a href="#space//">spaces</a> than the first non-<a href="#empty line//">empty line</a>.</p>

<p>Detection fails when the first non-<a href="#empty line//">empty line</a> contains leading
content <a href="#space//">space</a> characters. <a href="#content//">Content</a> may safely start
with a <a href="#tab//">tab</a> or a <a href="## comment//">“<strong><code class="language-plaintext highlighter-rouge">#</code></strong>”</a> character.</p>

<p>When detection would fail, YAML requires that the
<a href="#space/indentation/">indentation</a> level for the <a href="#content//">content</a> be given
using an explicit <em>indentation indicator</em>.
This level is specified as the integer number of the additional
<a href="#space/indentation/">indentation</a> spaces used for the <a href="#content//">content</a>,
relative to its parent <a href="#node//">node</a>.</p>

<p>It is always valid to specify an indentation indicator for a <a href="#style/block/scalar">block
scalar</a> node, though a YAML <a href="#processor//">processor</a>
should only emit an explicit indentation indicator for cases where detection
will fail.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[163] c-indentation-indicator(m) ::=
  ns-dec-digit ⇒ m = ns-dec-digit - #x30
  /* Empty */  ⇒ m = auto-detect()
</code></pre></div></div>

<p><strong>Example 8.2. Block Indentation Indicator</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- |`°`
`·`detected
- &gt;`°`
`·`
`··`
`··`\# detected
- |`1`
`·`·explicit
- &gt;`°`
`·`→
`·`detected
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!str "detected\\n",
  !!str "\\n\\n# detected\\n",
  !!str "·explicit\\n",
  !!str "\\t·detected\\n",
]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[c-indentation-indicator(m)](#c-indentation-indicator(m))`
   `[s-indent(n)](#s-indent(n))`

</code></pre></div></div>

<p><strong>Example 8.3. Invalid Block Scalar Indentation Indicators</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- |
·`·`
·text
- &gt;
··text
`·`text
- |2
·text
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:
- A leading all-space line must
  not have too many `spaces`.
- A following text line must
  not be `less indented`.
- The text is less indented
  than the indicated level.
</code></pre></div></div>

<h4 id="8112block-chomping-indicator">8.1.1.2. Block Chomping Indicator</h4>

<p><em>Chomping</em> controls how final <a href="#line break//">line breaks</a> and trailing <a href="#empty line//">empty
lines</a> are interpreted.
YAML provides three chomping methods:</p>

<p>Strip</p>

<p><em>Stripping</em> is specified by the <em>“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” chomping indicator</em>.
In this case, the final <a href="#line break//">line break</a> and any trailing <a href="#empty line//">empty
lines</a> are excluded from the <a href="#scalar//">scalar’s content</a>.</p>

<p>Clip</p>

<p><em>Clipping</em> is the default behavior used if no explicit chomping indicator is
specified.
In this case, the final <a href="#line break//">line break</a> character is preserved in
the <a href="#scalar//">scalar’s content</a>.
However, any trailing <a href="#empty line//">empty lines</a> are excluded from the
<a href="#scalar//">scalar’s content</a>.</p>

<p>Keep</p>

<p><em>Keeping</em> is specified by the <em>“<strong><code class="language-plaintext highlighter-rouge">+</code></strong>” chomping indicator</em>.
In this case, the final <a href="#line break//">line break</a> and any trailing <a href="#empty line//">empty
lines</a> are considered to be part of the <a href="#scalar//">scalar’s
content</a>.
These additional lines are not subject to <a href="#line folding//">folding</a>.</p>

<p>The chomping method used is a <a href="#presentation/detail/">presentation detail</a> and
must not be used to convey <a href="#content//">content</a> information.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[164] c-chomping-indicator(t) ::=
  "-"         ⇒ t = strip
  "+"         ⇒ t = keep
  /* Empty */ ⇒ t = clip
</code></pre></div></div>

<p>The interpretation of the final <a href="#line break//">line break</a> of a <a href="#style/block/scalar">block
scalar</a> is controlled by the chomping indicator specified
in the <a href="#block scalar header//">block scalar header</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[165] b-chomped-last(t) ::=
  t = strip ⇒ b-non-content | /* End of file */
  t = clip  ⇒ b-as-line-feed | /* End of file */
  t = keep  ⇒ b-as-line-feed | /* End of file */
</code></pre></div></div>

<p><strong>Example 8.4. Chomping Final Line Break</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strip: |-
  text`↓`
clip: |
  text`↓`
keep: |+
  text`↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[b-non-content](#b-non-content)` `[b-as-line-feed](#b-as-line-feed)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "strip"
  : !!str "text",
  ? !!str "clip"
  : !!str "text\\n",
  ? !!str "keep"
  : !!str "text\\n",
}
</code></pre></div></div>

<p>The interpretation of the trailing <a href="#empty line//">empty lines</a> following a
<a href="#style/block/scalar">block scalar</a> is also controlled by the chomping
indicator specified in the <a href="#block scalar header//">block scalar header</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[166] l-chomped-empty(n,t) ::=
  t = strip ⇒ l-strip-empty(n)
  t = clip  ⇒ l-strip-empty(n)
  t = keep  ⇒ l-keep-empty(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[167] l-strip-empty(n) ::=
  ( s-indent(≤n) b-non-content )*
  l-trail-comments(n)?
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[168] l-keep-empty(n) ::=
  l-empty(n,block-in)*
  l-trail-comments(n)?
</code></pre></div></div>

<p>Explicit <a href="#comment//">comment</a> lines may follow the trailing <a href="#empty line//">empty
lines</a>.
To prevent ambiguity, the first such <a href="#comment//">comment</a> line must be less
<a href="#space/indentation/">indented</a> than the <a href="#style/block/scalar">block scalar
content</a>.
Additional <a href="#comment//">comment</a> lines, if any, are not so restricted.
This is the only case where the <a href="#space/indentation/">indentation</a> of
<a href="#comment//">comment</a> lines is constrained.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[169] l-trail-comments(n) ::=
  s-indent(&lt;n) c-nb-comment-text b-comment
  l-comment*
</code></pre></div></div>

<p><strong>Example 8.5. Chomping Trailing Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> # Strip
  # Comments:
strip: |-
  # text↓
`··⇓
·# Clip
··# comments:
↓`
clip: |
  # text↓
`·↓
·# Keep
··# comments:
↓`
keep: |+
  # text↓
`↓
·# Trail
··# comments.`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "strip"
  : !!str "# text",
  ? !!str "clip"
  : !!str "# text\\n",
  ? !!str "keep"
  : !!str "# text\\n\\n",
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[l-strip-empty(n)](#l-strip-empty(n))`
   `[l-keep-empty(n)](#l-keep-empty(n))`
   [l-trail-comments(n)](#l-trail-comments(n))

</code></pre></div></div>

<p>If a <a href="#style/block/scalar">block scalar</a> consists only of <a href="#empty
line//">empty lines</a>, then these lines are considered as trailing lines and hence are
affected by chomping.</p>

<p><strong>Example 8.6. Empty Scalar Chomping</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>strip: &gt;-
`↓`
clip: &gt;
`↓`
keep: |+
`↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[l-strip-empty(n)](#l-strip-empty(n))` `[l-keep-empty(n)](#l-keep-empty(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "strip"
  : !!str "",
  ? !!str "clip"
  : !!str "",
  ? !!str "keep"
  : !!str "\\n",
}
</code></pre></div></div>

<h3 id="812literal-style">8.1.2. Literal Style</h3>

<p>The <em>literal style</em> is denoted by the <em>“<strong><code class="language-plaintext highlighter-rouge">|</code></strong>” indicator</em>.
It is the simplest, most restricted, and most readable <a href="#style/scalar/">scalar
style</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[170] c-l+literal(n) ::=
  "|" c-b-block-header(m,t)
  l-literal-content(n+m,t)
</code></pre></div></div>

<p><strong>Example 8.7. Literal Scalar</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`|↓
·literal↓
·→text↓
↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-l+literal(n)](#c-l+literal(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "literal\\n\\ttext\\n"
</code></pre></div></div>

<p>Inside literal scalars, all (<a href="#space/indentation/">indented</a>) characters are
considered to be <a href="#content//">content</a>, including <a href="#space/white/">white space</a>
characters.
Note that all <a href="#line break//">line break</a> characters are <a href="#line
break/normalization/">normalized</a>.
In addition, <a href="#empty line//">empty lines</a> are not
<a href="#style/block/folded">folded</a>, though final <a href="#line break//">line breaks</a> and
trailing <a href="#empty line//">empty lines</a> are <a href="#chomping//">chomped</a>.</p>

<p>There is no way to escape characters inside literal scalars.
This restricts them to <a href="#printable character//">printable</a> characters.
In addition, there is no way to break a long literal line.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[171] l-nb-literal-text(n) ::=
  l-empty(n,block-in)*
  s-indent(n) nb-char+
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[172] b-nb-literal-next(n) ::=
  b-as-line-feed
  l-nb-literal-text(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[173] l-literal-content(n,t) ::=
  ( l-nb-literal-text(n) b-nb-literal-next(n)*
    b-chomped-last(t) )?
  l-chomped-empty(n,t)
</code></pre></div></div>

<p><strong>Example 8.8. Literal Content</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|
`·
··
··literal``↓
`···```↓
`··
··text``↓
`↓
·# Comment`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "\\n\\nliteral\\n·\\n\\ntext\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[l-nb-literal-text(n)](#l-nb-literal-text(n))`
   `[b-nb-literal-next(n)](#b-nb-literal-next(n))`
   [b-chomped-last(t)](#b-chomped-last(t))
   `[l-chomped-empty(n,t)](#l-chomped-empty(n,t))`

</code></pre></div></div>

<h3 id="813folded-style">8.1.3. Folded Style</h3>

<p>The <em>folded style</em> is denoted by the <em>“<strong><code class="language-plaintext highlighter-rouge">&gt;</code></strong>” indicator</em>.
It is similar to the <a href="#style/block/literal">literal style</a>; however, folded
scalars are subject to <a href="#line folding/block/">line folding</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[174] c-l+folded(n) ::=
  "&gt;" c-b-block-header(m,t)
  l-folded-content(n+m,t)
</code></pre></div></div>

<p><strong>Example 8.9. Folded Scalar</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`&gt;↓
·folded↓
·text↓
↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "folded text\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-l+folded(n)](#c-l+folded(n))`

</code></pre></div></div>

<p><a href="#line folding//">Folding</a> allows long lines to be broken anywhere a single
<a href="#space//">space</a> character separates two non-<a href="#space/white/">space</a>
characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[175] s-nb-folded-text(n) ::=
  s-indent(n) ns-char nb-char*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[176] l-nb-folded-lines(n) ::=
  s-nb-folded-text(n)
  ( b-l-folded(n,block-in) s-nb-folded-text(n) )*
</code></pre></div></div>

<p><strong>Example 8.10. Folded Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;
``·folded`↓
`·line`↓
↓
`·next`
`·line``↓
   * bullet

   * list
   * lines

``·last`↓
`·line``↓

# Comment
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "\\n\\
      folded line\\n\\
      next line\\n\\
      \\  * bullet\\n
      \\n\\
      \\  * list\\n\\
      \\  * lines\\n\\
      \\n\\
      last line\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[s-nb-folded-text(n)](#s-nb-folded-text(n))`
   `[l-nb-folded-lines(n)](#l-nb-folded-lines(n))`

</code></pre></div></div>

<p>(The following three examples duplicate this example, each highlighting
different productions.)</p>

<p>Lines starting with <a href="#space/white/">white space</a> characters (<em>more-indented</em>
lines) are not <a href="#line folding//">folded</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[177] s-nb-spaced-text(n) ::=
  s-indent(n) s-white nb-char*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[178] b-l-spaced(n) ::=
  b-as-line-feed
  l-empty(n,block-in)*
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[179] l-nb-spaced-lines(n) ::=
  s-nb-spaced-text(n)
  ( b-l-spaced(n) s-nb-spaced-text(n) )*
</code></pre></div></div>

<p><strong>Example 8.11. More Indented Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;
 folded
 line

 next
 line
``···* bullet`↓
↓
`···* list`↓
`···* lines``↓

 last
 line

# Comment
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "\\n\\
      folded line\\n\\
      next line\\n\\
      \\  * bullet\\n
      \\n\\
      \\  * list\\n\\
      \\  * lines\\n\\
      \\n\\
      last line\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[s-nb-spaced-text(n)](#s-nb-spaced-text(n))`
   `[l-nb-spaced-lines(n)](#l-nb-spaced-lines(n))`

</code></pre></div></div>

<p><a href="#line break//">Line breaks</a> and <a href="#empty line//">empty lines</a> separating folded
and more-indented lines are also not <a href="#line folding//">folded</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[180] l-nb-same-lines(n) ::=
  l-empty(n,block-in)*
  ( l-nb-folded-lines(n) | l-nb-spaced-lines(n) )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[181] l-nb-diff-lines(n) ::=
  l-nb-same-lines(n)
  ( b-as-line-feed l-nb-same-lines(n) )*
</code></pre></div></div>

<p><strong>Example 8.12. Empty Separation Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;
`↓`
 folded
 line`↓`
`↓`
 next
 line`↓`
   * bullet

   * list
   * line`↓`
`↓`
 last
 line

# Comment
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "\\n\\
      folded line\\n\\
      next line\\n\\
      \\  * bullet\\n
      \\n\\
      \\  * list\\n\\
      \\  * lines\\n\\
      \\n\\
      last line\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[b-as-line-feed](#b-as-line-feed)`
   `(separation) [l-empty(n,c)](#l-empty(n,c))`

</code></pre></div></div>

<p>The final <a href="#line break//">line break</a>, and trailing <a href="#empty
line//">empty lines</a> if any, are subject to <a href="#chomping//">chomping</a> and are never
<a href="#line folding//">folded</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[182] l-folded-content(n,t) ::=
  ( l-nb-diff-lines(n) b-chomped-last(t) )?
  l-chomped-empty(n,t)
</code></pre></div></div>

<p><strong>Example 8.13. Final Empty Lines</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;
 folded
 line

 next
 line
   * bullet

   * list
   * line

 last
 line`↓`
`↓
# Comment`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "\\n\\
      folded line\\n\\
      next line\\n\\
      \\  * bullet\\n
      \\n\\
      \\  * list\\n\\
      \\  * lines\\n\\
      \\n\\
      last line\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[b-chomped-last(t)](#b-chomped-last(t))` `[l-chomped-empty(n,t)](#l-chomped-empty(n,t))`

</code></pre></div></div>

<h2 id="82block-collection-styles">8.2. Block Collection Styles</h2>

<p>For readability, <em>block collections styles</em> are not denoted by any
<a href="#indicator//">indicator</a>.
Instead, YAML uses a lookahead method, where a block collection is
distinguished from a <a href="#style/flow/plain">plain scalar</a> only when a <a href="#key: value pair//">key: value
pair</a> or a <a href="#- block sequence entry//">sequence entry</a> is
seen.</p>

<h3 id="821block-sequences">8.2.1. Block Sequences</h3>

<p>A <em>block sequence</em> is simply a series of <a href="#node//">nodes</a>, each denoted by a
leading <em>“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” indicator</em>.
The “<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” indicator must be <a href="#space/separation/">separated</a> from the
<a href="#node//">node</a> by <a href="#space/white/">white space</a>.
This allows “<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” to be used as the first character in a <a href="#style/flow/plain">plain
scalar</a> if followed by a non-space character (e.g.
“<strong><code class="language-plaintext highlighter-rouge">-1</code></strong>”).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[183] l+block-sequence(n) ::=
  ( s-indent(n+m) c-l-block-seq-entry(n+m) )+
  /* For some fixed auto-detected m &gt; 0 */
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[184] c-l-block-seq-entry(n) ::=
  "-" /* Not followed by an ns-char */
  s-l+block-indented(n,block-in)
</code></pre></div></div>

<p><strong>Example 8.14. Block Sequence</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>block sequence:
··`- one↓`
  `- two : three↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-l-block-seq-entry(n)](#c-l-block-seq-entry(n))`
  `auto-detected [s-indent(n)](#s-indent(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "block sequence"
  : !!seq [
    !!str "one",
    !!map {
      ? !!str "two"
      : !!str "three"
    },
  ],
}
</code></pre></div></div>

<p>The entry <a href="#node//">node</a> may be either <a href="#node/completely
empty/">completely empty</a>, be a nested <a href="#style/block/">block node</a>, or use a <em>compact in-line
notation</em>.
The compact notation may be used when the entry is itself a nested <a href="#style/block/collection">block
collection</a>.
In this case, both the “<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” indicator and the following <a href="#space//">spaces</a>
are considered to be part of the <a href="#space/indentation/">indentation</a> of the
nested <a href="#style/block/collection">collection</a>.
Note that it is not possible to specify <a href="#node/property/">node properties</a> for
such a <a href="#style/block/collection">collection</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[185] s-l+block-indented(n,c) ::=
    ( s-indent(m)
      ( ns-l-compact-sequence(n+1+m)
      | ns-l-compact-mapping(n+1+m) ) )
  | s-l+block-node(n,c)
  | ( e-node s-l-comments )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[186] ns-l-compact-sequence(n) ::=
  c-l-block-seq-entry(n)
  ( s-indent(n) c-l-block-seq-entry(n) )*
</code></pre></div></div>

<p><strong>Example 8.15. Block Sequence Entry Types</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-`° # Empty`
- `|
 block node`
-·- one # Compact
··- two # sequence
- `one: two # Compact mapping`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `Empty`
  `[s-l+block-node(n,c)](#s-l+block-node(n,c))`
  [ns-l-compact-sequence(n)](#ns-l-compact-sequence(n))
  `[ns-l-compact-mapping(n)](#ns-l-compact-mapping(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!null "",
  !!str "block node\\n",
  !!seq [
    !!str "one"
    !!str "two",
  ],
  !!map {
    ? !!str "one"
    : !!str "two",
  },
]
</code></pre></div></div>

<h3 id="822block-mappings">8.2.2. Block Mappings</h3>

<p>A <em>Block mapping</em> is a series of entries, each <a href="#present//">presenting</a> a
<a href="#key: value pair//">key: value pair</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[187] l+block-mapping(n) ::=
  ( s-indent(n+m) ns-l-block-map-entry(n+m) )+
  /* For some fixed auto-detected m &gt; 0 */
</code></pre></div></div>

<p><strong>Example 8.16. Block Mappings</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>block mapping:
`·``key: value↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-l-block-map-entry(n)](#ns-l-block-map-entry(n))`
  `auto-detected [s-indent(n)](#s-indent(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "block mapping"
  : !!map {
    ? !!str "key"
    : !!str "value",
  },
}
</code></pre></div></div>

<p>If the <a href="#? mapping key//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>”</a> indicator is specified, the optional value
node must be specified on a separate line, denoted by the <a href="#:
mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”</a> indicator.
Note that YAML allows here the same <a href="#style/compact
block collection/">compact in-line notation</a> described above for <a href="#style/block/sequence">block sequence</a>
entries.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[188] ns-l-block-map-entry(n) ::=
    c-l-block-map-explicit-entry(n)
  | ns-l-block-map-implicit-entry(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[189] c-l-block-map-explicit-entry(n) ::=
  c-l-block-map-explicit-key(n)
  ( l-block-map-explicit-value(n)
  | e-node )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[190] c-l-block-map-explicit-key(n) ::=
  "?" s-l+block-indented(n,block-out)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[191] l-block-map-explicit-value(n) ::=
  s-indent(n)
  ":" s-l+block-indented(n,block-out)
</code></pre></div></div>

<p><strong>Example 8.17. Explicit Block Mapping Entries</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`? explicit key # Empty value↓`°
`? |
  block key↓`
`:·- one # Explicit compact
··- two # block value↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-l-block-map-explicit-key(n)](#c-l-block-map-explicit-key(n))`
  `[l-block-map-explicit-value(n)](#l-block-map-explicit-value(n))`
  [e-node](#e-node)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "explicit key"
  : !!str "",
  ? !!str "block key\\n"
  : !!seq [
    !!str "one",
    !!str "two",
  ],
}
</code></pre></div></div>

<p>If the “<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” indicator is omitted, <a href="#parse//">parsing</a> needs to see past
the <a href="#key/implicit/">implicit key</a>, in the same way as in the <a href="#style/single key:value pair mapping/">single
key: value pair</a> <a href="#style/flow/mapping">flow
mapping</a>.
Hence, such <a href="#key//">keys</a> are subject to the same restrictions; they are
limited to a single line and must not span more than 1024 Unicode characters.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[192] ns-l-block-map-implicit-entry(n) ::=
  ( ns-s-block-map-implicit-key
  | e-node )
  c-l-block-map-implicit-value(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[193] ns-s-block-map-implicit-key ::=
    c-s-implicit-json-key(block-key)
  | ns-s-implicit-yaml-key(block-key)
</code></pre></div></div>

<p>In this case, the <a href="#value//">value</a> may be specified on the same line as the
<a href="#key/implicit/">implicit key</a>.
Note however that in block mappings the <a href="#value//">value</a> must never be
adjacent to the “<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”, as this greatly reduces readability and is not
required for <a href="#JSON compatibility//">JSON compatibility</a> (unlike the case in
<a href="#style/flow/mapping">flow mappings</a>).</p>

<p>There is no compact notation for in-line <a href="#value//">values</a>.
Also, while both the <a href="#key/implicit/">implicit key</a> and the <a href="#value//">value</a>
following it may be empty, the <a href="#: mapping value//">“<strong><code class="language-plaintext highlighter-rouge">:</code></strong>”</a> indicator is
mandatory.
This prevents a potential ambiguity with multi-line <a href="#style/flow/plain">plain
scalars</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[194] c-l-block-map-implicit-value(n) ::=
  ":" ( s-l+block-node(n,block-out)
      | ( e-node s-l-comments ) )
</code></pre></div></div>

<p><strong>Example 8.18. Implicit Block Mapping Entries</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`plain key``: in-line value`
`°``:° # Both empty`
`"quoted key"``:
- entry`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-s-block-map-implicit-key](#ns-s-block-map-implicit-key)`
  `[c-l-block-map-implicit-value(n)](#c-l-block-map-implicit-value(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "plain key"
  : !!str "in-line value",
  ? !!null ""
  : !!null "",
  ? !!str "quoted key"
  : !!seq [ !!str "entry" ],
}
</code></pre></div></div>

<p>A <a href="#style/compact block collection/">compact in-line notation</a> is also
available.
This compact notation may be nested inside <a href="#style/block/sequence">block
sequences</a> and explicit block mapping entries.
Note that it is not possible to specify <a href="#node/property/">node properties</a> for
such a nested mapping.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[195] ns-l-compact-mapping(n) ::=
  ns-l-block-map-entry(n)
  ( s-indent(n) ns-l-block-map-entry(n) )*
</code></pre></div></div>

<p><strong>Example 8.19. Compact Block Mappings</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- `sun: yellow↓`
- `? `earth: blue↓`
  : `moon: white↓``
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[ns-l-compact-mapping(n)](#ns-l-compact-mapping(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!map {
     !!str "sun" : !!str "yellow",
  },
  !!map {
    ? !!map {
      ? !!str "earth"
      : !!str "blue"
    },
    : !!map {
      ? !!str "moon"
      : !!str "white"
    },
  }
]
</code></pre></div></div>

<h3 id="823block-nodes">8.2.3. Block Nodes</h3>

<p>YAML allows <a href="#style/flow/">flow nodes</a> to be embedded inside <a href="#style/block/collection">block
collections</a> (but not vice-versa). <a href="#style/flow/">Flow
nodes</a> must be <a href="#space/indentation/">indented</a> by at least one
more <a href="#space//">space</a> than the parent <a href="#style/block/collection">block
collection</a>.
Note that <a href="#style/flow/">flow nodes</a> may begin on a following line.</p>

<p>It is at this point that <a href="#parse//">parsing</a> needs to distinguish between a
<a href="#style/flow/plain">plain scalar</a> and an <a href="#key/implicit/">implicit key</a>
starting a nested <a href="#style/block/mapping">block mapping</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[196] s-l+block-node(n,c) ::=
  s-l+block-in-block(n,c) | s-l+flow-in-block(n)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[197] s-l+flow-in-block(n) ::=
  s-separate(n+1,flow-out)
  ns-flow-node(n+1,flow-out) s-l-comments
</code></pre></div></div>

<p><strong>Example 8.20. Block Node Types</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-`↓
··"flow in block"↓`
-·`&gt;
 Block scalar↓`
-·`!!map # Block collection
  foo : bar↓`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[s-l+flow-in-block(n)](#s-l+flow-in-block(n))`
  `[s-l+block-in-block(n,c)](#s-l+block-in-block(n,c))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!seq [
  !!str "flow in block",
  !!str "Block scalar\\n",
  !!map {
    ? !!str "foo"
    : !!str "bar",
  },
]
</code></pre></div></div>

<p>The block <a href="#node/property/">node’s properties</a> may span across several lines.
In this case, they must be <a href="#space/indentation/">indented</a> by at least one more
<a href="#space//">space</a> than the <a href="#style/block/collection">block collection</a>,
regardless of the <a href="#space/indentation/">indentation</a> of the <a href="#style/block/collection">block
collection</a> entries.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[198] s-l+block-in-block(n,c) ::=
  s-l+block-scalar(n,c) | s-l+block-collection(n,c)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[199] s-l+block-scalar(n,c) ::=
  s-separate(n+1,c)
  ( c-ns-properties(n+1,c) s-separate(n+1,c) )?
  ( c-l+literal(n) | c-l+folded(n) )
</code></pre></div></div>

<p><strong>Example 8.21. Block Scalar Nodes</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>literal: `|2
··value`
folded:`↓
···!foo
··&gt;1
·value`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-l+literal(n)](#c-l+literal(n))` `[c-l+folded(n)](#c-l+folded(n))`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "literal"
  : !!str "value\\n",
  ? !!str "folded"
  : !&lt;!foo&gt; "value\\n",
}
</code></pre></div></div>

<p>Since people perceive the <a href="#- block sequence entry//">“<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” indicator</a> as
<a href="#space/indentation/">indentation</a>, nested <a href="#style/block/sequence">block
sequences</a> may be <a href="#space/indentation/">indented</a> by one
less <a href="#space//">space</a> to compensate, except, of course, if nested inside
another <a href="#style/block/sequence">block sequence</a> (<a href="#context/block-out/"><strong><code class="language-plaintext highlighter-rouge">block-out</code></strong>
context</a> vs. <a href="#context/block-in/"><strong><code class="language-plaintext highlighter-rouge">block-in</code></strong>
context</a>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[200] s-l+block-collection(n,c) ::=
  ( s-separate(n+1,c) c-ns-properties(n+1,c) )?
  s-l-comments
  ( l+block-sequence(seq-spaces(n,c))
  | l+block-mapping(n) )
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[201] seq-spaces(n,c) ::=
  c = block-out ⇒ n-1
  c = block-in  ⇒ n
</code></pre></div></div>

<p><strong>Example 8.22. Block Collection Nodes</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sequence: !!seq
`- entry
- !!seq
 - nested`
mapping: !!map
 `foo: bar`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[l+block-sequence(n)](#l+block-sequence(n))`
  `[l+block-mapping(n)](#l+block-mapping(n))`
  [s-l+block-collection(n,c)](#s-l+block-collection(n,c))

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  ? !!str "sequence"
  : !!seq [
    !!str "entry",
    !!seq [ !!str "nested" ],
  ],
  ? !!str "mapping"
  : !!map {
    ? !!str "foo" : !!str "bar",
  },
}
</code></pre></div></div>

<h1 id="chapter9yaml-character-stream">Chapter 9. YAML Character Stream</h1>

<h2 id="91documents">9.1. Documents</h2>

<p>A YAML character <a href="#stream//">stream</a> may contain several <em>documents</em>.
Each document is completely independent from the rest.</p>

<h3 id="911document-prefix">9.1.1. Document Prefix</h3>

<p>A document may be preceded by a <em>prefix</em> specifying the <a href="#character encoding//">character
encoding</a>, and optional <a href="#comment//">comment</a> lines.
Note that all <a href="#document//">documents</a> in a stream must use the same <a href="#character encoding//">character
encoding</a>.
However it is valid to re-specify the <a href="#character encoding//">encoding</a> using a
<a href="#byte order mark//">byte order mark</a> for each <a href="#document//">document</a> in the
stream.
This makes it easier to concatenate streams.</p>

<p>The existence of the optional prefix does not necessarily indicate the
existence of an actual <a href="#document//">document</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[202] l-document-prefix ::=
  c-byte-order-mark? l-comment*
</code></pre></div></div>

<p><strong>Example 9.1. Document Prefix</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`⇔# Comment
# lines`
Document
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[l-document-prefix](#l-document-prefix)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "Document"
</code></pre></div></div>

<h3 id="912document-markers">9.1.2. Document Markers</h3>

<p>Using <a href="#directive//">directives</a> creates a potential ambiguity.
It is valid to have a <a href="#% directive//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> character at the start of a
line (e.g. as the first character of the second line of a <a href="#style/flow/plain">plain
scalar</a>).
How, then, to distinguish between an actual <a href="#directive//">directive</a> and a
<a href="#content//">content</a> line that happens to start with a <a href="#%
directive//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> character?</p>

<p>The solution is the use of two special <em>marker</em> lines to control the processing
of <a href="#directive//">directives</a>, one at the start of a <a href="#document//">document</a>
and one at the end.</p>

<p>At the start of a <a href="#document//">document</a>, lines beginning with a
<a href="#% directive//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> character are assumed to be
<a href="#directive//">directives</a>.
The (possibly empty) list of <a href="#directive//">directives</a> is terminated by a
<em>directives end marker</em> line.
Lines following this marker can safely use <a href="#% directive//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> as the
first character.</p>

<p>At the end of a <a href="#document//">document</a>, a <em>document end marker</em> line is used
to signal the <a href="#parse//">parser</a> to begin scanning for
<a href="#directive//">directives</a> again.</p>

<p>The existence of this optional <em>document suffix</em> does not necessarily indicate
the existence of an actual following <a href="#document//">document</a>.</p>

<p>Obviously, the actual <a href="#content//">content</a> lines are therefore forbidden to
begin with either of these markers.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[203] c-directives-end ::=
  "-" "-" "-"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[204] c-document-end ::=
  "." "." "."
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[205] l-document-suffix ::=
  c-document-end s-l-comments
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[206] c-forbidden ::=
  /* Start of line */
  ( c-directives-end | c-document-end )
  ( b-char | s-white | /* End of file */ )
</code></pre></div></div>

<p><strong>Example 9.2. Document Markers</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
`---`
Document
`...` # Suffix
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "Document"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Legend:
  `[c-directives-end](#c-directives-end)` `[c-document-end](#c-document-end)`
  [l-document-suffix](#l-document-suffix)

</code></pre></div></div>

<h3 id="913bare-documents">9.1.3. Bare Documents</h3>

<p>A <em>bare document</em> does not begin with any <a href="#directive//">directives</a> or
<a href="#marker//">marker</a> lines.
Such documents are very “clean” as they contain nothing other than the
<a href="#content//">content</a>.
In this case, the first non-comment line may not start with a <a href="#%
directive//">“<strong><code class="language-plaintext highlighter-rouge">%</code></strong>”</a> first character.</p>

<p>Document <a href="#node//">nodes</a> are <a href="#space/indentation/">indented</a> as if they have a
parent <a href="#space/indentation/">indented</a> at -1 <a href="#space//">spaces</a>.
Since a <a href="#node//">node</a> must be more <a href="#space/indentation/">indented</a> than its
parent <a href="#node//">node</a>, this allows the document’s <a href="#node//">node</a> to be
<a href="#space/indentation/">indented</a> at zero or more <a href="#space//">spaces</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[207] l-bare-document ::=
  s-l+block-node(-1,block-in)
  /* Excluding c-forbidden content */
</code></pre></div></div>

<p><strong>Example 9.3. Bare Documents</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`Bare
document`
...
# No document
...
`|
%!PS-Adobe-2.0 # Not the first line`
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "Bare document"
...
%YAML 1.2
---
!!str "%!PS-Adobe-2.0 # Not the first line\\n"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[l-bare-document](#l-bare-document)`

</code></pre></div></div>

<h3 id="914explicit-documents">9.1.4. Explicit Documents</h3>

<p>An <em>explicit document</em> begins with an explicit <a href="#marker/directives end/">directives end
marker</a> line but no <a href="#directive//">directives</a>.
Since the existence of the <a href="#document//">document</a> is indicated by this
<a href="#marker//">marker</a>, the <a href="#document//">document</a> itself may be <a href="#node/completely empty/">completely
empty</a>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[208] l-explicit-document ::=
  c-directives-end
  ( l-bare-document
  | ( e-node s-l-comments ) )
</code></pre></div></div>

<p><strong>Example 9.4. Explicit Documents</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`---
{ matches
% : 20 }`
...
`---
# Empty`
...
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[l-explicit-document](#l-explicit-document)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  !!str "matches %": !!int "20"
}
...
%YAML 1.2
---
!!null ""
</code></pre></div></div>

<h3 id="915directives-documents">9.1.5. Directives Documents</h3>

<p>A <em>directives document</em> begins with some <a href="#directive//">directives</a> followed by
an explicit <a href="#marker/directives end/">directives end marker</a> line.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[209] l-directive-document ::=
  l-directive+
  l-explicit-document
</code></pre></div></div>

<p><strong>Example 9.5. Directives Documents</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`%YAML 1.2
--- |
%!PS-Adobe-2.0`
...
`%YAML1.2
---
# Empty`
...
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[l-explicit-document](#l-explicit-document)`

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "%!PS-Adobe-2.0\\n"
...
%YAML 1.2
---
!!null ""
</code></pre></div></div>

<h2 id="92streams">9.2. Streams</h2>

<p>A YAML <em>stream</em> consists of zero or more <a href="#document//">documents</a>.
Subsequent <a href="#document//">documents</a> require some sort of separation
<a href="#marker//">marker</a> line.
If a <a href="#document//">document</a> is not terminated by a <a href="#marker/document end/">document end
marker</a> line, then the following <a href="#document//">document</a>
must begin with a <a href="#marker/directives end/">directives end marker</a> line.</p>

<p>The stream format is intentionally “sloppy” to better support common use cases,
such as stream concatenation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[210] l-any-document ::=
    l-directive-document
  | l-explicit-document
  | l-bare-document
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[211] l-yaml-stream ::=
  l-document-prefix* l-any-document?
  ( l-document-suffix+ l-document-prefix* l-any-document?
  | l-document-prefix* l-explicit-document? )*
</code></pre></div></div>

<p><strong>Example 9.6. Stream</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>`Document`
`---
# Empty`
...
%YAML 1.2
---
matches %: 20
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Legend:
   `[l-any-document](#l-any-document)`
   `[l-document-suffix](#l-document-suffix)`
   [l-explicit-document](#l-explicit-document)

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!str "Document"
...
%YAML 1.2
---
!!null ""
...
%YAML 1.2
---
!!map {
  !!str "matches %": !!int "20"
}
</code></pre></div></div>

<p>A sequence of bytes is a <em>well-formed stream</em> if, taken as a whole, it complies
with the above <strong><code class="language-plaintext highlighter-rouge">l-yaml-stream</code></strong> production.</p>

<p>Some common use case that can take advantage of the YAML stream structure are:</p>

<p>Appending to Streams</p>

<p>Allowing multiple <a href="#document//">documents</a> in a single stream makes YAML
suitable for log files and similar <a href="#application//">applications</a>.
Note that each <a href="#document//">document</a> is independent of the rest, allowing for
heterogeneous log file entries.</p>

<p>Concatenating Streams</p>

<p>Concatenating two YAML streams requires both to use the same <a href="#character encoding//">character
encoding</a>.
In addition, it is necessary to separate the last <a href="#document//">document</a> of
the first stream and the first <a href="#document//">document</a> of the second stream.
This is easily ensured by inserting a <a href="#marker/document
end/">document end marker</a> between the two streams.
Note that this is safe regardless of the content of either stream.
In particular, either or both may be empty, and the first stream may or may not
already contain such a marker.</p>

<p>Communication Streams</p>

<p>The <a href="#marker/document end/">document end marker</a> allows signaling the end of a
<a href="#document//">document</a> without closing the stream or starting the next
<a href="#document//">document</a>.
This allows the receiver to complete processing a <a href="#document//">document</a>
without having to wait for the next one to arrive.
The sender may also transmit “keep-alive” messages in the form of
<a href="#comment//">comment</a> lines or repeated <a href="#marker/document
end/">document end markers</a> without signalling the start of the next <a href="#document//">document</a>.</p>

<h1 id="chapter10recommended-schemas">Chapter 10. Recommended Schemas</h1>

<p>A YAML <em>schema</em> is a combination of a set of <a href="#tag//">tags</a> and a mechanism for
<a href="#tag/resolution/">resolving</a> <a href="#tag/non-specific/">non-specific tags</a>.</p>

<h2 id="101failsafe-schema">10.1. Failsafe Schema</h2>

<p>The <em>failsafe schema</em> is guaranteed to work with any YAML
<a href="#document//">document</a>.
It is therefore the recommended <a href="#schema//">schema</a> for generic YAML tools.
A YAML <a href="#processor//">processor</a> should therefore support this
<a href="#schema//">schema</a>, at least as an option.</p>

<h3 id="1011tags">10.1.1. Tags</h3>

<h4 id="10111generic-mapping">10.1.1.1. Generic Mapping</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong></p>

<p>Kind:</p>

<p><a href="#mapping//">Mapping</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> an associative container, where each <a href="#key//">key</a>
is <a href="#equality//">unique</a> in the association and mapped to exactly one
<a href="#value//">value</a>.
YAML places no restrictions on the type of <a href="#key//">keys</a>; in particular, they
are not restricted to being <a href="#scalar//">scalars</a>.
Example <a href="#construct//">bindings</a> to <a href="#native data structure//">native</a> types
include Perl’s hash, Python’s dictionary, and Java’s Hashtable.</p>

<p>Equality:</p>

<p>Two mappings are <a href="#equality//">equal</a> if and only if they are
<a href="#identity//">identical</a>.</p>

<p><strong>Example 10.1. <code class="language-plaintext highlighter-rouge">!!map</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Block style: !!map
  Clark : Evans
  Ingy  : döt Net
  Oren  : Ben-Kiki

Flow style: !!map { Clark: Evans, Ingy: döt Net, Oren: Ben-Kiki }
</code></pre></div></div>

<h4 id="10112generic-sequence">10.1.1.2. Generic Sequence</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong></p>

<p>Kind:</p>

<p><a href="#sequence//">Sequence</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> a collection indexed by sequential integers starting
with zero.
Example <a href="#construct//">bindings</a> to <a href="#native data structure//">native</a> types
include Perl’s array, Python’s list or tuple, and Java’s array or Vector.</p>

<p>Equality:</p>

<p>Two sequences are <a href="#equality//">equal</a> if and only if they are
<a href="#identity//">identical</a>.</p>

<p><strong>Example 10.2. <code class="language-plaintext highlighter-rouge">!!seq</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Block style: !!seq
- Clark Evans
- Ingy döt Net
- Oren Ben-Kiki

Flow style: !!seq [ Clark Evans, Ingy döt Net, Oren Ben-Kiki ]
</code></pre></div></div>

<h4 id="10113generic-string">10.1.1.3. Generic String</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong></p>

<p>Kind:</p>

<p><a href="#scalar//">Scalar</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> a Unicode string, a sequence of zero or more Unicode
characters.
This type is usually <a href="#construct//">bound</a> to the <a href="#native data
structure//">native</a> language’s string type, or, for languages lacking one (such as C),
to a character array.</p>

<p>Equality:</p>

<p>Two strings are <a href="#equality//">equal</a> if and only if they have the same length
and contain the same characters in the same order.</p>

<p>Canonical Form:</p>

<p>The obvious.</p>

<p><strong>Example 10.3. <code class="language-plaintext highlighter-rouge">!!str</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>String: !!str "Just a theory."
</code></pre></div></div>

<h3 id="1012tag-resolution">10.1.2. Tag Resolution</h3>

<p>All <a href="#node//">nodes</a> with the <a href="#! tag indicator/!
non-specific tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>” non-specific tag</a> are <a href="#tag/resolution/">resolved</a>, by the standard
<a href="#tag/resolution/convention">convention</a>, to “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>”,
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>”, or “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong>”, according to
their <a href="#kind//">kind</a>.</p>

<p>All <a href="#node//">nodes</a> with the <a href="#? non-specific
tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific tag</a> are left <a href="#tag/resolution/">unresolved</a>.
This constrains the <a href="#application//">application</a> to deal with a <a href="#representation/partial/">partial
representation</a>.</p>

<h2 id="102json-schema">10.2. JSON Schema</h2>

<p>The <em>JSON schema</em> is the lowest common denominator of most modern computer
languages, and allows <a href="#parse//">parsing</a> JSON files.
A YAML <a href="#processor//">processor</a> should therefore support this
<a href="#schema//">schema</a>, at least as an option.
It is also strongly recommended that other <a href="#schema//">schemas</a> should be based
on it.</p>

<h3 id="1021tags">10.2.1. Tags</h3>

<p>The JSON <a href="#schema//">schema</a> uses the following <a href="#tag//">tags</a> in addition to
those defined by the <a href="#schema/failsafe/">failsafe</a> schema:</p>

<h4 id="10211null">10.2.1.1. Null</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:null</code></strong></p>

<p>Kind:</p>

<p><a href="#scalar//">Scalar</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> the lack of a value.
This is typically <a href="#construct//">bound</a> to a <a href="#native data structure//">native</a>
null-like value (e.g., <strong><code class="language-plaintext highlighter-rouge">undef</code></strong> in Perl, <strong><code class="language-plaintext highlighter-rouge">None</code></strong> in Python).
Note that a null is different from an empty string.
Also, a <a href="#mapping//">mapping</a> entry with some <a href="#key//">key</a> and a null
<a href="#value//">value</a> is valid, and different from not having that <a href="#key//">key</a> in
the <a href="#mapping//">mapping</a>.</p>

<p>Equality:</p>

<p>All <strong><code class="language-plaintext highlighter-rouge">null</code></strong> values are <a href="#equality//">equal</a>.</p>

<p>Canonical Form:</p>

<p><strong><code class="language-plaintext highlighter-rouge">null</code></strong>.</p>

<p><strong>Example 10.4. <code class="language-plaintext highlighter-rouge">!!null</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!!null null: value for null key
key with null value: !!null null
</code></pre></div></div>

<h4 id="10212boolean">10.2.1.2. Boolean</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:bool</code></strong></p>

<p>Kind:</p>

<p><a href="#scalar//">Scalar</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> a true/false value.
In languages without a <a href="#native data structure//">native</a> Boolean type (such as
C), is usually <a href="#construct//">bound</a> to a native integer type, using one for
true and zero for false.</p>

<p>Equality:</p>

<p>All <strong><code class="language-plaintext highlighter-rouge">true</code></strong> values are <a href="#equality//">equal</a>.
Similarly, all <strong><code class="language-plaintext highlighter-rouge">false</code></strong> values are <a href="#equality//">equal</a>.</p>

<p>Canonical Form:</p>

<p>Either <strong><code class="language-plaintext highlighter-rouge">true</code></strong> or <strong><code class="language-plaintext highlighter-rouge">false</code></strong>.</p>

<p><strong>Example 10.5. <code class="language-plaintext highlighter-rouge">!!bool</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>YAML is a superset of JSON: !!bool true
Pluto is a planet: !!bool false
</code></pre></div></div>

<h4 id="10213integer">10.2.1.3. Integer</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:int</code></strong></p>

<p>Kind:</p>

<p><a href="#scalar//">Scalar</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> arbitrary sized finite mathematical integers.
Scalars of this type should be <a href="#construct//">bound</a> to a <a href="#native data
structure//">native</a> integer data type, if possible.</p>

<p>Some languages (such as Perl) provide only a “number” type that allows for both
integer and floating-point values.
A YAML <a href="#processor//">processor</a> may use such a type for integers, as long as
they round-trip properly.</p>

<p>In some languages (such as C), an integer may overflow the <a href="#native
data structure//">native</a> type’s storage capability.
A YAML <a href="#processor//">processor</a> may reject such a value as an error, truncate
it with a warning, or find some other manner to round-trip it.
In general, integers representable using 32 binary digits should safely
round-trip through most systems.</p>

<p>Equality:</p>

<p>An integer value is <a href="#equality//">equal</a> to any other numeric value that
evaluates to the integer value.
For example, the integer <strong><code class="language-plaintext highlighter-rouge">1</code></strong> is equal to the floating-point <strong><code class="language-plaintext highlighter-rouge">1.0</code></strong>.</p>

<p>Canonical Form:</p>

<p>Decimal integer notation, with a leading “<strong><code class="language-plaintext highlighter-rouge">-</code></strong>” character for negative
values, matching the regular expression <strong><code class="language-plaintext highlighter-rouge">0 | -? [1-9] [0-9]*</code></strong></p>

<p><strong>Example 10.6. <code class="language-plaintext highlighter-rouge">!!int</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>negative: !!int -12
zero: !!int 0
positive: !!int 34
</code></pre></div></div>

<h4 id="10214floating-point">10.2.1.4. Floating Point</h4>

<p>URI:</p>

<p><strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:float</code></strong></p>

<p>Kind:</p>

<p><a href="#scalar//">Scalar</a>.</p>

<p>Definition:</p>

<p><a href="#represent//">Represents</a> an approximation to real numbers, including three
special values (positive and negative infinity, and “not a number”).</p>

<p>Some languages (such as Perl) provide only a “number” type that allows for both
integer and floating-point values.
A YAML <a href="#processor//">processor</a> may use such a type for floating-point
numbers, as long as they round-trip properly.</p>

<p>Not all floating-point values can be stored exactly in any given
<a href="#native data structure//">native</a> type.
Hence a float value may change by “a small amount” when round-tripped.
The supported range and accuracy depends on the implementation, though 32 bit
IEEE floats should be safe.
Since YAML does not specify a particular accuracy, using floating-point
<a href="#key//">mapping keys</a> requires great care and is not recommended.</p>

<p>Equality:</p>

<p>A floating-point value is <a href="#equality//">equal</a> to any other numeric value that
evaluates to the floating-point value.
For example, floating-point <strong><code class="language-plaintext highlighter-rouge">1.0</code></strong> is <a href="#equality//">equal</a> to the the
integer <strong><code class="language-plaintext highlighter-rouge">1</code></strong>.
Note that for the purpose of <a href="#key//">key</a> <a href="#equality//">uniqueness</a>, all
<strong><code class="language-plaintext highlighter-rouge">.nan</code></strong> values are considered to be <a href="#equality//">equal</a>.
Note that in some languages (such as Ruby and Python) “not a number” has
<a href="#identity//">identity</a> semantics and therefore is not properly
<a href="#representation//">represented</a> in YAML as <strong><code class="language-plaintext highlighter-rouge">!!float .nan</code></strong>.</p>

<p>Canonical Form:</p>

<p>Either <strong><code class="language-plaintext highlighter-rouge">0</code></strong>, <strong><code class="language-plaintext highlighter-rouge">.inf</code></strong>, <strong><code class="language-plaintext highlighter-rouge">-.inf</code></strong>, <strong><code class="language-plaintext highlighter-rouge">.nan</code></strong>, or scientific notation
matching the regular expression
<strong><code class="language-plaintext highlighter-rouge">-? [1-9] ( \. [0-9]* [1-9] )? ( e [-+] [1-9] [0-9]* )?</code></strong>.</p>

<p><strong>Example 10.7. <code class="language-plaintext highlighter-rouge">!!float</code> Examples</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>negative: !!float -1
zero: !!float 0
positive: !!float 2.3e4
infinity: !!float .inf
not a number: !!float .nan
</code></pre></div></div>

<h3 id="1022tag-resolution">10.2.2. Tag Resolution</h3>

<p>The <a href="#schema/JSON/">JSON schema</a> <a href="#tag/resolution/">tag resolution</a> is an
extension of the <a href="#schema/failsafe/">failsafe schema</a> <a href="#tag/resolution/">tag
resolution</a>.</p>

<p>All <a href="#node//">nodes</a> with the <a href="#! tag indicator/!
non-specific tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>” non-specific tag</a> are <a href="#tag/resolution/">resolved</a>, by the standard
<a href="#tag/resolution/convention">convention</a>, to “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>”,
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>”, or “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong>”, according to
their <a href="#kind//">kind</a>.</p>

<p><a href="#collection//">Collections</a> with the <a href="#?
non-specific tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific tag</a> (that is, <a href="#tag/non-specific/">untagged</a>
<a href="#collection//">collections</a>) are <a href="#tag/resolution/">resolved</a> to
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>” or “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>” according to
their <a href="#kind//">kind</a>.</p>

<p><a href="#scalar//">Scalars</a> with the <a href="#? non-specific
tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific tag</a> (that is, <a href="#style/flow/plain">plain scalars</a>) are matched with a list of
regular expressions (first match wins, e.g. <strong><code class="language-plaintext highlighter-rouge">0</code></strong> is resolved as <strong><code class="language-plaintext highlighter-rouge">!!int</code></strong>).
In principle, JSON files should not contain any <a href="#scalar//">scalars</a> that do
not match at least one of these.
Hence the YAML <a href="#processor//">processor</a> should consider them to be an error.</p>

<table>
  <thead>
    <tr>
      <th>Regular expression</th>
      <th>Resolved to tag</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>null</td>
      <td>tag:yaml.org,2002:null</td>
      <td> </td>
    </tr>
    <tr>
      <td>true </td>
      <td> false</td>
      <td>tag:yaml.org,2002:bool</td>
    </tr>
    <tr>
      <td>-? ( 0 </td>
      <td> [1-9] [0-9]* )</td>
      <td>tag:yaml.org,2002:int</td>
    </tr>
    <tr>
      <td>-? ( 0 </td>
      <td> [1-9] [0-9]<em> ) ( . [0-9]</em> )? ( [eE] [-+]? [0-9]+ )?</td>
      <td>tag:yaml.org,2002:float</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Error</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p><strong>Example 10.8. JSON Tag Resolution</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A null: null
Booleans: [ true, false ]
Integers: [ 0, -0, 3, -19 ]
Floats: [ 0., -0.0, 12e03, -2E+05 ]
Invalid: [ True, Null, 0o7, 0x3A, +12.3 ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  !!str "A null" : !!null "null",
  !!str "Booleans: !!seq [
    !!bool "true", !!bool "false"
  ],
  !!str "Integers": !!seq [
    !!int "0", !!int "-0",
    !!int "3", !!int "-19"
  ],
  !!str "Floats": !!seq [
    !!float "0.", !!float "-0.0",
    !!float "12e03", !!float "-2E+05"
  ],
  !!str "Invalid": !!seq [
    # Rejected by the schema
    True, Null, 0o7, 0x3A, +12.3,
  ],
}
...
</code></pre></div></div>

<h2 id="103core-schema">10.3. Core Schema</h2>

<p>The <em>Core schema</em> is an extension of the <a href="#schema/JSON/">JSON schema</a>, allowing
for more human-readable <a href="#present//">presentation</a> of the same types.
This is the recommended default <a href="#schema//">schema</a> that YAML
<a href="#processor//">processor</a> should use unless instructed otherwise.
It is also strongly recommended that other <a href="#schema//">schemas</a> should be based
on it.</p>

<h3 id="1031tags">10.3.1. Tags</h3>

<p>The core <a href="#schema//">schema</a> uses the same <a href="#tag//">tags</a> as the <a href="#schema/JSON/">JSON
schema</a>.</p>

<h3 id="1032tag-resolution">10.3.2. Tag Resolution</h3>

<p>The <a href="#schema/core/">core schema</a> <a href="#tag/resolution/">tag resolution</a> is an
extension of the <a href="#schema/JSON/">JSON schema</a> <a href="#tag/resolution/">tag
resolution</a>.</p>

<p>All <a href="#node//">nodes</a> with the <a href="#! tag indicator/!
non-specific tag/">“<strong><code class="language-plaintext highlighter-rouge">!</code></strong>” non-specific tag</a> are <a href="#tag/resolution/">resolved</a>, by the standard
<a href="#tag/resolution/convention">convention</a>, to “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>”,
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>”, or “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong>”, according to
their <a href="#kind//">kind</a>.</p>

<p><a href="#collection//">Collections</a> with the <a href="#?
non-specific tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific tag</a> (that is, <a href="#tag/non-specific/">untagged</a>
<a href="#collection//">collections</a>) are <a href="#tag/resolution/">resolved</a> to
“<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:seq</code></strong>” or “<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:map</code></strong>” according to
their <a href="#kind//">kind</a>.</p>

<p><a href="#scalar//">Scalars</a> with the <a href="#? non-specific
tag//">“<strong><code class="language-plaintext highlighter-rouge">?</code></strong>” non-specific tag</a> (that is, <a href="#style/flow/plain">plain scalars</a>) are matched with an
extended list of regular expressions.
However, in this case, if none of the regular expressions matches, the
<a href="#scalar//">scalar</a> is <a href="#tag/resolution/">resolved</a> to
<strong><code class="language-plaintext highlighter-rouge">tag:yaml.org,2002:str</code></strong> (that is, considered to be a string).</p>

<table>
  <thead>
    <tr>
      <th>Regular expression</th>
      <th>Resolved to tag</th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>null </td>
      <td> Null </td>
      <td> NULL </td>
      <td> ~</td>
      <td>tag:yaml.org,2002:null</td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>/<em> Empty </em>/</td>
      <td>tag:yaml.org,2002:null</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>true </td>
      <td> True </td>
      <td> TRUE </td>
      <td> false </td>
      <td> False </td>
      <td> FALSE</td>
      <td>tag:yaml.org,2002:bool</td>
    </tr>
    <tr>
      <td>[-+]? [0-9]+</td>
      <td>tag:yaml.org,2002:int (Base 10)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>0o [0-7]+</td>
      <td>tag:yaml.org,2002:int (Base 8)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>0x [0-9a-fA-F]+</td>
      <td>tag:yaml.org,2002:int (Base 16)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>[-+]? ( . [0-9]+ </td>
      <td> [0-9]+ ( . [0-9]* )? ) ( [eE] [-+]? [0-9]+ )?</td>
      <td>tag:yaml.org,2002:float (Number)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>[-+]? ( .inf </td>
      <td> .Inf </td>
      <td> .INF )</td>
      <td>tag:yaml.org,2002:float (Infinity)</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>.nan </td>
      <td> .NaN </td>
      <td> .NAN</td>
      <td>tag:yaml.org,2002:float (Not a number)</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>*</td>
      <td>tag:yaml.org,2002:str (Default)</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p><strong>Example 10.9. Core Tag Resolution</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A null: null
Also a null: # Empty
Not a null: ""
Booleans: [ true, True, false, FALSE ]
Integers: [ 0, 0o7, 0x3A, -19 ]
Floats: [ 0., -0.0, .5, +12e03, -2E+05 ]
Also floats: [ .inf, -.Inf, +.INF, .NAN ]
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%YAML 1.2
---
!!map {
  !!str "A null" : !!null "null",
  !!str "Also a null" : !!null "",
  !!str "Not a null" : !!str "",
  !!str "Booleans: !!seq [
    !!bool "true", !!bool "True",
    !!bool "false", !!bool "FALSE",
  ],
  !!str "Integers": !!seq [
    !!int "0", !!int "0o7",
    !!int "0x3A", !!int "-19",
  ],
  !!str "Floats": !!seq [
    !!float "0.", !!float "-0.0", !!float ".5",
    !!float "+12e03", !!float "-2E+05"
  ],
  !!str "Also floats": !!seq [
    !!float ".inf", !!float "-.Inf",
    !!float "+.INF", !!float ".NAN",
  ],
}
...
</code></pre></div></div>

<h2 id="104other-schemas">10.4. Other Schemas</h2>

<p>None of the above recommended <a href="#schema//">schemas</a> preclude the use of
arbitrary explicit <a href="#tag//">tags</a>.
Hence YAML <a href="#processor//">processors</a> for a particular programming language
typically provide some form of <a href="#tag/local/">local tags</a> that map directly to
the language’s <a href="#native data structure//">native data structures</a> (e.g.,
<strong><code class="language-plaintext highlighter-rouge">!ruby/object:Set</code></strong>).</p>

<p>While such <a href="#tag/local/">local tags</a> are useful for ad-hoc
<a href="#application//">applications</a>, they do not suffice for stable, interoperable
cross-<a href="#application//">application</a> or cross-platform data exchange.</p>

<p>Interoperable <a href="#schema//">schemas</a> make use of <a href="#tag/global/">global tags</a>
(URIs) that <a href="#represent//">represent</a> the same data across different
programming languages.
In addition, an interoperable <a href="#schema//">schema</a> may provide additional <a href="#tag/resolution/">tag
resolution</a> rules.
Such rules may provide additional regular expressions, as well as consider the
path to the <a href="#node//">node</a>.
This allows interoperable <a href="#schema//">schemas</a> to use
<a href="#tag/non-specific/">untagged</a> <a href="#node//">nodes</a>.</p>

<p>It is strongly recommended that such <a href="#schema//">schemas</a> be based on the <a href="#schema/core/">core
schema</a> defined above.
In addition, it is strongly recommended that such <a href="#schema//">schemas</a> make as
much use as possible of the the <em>YAML tag repository</em> at
<a href="http://yaml.org/type/">http://yaml.org/type/</a>.
This repository provides recommended <a href="#tag/global/">global tags</a> for increasing
the portability of YAML <a href="#document//">documents</a> between different
<a href="#application//">applications</a>.</p>

<p>The tag repository is intentionally left out of the scope of this specification.
This allows it to evolve to better support YAML <a href="#application//">applications</a>.
Hence, developers are encouraged to submit new “universal” types to the
repository.
The yaml-core mailing list at
<a href="http://lists.sourceforg
e.net/lists/listinfo/yaml-core">http://lists.sourceforge.net/lists/listinfo/yaml-core</a> is the preferred method for such submissions,
as well as raising any questions regarding this draft.</p>

<h1 id="index">Index</h1>

<p><strong>Indicators</strong></p>

<p>! tag indicator, <a href="#idm786">Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6461">Node Tags</a></p>

<p>! local tag, <a href="#idm1620">Tags</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6270">Tag
Prefixes</a>, <a href="#idm6461">Node Tags</a></p>

<p>! non-specific tag, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm11057">Tag
Resolution</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag
Resolution</a></p>

<p>! primary tag handle, <a href="#idm6064">Tag Handles</a></p>

<p>!! secondary tag handle, <a href="#idm6064">Tag Handles</a></p>

<p>!…! named handle, <a href="#idm6064">Tag Handles</a>, <a href="#idm6461">Node Tags</a></p>

<p>” double-quoted style, <a href="#idm3570">Indicator Characters</a>, <a href="#idm7210">Double-Quoted Style</a></p>

<p># comment, <a href="#idm406">Collections</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm5481">Comments</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8865">Block Indentation Indicator</a></p>

<p>% directive, <a href="#idm3570">Indicator Characters</a>, <a href="#idm5738">Directives</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm10520">Bare Documents</a></p>

<p>% escaping in URI, <a href="#idm1620">Tags</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a></p>

<p>&amp; anchor, <a href="#idm531">Structures</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6842">Node Anchors</a></p>

<p>’ reserved indicator, <a href="#idm3570">Indicator Characters</a></p>

<p>’ single-quoted style, <a href="#idm3570">Indicator Characters</a>, <a href="#idm7447">Single-Quoted Style</a></p>

<p>* alias, <a href="#idm531">Structures</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6989">Alias Nodes</a></p>

<p>+ keep chomping, <a href="#idm8990">Block Chomping Indicator</a></p>

<p>, end flow entry, <a href="#idm406">Collections</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm7932">Flow Collection Styles</a>, <a href="#idm7993">Flow Sequences</a>, <a href="#idm8114">Flow Mappings</a></p>

<p>- block sequence entry, <a href="#Introduction">Introduction</a>, <a href="#idm406">Collections</a>, <a href="#idm531">Structures</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm9640">Block Collection Styles</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm10091">Block Nodes</a></p>

<dl>
  <dt>- strip chomping, <a href="#idm8990">Block Chomping Indicator</a></dt>
  <dd>
    <p>mapping value, <a href="#Introduction">Introduction</a>, <a href="#idm406">Collections</a>, <a href="#idm531">Structures</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a></p>
  </dd>
</dl>

<p>&lt;…&gt; verbatim tag, <a href="#idm6461">Node Tags</a></p>

<p>&gt; folded style, <a href="#idm656">Scalars</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm9400">Folded Style</a></p>

<p>? mapping key, <a href="#idm531">Structures</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a></p>

<p>? non-specific tag, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm11057">Tag Resolution</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a></p>

<p>@ reserved indicator, <a href="#idm3570">Indicator Characters</a></p>

<p>[ start flow sequence, <a href="#idm406">Collections</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm7993">Flow Sequences</a></p>

<p>\ escaping in double-quoted scalars, <a href="#idm4551">Escaped Characters</a>, <a href="#idm7210">Double-Quoted Style</a></p>

<p>] end flow sequence, <a href="#idm406">Collections</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm7993">Flow Sequences</a></p>

<p>{ start flow mapping, <a href="#idm406">Collections</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a></p>

<table>
  <tbody>
    <tr>
      <td>literal style, <a href="#idm656">Scalars</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm9265">Literal Style</a></td>
    </tr>
  </tbody>
</table>

<p>} end flow mapping, <a href="#idm406">Collections</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a></p>

<p><strong>A</strong></p>

<p>alias, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2524">Well-Formed Streams and Identified Aliases</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6842">Node Anchors</a>, <a href="#Flow">Flow Styles</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm8623">Flow Nodes</a></p>

<p>identified, <a href="#idm531">Structures</a>, <a href="#idm2042">Anchors and Aliases</a>,
<a href="#idm2524">Well-Formed Streams and Identified Aliases</a></p>

<p>unidentified, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2524">Well-Formed Streams and
Identified Aliases</a></p>

<p>anchor, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2524">Well-Formed Streams and Identified Aliases</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6397">Node Properties</a>, <a href="#Flow">Flow Styles</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm8623">Flow Nodes</a></p>

<p>application, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm786">Tags</a>, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1059">Dump</a>, <a href="#idm1384">Information Models</a>, <a href="#idm1620">Tags</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2940">Available Tags</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm10693">Streams</a>, <a href="#idm11057">Tag Resolution</a>, <a href="#idm11801">Other Schemas</a></p>

<p><strong>B</strong></p>

<p>block scalar header, <a href="#idm5481">Comments</a>, <a href="#idm8804">Block Scalar Headers</a>, <a href="#idm8990">Block Chomping Indicator</a></p>

<p>byte order mark, <a href="#idm3338">Character Encodings</a>, <a href="#idm10327">Document Prefix</a></p>

<p><strong>C</strong></p>

<p>character encoding, <a href="#idm3338">Character Encodings</a>, <a href="#idm10327">Document Prefix</a>, <a href="#idm10693">Streams</a></p>

<p>in URI, <a href="#idm4386">Miscellaneous Characters</a></p>

<p>chomping, <a href="#idm3014">Production Parameters</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm9265">Literal Style</a>, <a href="#idm9400">Folded Style</a></p>

<p>clip, <a href="#idm3014">Production Parameters</a>, <a href="#idm8990">Block Chomping Indicator</a></p>

<p>keep, <a href="#idm3014">Production Parameters</a>, <a href="#idm8990">Block Chomping Indicator</a></p>

<p>strip, <a href="#idm3014">Production Parameters</a>, <a href="#idm8990">Block Chomping Indicator</a></p>

<p>collection, <a href="#idm141">Prior Art</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2341">Comments</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a></p>

<p>comment, <a href="#idm406">Collections</a>, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2341">Comments</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm5481">Comments</a>, <a href="#idm5659">Separation Lines</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8804">Block Scalar Headers</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm10327">Document Prefix</a>, <a href="#idm10693">Streams</a></p>

<p>compose, <a href="#idm1002">Processes</a>, <a href="#idm1263">Load</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm2940">Available Tags</a>, <a href="#idm6842">Node Anchors</a></p>

<p>construct, <a href="#idm1002">Processes</a>, <a href="#idm1263">Load</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm2940">Available Tags</a>, <a href="#Flow">Flow Styles</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm10943">Generic Sequence</a>, <a href="#idm11000">Generic String</a>, <a href="#idm11140">Null</a>, <a href="#idm11216">Boolean</a>, <a href="#idm11280">Integer</a></p>

<p>content, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5106">Line Prefixes</a>, <a href="#idm5197">Empty Lines</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm5481">Comments</a>, <a href="#idm5738">Directives</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6397">Node Properties</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm7075">Empty Nodes</a>, <a href="#idm7165">Flow Scalar Styles</a>, <a href="#idm7210">Double-Quoted Style</a>, <a href="#idm7447">Single-Quoted Style</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8804">Block Scalar Headers</a>, <a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm9265">Literal Style</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm10520">Bare Documents</a></p>

<p>valid, <a href="#idm2858">Recognized and Valid Tags</a></p>

<p>context, <a href="#idm3014">Production Parameters</a>, <a href="#idm7632">Plain Style</a></p>

<p>block-in, <a href="#idm3014">Production Parameters</a>, <a href="#idm10091">Block Nodes</a></p>

<p>block-key, <a href="#idm3014">Production Parameters</a>, <a href="#idm7932">Flow Collection
Styles</a></p>

<p>block-out, <a href="#idm3014">Production Parameters</a>, <a href="#idm10091">Block Nodes</a></p>

<p>flow-in, <a href="#idm3014">Production Parameters</a>, <a href="#idm7932">Flow Collection Styles</a></p>

<p>flow-key, <a href="#idm3014">Production Parameters</a>, <a href="#idm7932">Flow Collection Styles</a></p>

<p>flow-out, <a href="#idm3014">Production Parameters</a>, <a href="#idm7932">Flow Collection Styles</a></p>

<p><strong>D</strong></p>

<p>directive, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2369">Directives</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm5738">Directives</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm10520">Bare Documents</a>, <a href="#idm10601">Explicit Documents</a>, <a href="#idm10655">Directives Documents</a></p>

<p>reserved, <a href="#idm2369">Directives</a>, <a href="#idm5738">Directives</a></p>

<p>TAG, <a href="#idm1620">Tags</a>, <a href="#idm2369">Directives</a>, <a href="#idm3570">Indicator
Characters</a>, <a href="#idm5738">Directives</a>, <a href="#idm5971">“TAG” Directives</a>,
<a href="#idm6461">Node Tags</a></p>

<p>YAML, <a href="#idm2369">Directives</a>, <a href="#idm5738">Directives</a>, <a href="#idm5841">“YAML”
Directives</a></p>

<p>document, <a href="#idm141">Prior Art</a>, <a href="#idm531">Structures</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2369">Directives</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm5841">“YAML” Directives</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm10317">Documents</a>, <a href="#idm10327">Document Prefix</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm10601">Explicit Documents</a>, <a href="#idm10693">Streams</a>, <a href="#idm10850">Failsafe Schema</a>, <a href="#idm11801">Other Schemas</a></p>

<p>bare, <a href="#idm10520">Bare Documents</a></p>

<p>directives, <a href="#idm10655">Directives Documents</a></p>

<p>explicit, <a href="#idm10601">Explicit Documents</a></p>

<p>prefix, <a href="#idm10327">Document Prefix</a></p>

<p>suffix, <a href="#idm10381">Document Markers</a></p>

<p>dump, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a></p>

<p><strong>E</strong></p>

<p>empty line, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm5197">Empty Lines</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm9265">Literal Style</a>, <a href="#idm9400">Folded Style</a></p>

<p>equality, <a href="#idm318">Relation to JSON</a>, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm10943">Generic Sequence</a>, <a href="#idm11000">Generic String</a>, <a href="#idm11140">Null</a>, <a href="#idm11216">Boolean</a>, <a href="#idm11280">Integer</a>, <a href="#idm11355">Floating Point</a></p>

<p>escaping</p>

<p>in double-quoted scalars, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm3255">Character
Set</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4386">Miscellaneous
Characters</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm7210">Double-Quoted
Style</a></p>

<p>in single-quoted scalars, <a href="#idm7447">Single-Quoted Style</a></p>

<p>in URIs, <a href="#idm4386">Miscellaneous Characters</a></p>

<p>non-content line break, <a href="#idm7210">Double-Quoted Style</a></p>

<p><strong>I</strong></p>

<p>identity, <a href="#idm1720">Node Comparison</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm10943">Generic Sequence</a>, <a href="#idm11355">Floating Point</a></p>

<p>indicator, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm406">Collections</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm8623">Flow Nodes</a>, <a href="#Block">Block Styles</a>, <a href="#idm8804">Block Scalar Headers</a>, <a href="#idm9640">Block Collection Styles</a></p>

<p>indentation, <a href="#idm8865">Block Indentation Indicator</a></p>

<p>reserved, <a href="#idm3570">Indicator Characters</a></p>

<p>information model, <a href="#idm1384">Information Models</a></p>

<p>invalid content, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2858">Recognized and Valid Tags</a></p>

<p><strong>J</strong></p>

<p>JSON compatibility, <a href="#idm3255">Character Set</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm5481">Comments</a>, <a href="#idm5841">“YAML” Directives</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a></p>

<p>JSON-like, <a href="#idm8114">Flow Mappings</a>, <a href="#idm8623">Flow Nodes</a></p>

<p><strong>K</strong></p>

<p>key, <a href="#idm318">Relation to JSON</a>, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1384">Information Models</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm11140">Null</a>, <a href="#idm11355">Floating Point</a></p>

<p>implicit, <a href="#idm5659">Separation Lines</a>, <a href="#idm7210">Double-Quoted Style</a>,
<a href="#idm7447">Single-Quoted Style</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm7932">Flow Collection
Styles</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a>,
<a href="#idm10091">Block Nodes</a></p>

<p>order, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information
Models</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm1978">Keys Order</a></p>

<p>key: value pair, <a href="#Introduction">Introduction</a>, <a href="#idm406">Collections</a>, <a href="#idm531">Structures</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9640">Block Collection Styles</a>, <a href="#idm9826">Block Mappings</a></p>

<p>kind, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm11057">Tag Resolution</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a></p>

<p><strong>L</strong></p>

<p>line break, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm3178">Production Naming Conventions</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm4316">White Space Characters</a>, <a href="#idm5197">Empty Lines</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm5481">Comments</a>, <a href="#idm7210">Double-Quoted Style</a>, <a href="#idm8804">Block Scalar Headers</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm9265">Literal Style</a>, <a href="#idm9400">Folded Style</a></p>

<p>non-ASCII, <a href="#idm4188">Line Break Characters</a>, <a href="#idm5841">“YAML” Directives</a></p>

<p>normalization, <a href="#idm4188">Line Break Characters</a>, <a href="#idm9265">Literal Style</a></p>

<p>line folding, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm5242">Line Folding</a>, <a href="#Flow">Flow Styles</a>, <a href="#idm7210">Double-Quoted Style</a>, <a href="#idm7447">Single-Quoted Style</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm9400">Folded Style</a></p>

<p>block, <a href="#idm5242">Line Folding</a>, <a href="#idm9400">Folded Style</a></p>

<p>flow, <a href="#idm5242">Line Folding</a>, <a href="#idm7210">Double-Quoted Style</a></p>

<p>line prefix, <a href="#idm5106">Line Prefixes</a>, <a href="#idm5197">Empty Lines</a></p>

<p>load, <a href="#idm1002">Processes</a>, <a href="#idm1263">Load</a>, <a href="#idm2408">Loading Failure Points</a></p>

<p>failure point, <a href="#idm1263">Load</a>, <a href="#idm2408">Loading Failure Points</a></p>

<p><strong>M</strong></p>

<p>mapping, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm318">Relation to JSON</a>, <a href="#idm406">Collections</a>, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm7993">Flow Sequences</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm11140">Null</a></p>

<p>marker, <a href="#idm2106">Presentation Stream</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm10520">Bare Documents</a>, <a href="#idm10601">Explicit Documents</a>, <a href="#idm10693">Streams</a></p>

<p>directives end, <a href="#idm531">Structures</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm10601">Explicit
Documents</a>, <a href="#idm10655">Directives Documents</a>, <a href="#idm10693">Streams</a></p>

<p>document end, <a href="#idm531">Structures</a>, <a href="#idm10381">Document Markers</a>,
<a href="#idm10693">Streams</a></p>

<p>more-indented, <a href="#idm656">Scalars</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm9400">Folded Style</a></p>

<p><strong>N</strong></p>

<p>native data structure, <a href="#Introduction">Introduction</a>, <a href="#idm127">Goals</a>, <a href="#idm141">Prior Art</a>, <a href="#idm318">Relation to JSON</a>, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm2940">Available Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#Flow">Flow Styles</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm10943">Generic Sequence</a>, <a href="#idm11000">Generic String</a>, <a href="#idm11140">Null</a>, <a href="#idm11216">Boolean</a>, <a href="#idm11280">Integer</a>, <a href="#idm11355">Floating Point</a>, <a href="#idm11801">Other Schemas</a></p>

<p>need not, <a href="#idm357">Terminology</a></p>

<p>node, <a href="#idm531">Structures</a>, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2341">Comments</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2524">Well-Formed Streams and Identified Aliases</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#Syntax">Syntax Conventions</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm6397">Node Properties</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm7075">Empty Nodes</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm8623">Flow Nodes</a>, <a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm10520">Bare Documents</a>, <a href="#idm11057">Tag Resolution</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a>, <a href="#idm11801">Other Schemas</a></p>

<p>completely empty, <a href="#idm7075">Empty Nodes</a>, <a href="#idm7932">Flow Collection Styles</a>,
<a href="#idm8114">Flow Mappings</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm10601">Explicit
Documents</a></p>

<p>property, <a href="#idm6397">Node Properties</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm7075">Empty
Nodes</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm8623">Flow Nodes</a>, <a href="#idm9663">Block
Sequences</a>, <a href="#idm9826">Block Mappings</a>, <a href="#idm10091">Block Nodes</a></p>

<p>root, <a href="#idm1469">Representation Graph</a>, <a href="#idm2564">Resolved Tags</a></p>

<p><strong>P</strong></p>

<p>parse, <a href="#idm1263">Load</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a>, <a href="#idm10091">Block Nodes</a>, <a href="#idm10381">Document Markers</a>, <a href="#idm11107">JSON Schema</a></p>

<p>present, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm3255">Character Set</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6989">Alias Nodes</a>, <a href="#idm9826">Block Mappings</a>, <a href="#idm11590">Core Schema</a></p>

<p>presentation, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1384">Information Models</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm3014">Production Parameters</a></p>

<p>detail, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information Models</a>,
<a href="#idm2106">Presentation Stream</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2300">Scalar
Formats</a>, <a href="#idm2341">Comments</a>, <a href="#idm2369">Directives</a>, <a href="#idm2564">Resolved
Tags</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4188">Line Break
Characters</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm4883">Indentation
Spaces</a>, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5106">Line Prefixes</a>,
<a href="#idm5242">Line Folding</a>, <a href="#idm5481">Comments</a>, <a href="#idm5738">Directives</a>, <a href="#idm6064">Tag
Handles</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm7165">Flow Scalar Styles</a>,
<a href="#idm8990">Block Chomping Indicator</a></p>

<p>printable character, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm3255">Character Set</a>, <a href="#idm4316">White Space Characters</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm7447">Single-Quoted Style</a>, <a href="#idm9265">Literal Style</a></p>

<p>processor, <a href="#idm357">Terminology</a>, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1059">Dump</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2369">Directives</a>, <a href="#idm2524">Well-Formed Streams and Identified Aliases</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm2940">Available Tags</a>, <a href="#idm3255">Character Set</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm5481">Comments</a>, <a href="#idm5738">Directives</a>, <a href="#idm5841">“YAML” Directives</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm10850">Failsafe Schema</a>, <a href="#idm11107">JSON Schema</a>, <a href="#idm11280">Integer</a>, <a href="#idm11355">Floating Point</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11590">Core Schema</a>, <a href="#idm11801">Other Schemas</a></p>

<p><strong>R</strong></p>

<p>represent, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm1059">Dump</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm10943">Generic Sequence</a>, <a href="#idm11000">Generic String</a>, <a href="#idm11140">Null</a>, <a href="#idm11216">Boolean</a>, <a href="#idm11280">Integer</a>, <a href="#idm11355">Floating Point</a>, <a href="#idm11801">Other Schemas</a></p>

<p>representation, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information Models</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2341">Comments</a>, <a href="#idm2369">Directives</a>, <a href="#idm2940">Available Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm11355">Floating Point</a></p>

<p>complete, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a>,
<a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm2940">Available Tags</a></p>

<p>partial, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a>,
<a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm11057">Tag Resolution</a></p>

<p>required, <a href="#idm357">Terminology</a></p>

<p><strong>S</strong></p>

<p>scalar, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2341">Comments</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm4188">Line Break Characters</a>, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5106">Line Prefixes</a>, <a href="#idm5481">Comments</a>, <a href="#idm7075">Empty Nodes</a>, <a href="#idm8990">Block Chomping Indicator</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm11000">Generic String</a>, <a href="#idm11140">Null</a>, <a href="#idm11216">Boolean</a>, <a href="#idm11280">Integer</a>, <a href="#idm11355">Floating Point</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a></p>

<p>canonical form, <a href="#idm141">Prior Art</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node
Comparison</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2408">Loading Failure
Points</a></p>

<p>content format, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node
Comparison</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2300">Scalar
Formats</a>, <a href="#idm2408">Loading Failure Points</a></p>

<p>schema, <a href="#Schema">Recommended Schemas</a>, <a href="#idm10850">Failsafe Schema</a>, <a href="#idm11107">JSON Schema</a>, <a href="#idm11127">Tags</a>, <a href="#idm11590">Core Schema</a>, <a href="#idm11614">Tags</a>, <a href="#idm11801">Other Schemas</a></p>

<p>core, <a href="#idm11590">Core Schema</a>, <a href="#idm11627">Tag Resolution</a>, <a href="#idm11801">Other
Schemas</a></p>

<p>failsafe, <a href="#idm786">Tags</a>, <a href="#idm10850">Failsafe Schema</a>, <a href="#idm11127">Tags</a>,
<a href="#idm11448">Tag Resolution</a></p>

<p>JSON, <a href="#idm786">Tags</a>, <a href="#idm11107">JSON Schema</a>, <a href="#idm11448">Tag Resolution</a>,
<a href="#idm11590">Core Schema</a>, <a href="#idm11614">Tags</a>, <a href="#idm11627">Tag Resolution</a></p>

<p>sequence, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm10943">Generic Sequence</a></p>

<p>serialization, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information Models</a>, <a href="#idm1931">Serialization Tree</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2341">Comments</a>, <a href="#idm2369">Directives</a>, <a href="#idm6842">Node Anchors</a></p>

<p>detail, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information Models</a>,
<a href="#idm1978">Keys Order</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm6842">Node
Anchors</a></p>

<p>serialize, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>, <a href="#idm318">Relation to JSON</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1978">Keys Order</a>, <a href="#idm2042">Anchors and Aliases</a>, <a href="#idm6989">Alias Nodes</a></p>

<p>shall, <a href="#idm357">Terminology</a></p>

<p>space, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm4316">White Space Characters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm7447">Single-Quoted Style</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm9400">Folded Style</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm10091">Block Nodes</a>, <a href="#idm10520">Bare Documents</a></p>

<p>indentation, <a href="#Introduction">Introduction</a>, <a href="#idm141">Prior Art</a>,
<a href="#idm406">Collections</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information
Models</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2564">Resolved Tags</a>,
<a href="#idm3014">Production Parameters</a>, <a href="#idm3178">Production Naming Conventions</a>,
<a href="#idm4883">Indentation Spaces</a>, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5106">Line
Prefixes</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm5481">Comments</a>,
<a href="#idm5659">Separation Lines</a>, <a href="#idm5738">Directives</a>, <a href="#Block">Block Styles</a>,
<a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm8990">Block Chomping Indicator</a>,
<a href="#idm9265">Literal Style</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm10091">Block
Nodes</a>, <a href="#idm10520">Bare Documents</a></p>

<p>separation, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5481">Comments</a>, <a href="#idm8114">Flow
Mappings</a>, <a href="#idm9663">Block Sequences</a></p>

<p>white, <a href="#idm3178">Production Naming Conventions</a>, <a href="#idm4316">White Space
Characters</a>, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5106">Line
Prefixes</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm5481">Comments</a>,
<a href="#idm7210">Double-Quoted Style</a>, <a href="#idm7447">Single-Quoted Style</a>, <a href="#idm7632">Plain
Style</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9265">Literal Style</a>, <a href="#idm9400">Folded
Style</a>, <a href="#idm9663">Block Sequences</a></p>

<p>stream, <a href="#idm141">Prior Art</a>, <a href="#Processing">Processing YAML Information</a>, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2524">Well-Formed Streams and Identified Aliases</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#Syntax">Syntax Conventions</a>, <a href="#idm3255">Character Set</a>, <a href="#idm3338">Character Encodings</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm5481">Comments</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm7075">Empty Nodes</a>, <a href="#idm10317">Documents</a>, <a href="#idm10693">Streams</a></p>

<p>ill-formed, <a href="#idm1263">Load</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2524">Well-Formed
Streams and Identified Aliases</a></p>

<p>well-formed, <a href="#idm2524">Well-Formed Streams and Identified Aliases</a>,
<a href="#idm10693">Streams</a></p>

<p>style, <a href="#idm1059">Dump</a>, <a href="#idm1263">Load</a>, <a href="#idm1384">Information Models</a>, <a href="#idm2106">Presentation Stream</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm7210">Double-Quoted Style</a>, <a href="#idm7632">Plain Style</a></p>

<p>block, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node Styles</a>,
<a href="#idm3014">Production Parameters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#Block">Block
Styles</a>, <a href="#idm9663">Block Sequences</a></p>

<p>collection, <a href="#idm406">Collections</a>, <a href="#idm531">Structures</a>, <a href="#idm4883">Indentation
Spaces</a>, <a href="#idm7932">Flow Collection Styles</a>, <a href="#idm9640">Block Collection
Styles</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm10091">Block Nodes</a></p>

<p>folded, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm3570">Indicator
Characters</a>, <a href="#idm5242">Line Folding</a>, <a href="#idm8785">Block Scalar
Styles</a>, <a href="#idm9265">Literal Style</a>, <a href="#idm9400">Folded Style</a></p>

<p>literal, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node Styles</a>,
<a href="#idm3570">Indicator Characters</a>, <a href="#idm8785">Block Scalar Styles</a>, <a href="#idm9265">Literal
Style</a>, <a href="#idm9400">Folded Style</a></p>

<p>mapping, <a href="#idm2176">Node Styles</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm9826">Block
Mappings</a>, <a href="#idm10091">Block Nodes</a></p>

<p>scalar, <a href="#idm2176">Node Styles</a>, <a href="#idm8785">Block Scalar Styles</a>, <a href="#idm8804">Block Scalar
Headers</a>, <a href="#idm8865">Block Indentation Indicator</a>, <a href="#idm8990">Block Chomping
Indicator</a></p>

<p>sequence, <a href="#idm406">Collections</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm3014">Production
Parameters</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm9663">Block
Sequences</a>, <a href="#idm9826">Block Mappings</a>, <a href="#idm10091">Block Nodes</a></p>

<p>compact block collection, <a href="#idm2176">Node Styles</a>, <a href="#idm9663">Block Sequences</a>,
<a href="#idm9826">Block Mappings</a></p>

<p>flow, <a href="#idm141">Prior Art</a>, <a href="#idm406">Collections</a>, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node
Styles</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm5242">Line Folding</a>,
<a href="#Flow">Flow Styles</a>, <a href="#idm7993">Flow Sequences</a>, <a href="#idm8623">Flow Nodes</a>,
<a href="#idm10091">Block Nodes</a></p>

<p>collection, <a href="#Syntax">Syntax Conventions</a>, <a href="#idm3014">Production Parameters</a>,
<a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6461">Node
Tags</a>, <a href="#idm6842">Node Anchors</a>, <a href="#idm7632">Plain Style</a>, <a href="#idm7932">Flow
Collection Styles</a></p>

<p>double-quoted, <a href="#idm141">Prior Art</a>, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node
Styles</a>, <a href="#Syntax">Syntax Conventions</a>, <a href="#idm3255">Character Set</a>,
<a href="#idm3338">Character Encodings</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4551">Escaped
Characters</a>, <a href="#idm7165">Flow Scalar Styles</a>, <a href="#idm7210">Double-Quoted
Style</a>, <a href="#idm8623">Flow Nodes</a></p>

<p>mapping, <a href="#idm406">Collections</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm3014">Production
Parameters</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm8114">Flow
Mappings</a>, <a href="#idm9826">Block Mappings</a></p>

<p>plain, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm2564">Resolved Tags</a>,
<a href="#idm3014">Production Parameters</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6461">Node
Tags</a>, <a href="#idm7075">Empty Nodes</a>, <a href="#idm7165">Flow Scalar Styles</a>,
<a href="#idm7632">Plain Style</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm8623">Flow Nodes</a>,
<a href="#idm9640">Block Collection Styles</a>, <a href="#idm9663">Block Sequences</a>, <a href="#idm9826">Block
Mappings</a>, <a href="#idm10091">Block Nodes</a>, <a href="#idm10381">Document Markers</a>,
<a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a></p>

<p>scalar, <a href="#idm656">Scalars</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm5106">Line Prefixes</a>,
<a href="#idm5242">Line Folding</a>, <a href="#idm7165">Flow Scalar Styles</a></p>

<p>sequence, <a href="#idm406">Collections</a>, <a href="#idm2176">Node Styles</a>, <a href="#idm3570">Indicator
Characters</a>, <a href="#idm7993">Flow Sequences</a>, <a href="#idm8114">Flow Mappings</a></p>

<p>single-quoted, <a href="#idm2176">Node Styles</a>, <a href="#idm3014">Production Parameters</a>,
<a href="#idm3570">Indicator Characters</a>, <a href="#idm7165">Flow Scalar Styles</a>,
<a href="#idm7447">Single-Quoted Style</a></p>

<p>scalar, <a href="#idm2176">Node Styles</a>, <a href="#idm4551">Escaped Characters</a>, <a href="#idm5197">Empty
Lines</a>, <a href="#idm7165">Flow Scalar Styles</a>, <a href="#idm9265">Literal Style</a></p>

<p>single key:value pair mapping, <a href="#idm1978">Keys Order</a>, <a href="#idm2176">Node Styles</a>,
<a href="#idm7993">Flow Sequences</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block
Mappings</a></p>

<p><strong>T</strong></p>

<p>tab, <a href="#idm141">Prior Art</a>, <a href="#idm3255">Character Set</a>, <a href="#idm4316">White Space Characters</a>, <a href="#idm4883">Indentation Spaces</a>, <a href="#idm5049">Separation Spaces</a>, <a href="#idm5106">Line Prefixes</a>, <a href="#idm8865">Block Indentation Indicator</a></p>

<p>tag, <a href="#idm141">Prior Art</a>, <a href="#idm786">Tags</a>, <a href="#idm1059">Dump</a>, <a href="#idm1469">Representation Graph</a>, <a href="#idm1550">Nodes</a>, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2300">Scalar Formats</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm2858">Recognized and Valid Tags</a>, <a href="#idm2940">Available Tags</a>, <a href="#Syntax">Syntax Conventions</a>, <a href="#idm3014">Production Parameters</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm5971">“TAG” Directives</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm6397">Node Properties</a>, <a href="#idm6461">Node Tags</a>, <a href="#Flow">Flow Styles</a>, <a href="#Schema">Recommended Schemas</a>, <a href="#idm11127">Tags</a>, <a href="#idm11614">Tags</a>, <a href="#idm11801">Other Schemas</a></p>

<p>available, <a href="#idm2940">Available Tags</a></p>

<p>global, <a href="#idm141">Prior Art</a>, <a href="#idm786">Tags</a>, <a href="#idm1059">Dump</a>,
<a href="#idm1620">Tags</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6270">Tag
Prefixes</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm11801">Other Schemas</a></p>

<p>handle, <a href="#idm786">Tags</a>, <a href="#idm1002">Processes</a>, <a href="#idm1059">Dump</a>, <a href="#idm3570">Indicator
Characters</a>, <a href="#idm5971">“TAG” Directives</a>, <a href="#idm6064">Tag Handles</a>,
<a href="#idm6270">Tag Prefixes</a>, <a href="#idm6461">Node Tags</a></p>

<p>named, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6461">Node
Tags</a></p>

<p>primary, <a href="#idm6064">Tag Handles</a></p>

<p>secondary, <a href="#idm6064">Tag Handles</a></p>

<p>local, <a href="#idm141">Prior Art</a>, <a href="#idm786">Tags</a>, <a href="#idm1059">Dump</a>,
<a href="#idm1620">Tags</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>,
<a href="#idm6064">Tag Handles</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm6461">Node Tags</a>,
<a href="#idm11801">Other Schemas</a></p>

<p>non-specific, <a href="#idm786">Tags</a>, <a href="#idm1059">Dump</a>, <a href="#idm1720">Node Comparison</a>,
<a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator
Characters</a>, <a href="#idm6461">Node Tags</a>, <a href="#Schema">Recommended Schemas</a>,
<a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag Resolution</a>, <a href="#idm11801">Other
Schemas</a></p>

<p>prefix, <a href="#idm5971">“TAG” Directives</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm6461">Node
Tags</a></p>

<p>property, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm6461">Node
Tags</a></p>

<p>recognized, <a href="#idm2858">Recognized and Valid Tags</a></p>

<p>repository, <a href="#idm786">Tags</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm11801">Other
Schemas</a></p>

<p>bool, <a href="#idm11216">Boolean</a></p>

<p>float, <a href="#idm786">Tags</a>, <a href="#idm11355">Floating Point</a></p>

<p>int, <a href="#idm786">Tags</a>, <a href="#idm11280">Integer</a></p>

<p>map, <a href="#idm786">Tags</a>, <a href="#idm10872">Generic Mapping</a></p>

<p>null, <a href="#idm786">Tags</a>, <a href="#idm7075">Empty Nodes</a>, <a href="#idm11140">Null</a></p>

<p>seq, <a href="#idm786">Tags</a>, <a href="#idm10943">Generic Sequence</a></p>

<p>str, <a href="#idm786">Tags</a>, <a href="#idm11000">Generic String</a></p>

<p>resolution, <a href="#idm1620">Tags</a>, <a href="#idm1720">Node Comparison</a>, <a href="#idm2408">Loading Failure
Points</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm7165">Flow
Scalar Styles</a>, <a href="#Schema">Recommended Schemas</a>, <a href="#idm11057">Tag
Resolution</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag
Resolution</a>, <a href="#idm11801">Other Schemas</a></p>

<p>convention, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a>, <a href="#idm11057">Tag
Resolution</a>, <a href="#idm11448">Tag Resolution</a>, <a href="#idm11627">Tag
Resolution</a></p>

<p>shorthand, <a href="#idm786">Tags</a>, <a href="#idm4386">Miscellaneous Characters</a>, <a href="#idm5971">“TAG”
Directives</a>, <a href="#idm6064">Tag Handles</a>, <a href="#idm6270">Tag Prefixes</a>, <a href="#idm6461">Node
Tags</a></p>

<p>specific, <a href="#idm2564">Resolved Tags</a>, <a href="#idm6461">Node Tags</a></p>

<p>unavailable, <a href="#idm1263">Load</a>, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2940">Available
Tags</a></p>

<p>unrecognized, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2858">Recognized and Valid
Tags</a></p>

<p>unresolved, <a href="#idm2408">Loading Failure Points</a>, <a href="#idm2564">Resolved Tags</a></p>

<p>verbatim, <a href="#idm6461">Node Tags</a></p>

<p>trimming, <a href="#idm5242">Line Folding</a></p>

<p><strong>V</strong></p>

<p>value, <a href="#idm1059">Dump</a>, <a href="#idm1550">Nodes</a>, <a href="#idm2564">Resolved Tags</a>, <a href="#idm3570">Indicator Characters</a>, <a href="#idm8114">Flow Mappings</a>, <a href="#idm9826">Block Mappings</a>, <a href="#idm10872">Generic Mapping</a>, <a href="#idm11140">Null</a></p>

<p><strong>Y</strong></p>

<p>YAML 1.1 processing, <a href="#idm4188">Line Break Characters</a>, <a href="#idm5841">“YAML” Directives</a></p>


</section></div></main>
</body>

</html>

