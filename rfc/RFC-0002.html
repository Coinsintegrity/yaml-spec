<!DOCTYPE html>
<html lang="en-US">

<head>
<meta http-equiv="Content-Type"
      content="text/html; charset=UTF-8" />
<title>YAML™ Ain’t Markup Language — Version 1.x</title>

<link rel="stylesheet"
      type="text/css"
      href="/assets/css/style.css" />

<link rel="stylesheet"
      type="text/css"
      href="/spec.css" />
</head>

<body>
<main id="content" class="main-content" role="main">
<div class="wrapper">
<section>

<h2 id="problem">Problem</h2>

<p>YAML supports two document markers, <code class="language-plaintext highlighter-rouge">---</code> and <code class="language-plaintext highlighter-rouge">...</code>.
Their roles and usage is not entirely clear.
The YAML 1.2 spec refers to these as the “directives end” and the “document
end” markers or indicators.
The YAML 1.1 spec referred to <code class="language-plaintext highlighter-rouge">---</code> as the “document start” marker.</p>

<h2 id="proposal">Proposal</h2>

<p>The “directives end” marker should be renamed back to “document start”, and be
explicitly required when starting any document after the first in a stream.
The “document end” marker would continue to be optional, and useful far more
rarely:</p>

<ul>
  <li>When needing to include directives between documents.</li>
  <li>Explicitly ending a document in a persistent stream.</li>
</ul>

<h2 id="explanation">Explanation</h2>

<p>The <code class="language-plaintext highlighter-rouge">...</code> (document end) indicator was originally proposed to explicitly end a
document in a streaming operation in situations where the next document might
take too much time to appear.
The next document, starting with <code class="language-plaintext highlighter-rouge">---</code>, would effectively end the previous
document, in the absence of the document end indicator.</p>

<p>Later on, it was noted that in the presence of <code class="language-plaintext highlighter-rouge">...</code>, the <code class="language-plaintext highlighter-rouge">---</code> for the next
document was not really needed.
This, in turn, led to the renaming of <code class="language-plaintext highlighter-rouge">---</code> to “directives end” which while
possibly technically correct, obsured the true meaning and purpose of <code class="language-plaintext highlighter-rouge">---</code>.</p>

<p>This proposal and its related ones, bring back the original meaning to the
indicators, require the start indicator to start a subsequent document, and
make a clear distinction between stream-related content and document-related
content.</p>

<p>OK:</p>

<pre>
doc: 1
---
doc: 2
...
%TAG ! !foo/
--- !bar
doc: 3
</pre>

<p>Error:</p>

<pre>
doc: 1
...
doc: 2
</pre>


</section>
</div>
</main>

<script>
for (const c of document.querySelectorAll('code > code')) {
  c.parentElement.classList.add('container');
}
</script>

</body>

</html>
